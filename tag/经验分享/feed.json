{
    "version": "https://jsonfeed.org/version/1",
    "title": "ouuan's blog: 标签: 经验分享",
    "home_page_url": "https://ouuan.moe/tag/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB",
    "feed_url": "https://ouuan.moe/tag/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/feed.json",
    "description": "标签: 经验分享 - ouuan 的博客。",
    "author": {
        "name": "ouuan",
        "url": "https://github.com/ouuan"
    },
    "items": [
        {
            "id": "https://ouuan.moe/post/2024/10/i3-multi-monitor",
            "content_html": "<p>之前我以为大家用多屏都是因为没有 tiling window manager 不会切屏<span class=\"mojikumi-line-end\">，</span>用了才知道竖屏好<span class=\"mojikumi-line-start\">（</span></p>\n\n<p>但两个横屏的话确实就那样吧<span class=\"mojikumi-line-start\">（</span>其实之前看室友也基本上就用一个屏幕然后另一个放壁纸<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">，</span>请买旋转升降支架<span class=\"mojikumi-line-end\">，</span><s>学习使用 tiling window manager<span class=\"mojikumi-line-start\">（</span></s></p>\n<h2 id=\"xrandr-屏幕布局配置\" class=\"heading\"><a href=\"#xrandr-屏幕布局配置\" class=\"heading-anchor\" aria-label=\"章节： xrandr 屏幕布局配置\" tabindex=\"-1\"></a><span>xrandr 屏幕布局配置</span></h2>\n<p>可以使用 arandr 在 GUI 中调整屏幕布局<span class=\"mojikumi-line-end\">，</span>设置坐标和方向比较方便<span class=\"mojikumi-line-end\">，</span>但它调不了帧率之类的<span class=\"mojikumi-line-end\">，</span>可以保存为脚本之后手动修改<span class=\"mojikumi-line-end\">，</span>在相应的 <code>--output HDMI-0</code> 之后加上 <code>--rate 120</code> 就行<span class=\"mojikumi-line-end\">。</span></p>\n<p>我配置了 vertical<span class=\"mojikumi-line-end\">、</span>horizontal<span class=\"mojikumi-line-end\">、</span>single 三种模式<span class=\"mojikumi-line-end\">，</span>用脚本切换<span class=\"mojikumi-line-end\">：</span></p>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h3 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"Shell 代码块\" data-v-c675dba6>Shell</h3><ile-root id=\"ile-1\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-1--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #989FB1\">#!/bin/bash</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">set</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">-euo</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">pipefail</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">hdmi</span><span style=\"color: #994CC3\">=</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">HDMI-0</span><span style=\"color: #111111\">&quot;</span></span>\n<span></span>\n<span><span style=\"color: #994CC3\">if</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">xrandr</span><span style=\"color: #403F53\"> </span><span style=\"color: #0C969B\">|</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">grep</span><span style=\"color: #403F53\"> </span><span style=\"color: #111111\">&quot;</span><span style=\"color: #4876D6\">$hdmi</span><span style=\"color: #C96765\"> connected 1080x1920</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #403F53\">; </span><span style=\"color: #994CC3\">then</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #989FB1\"># already vertical, switch to horizontal</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">&quot;$HOME&quot;</span><span style=\"color: #4876D6\">/.screenlayout/horizontal.sh</span></span>\n<span><span style=\"color: #994CC3\">elif</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">xrandr</span><span style=\"color: #403F53\"> </span><span style=\"color: #0C969B\">|</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">grep</span><span style=\"color: #403F53\"> </span><span style=\"color: #111111\">&quot;</span><span style=\"color: #4876D6\">$hdmi</span><span style=\"color: #C96765\"> connected</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #403F53\">; </span><span style=\"color: #994CC3\">then</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #989FB1\"># startup or currently horizontal, switch to vertical</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">&quot;$HOME&quot;</span><span style=\"color: #4876D6\">/.screenlayout/vertical.sh</span></span>\n<span><span style=\"color: #994CC3\">else</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #989FB1\"># HDMI not connected, switch to single</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">&quot;$HOME&quot;</span><span style=\"color: #4876D6\">/.screenlayout/single.sh</span></span>\n<span><span style=\"color: #994CC3\">fi</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #637777\">#!/bin/bash</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">set</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #82AAFF\">-euo</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #ECC48D\">pipefail</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">hdmi</span><span style=\"color: #C792EA\">=</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">HDMI-0</span><span style=\"color: #D9F5DD\">&quot;</span></span>\n<span></span>\n<span><span style=\"color: #C792EA\">if</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #82AAFF\">xrandr</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #7FDBCA\">|</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #82AAFF\">grep</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #C5E478\">$hdmi</span><span style=\"color: #ECC48D\"> connected 1080x1920</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #D6DEEB\">; </span><span style=\"color: #C792EA\">then</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #637777\"># already vertical, switch to horizontal</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #82AAFF\">&quot;</span><span style=\"color: #C5E478\">$HOME</span><span style=\"color: #82AAFF\">&quot;</span><span style=\"color: #82AAFF\">/.screenlayout/horizontal.sh</span></span>\n<span><span style=\"color: #C792EA\">elif</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #82AAFF\">xrandr</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #7FDBCA\">|</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #82AAFF\">grep</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #C5E478\">$hdmi</span><span style=\"color: #ECC48D\"> connected</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #D6DEEB\">; </span><span style=\"color: #C792EA\">then</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #637777\"># startup or currently horizontal, switch to vertical</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #82AAFF\">&quot;</span><span style=\"color: #C5E478\">$HOME</span><span style=\"color: #82AAFF\">&quot;</span><span style=\"color: #82AAFF\">/.screenlayout/vertical.sh</span></span>\n<span><span style=\"color: #C792EA\">else</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #637777\"># HDMI not connected, switch to single</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #82AAFF\">&quot;</span><span style=\"color: #C5E478\">$HOME</span><span style=\"color: #82AAFF\">&quot;</span><span style=\"color: #82AAFF\">/.screenlayout/single.sh</span></span>\n<span><span style=\"color: #C792EA\">fi</span></span></code></pre></div></section>\n<p>在启动时调用脚本进行初始化<span class=\"mojikumi-line-end\">，</span>在 i3 中可以配置快捷键调用脚本切换布局<span class=\"mojikumi-line-end\">。</span></p>\n<h2 id=\"i3-多显示器配置\" class=\"heading\"><a href=\"#i3-多显示器配置\" class=\"heading-anchor\" aria-label=\"章节： i3 多显示器配置\" tabindex=\"-1\"></a><span>i3 多显示器配置</span></h2>\n<p>可以参考 <a href=\"https://i3wm.org/docs/userguide.html#multi_monitor\">Multiple monitors - i3 User<span class=\"mojikumi-narrow-left\">’</span>s Guide</a> 的说明<span class=\"mojikumi-line-end\">。</span>配置中用 <code>primary</code> / <code>nonprimary</code> 会比直接写具体的显示器名称更加通用<span class=\"mojikumi-line-end\">，</span>需要在 <code>xrandr</code> 配置中设置 <code>--primary</code><span class=\"mojikumi-line-end\">。</span></p>\n<p>默认给各个显示器分配 workspace<span class=\"mojikumi-line-end\">：</span><code>workspace $ws1 output primary</code><span class=\"mojikumi-line-end\">、</span><code>workspace $ws2 output nonprimary</code><span class=\"mojikumi-line-end\">。</span></p>\n<p>bar 可以只在一个显示器显示<span class=\"mojikumi-line-start\">（</span><code>bar { output primary }</code><span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">，</span>或者在每个显示器都显示<span class=\"mojikumi-line-end\">，</span>配置托盘图标显示在哪<span class=\"mojikumi-line-end\">：</span><code>bar<wbr> { <wbr>tray_output<wbr> <wbr>primary<wbr> }</code><span class=\"mojikumi-line-end\">。</span></p>\n<p>绑快捷键<span class=\"mojikumi-line-end\">：</span></p>\n<ul>\n<li>focus 到另一个显示器<span class=\"mojikumi-line-end\">：</span><code>focus output next</code></li>\n<li>移动当前 workspace 到另一个显示器<span class=\"mojikumi-line-end\">：</span><code>move workspace to output next</code></li>\n</ul>\n<p>我之前一直设的 <code>workspace_<wbr>auto_<wbr>back_<wbr>and_<wbr>forth<wbr> <wbr>yes</code><span class=\"mojikumi-line-start\">（</span>切换 workspace 时如果目标就是当前所在的 workspace<span class=\"mojikumi-line-end\">，</span>就会回到之前所在的 workspace<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">，</span>但是之前就觉得有时候会有些混乱<span class=\"mojikumi-line-end\">，</span>在多显示器时更是容易搞不清当前在哪个 workspace<span class=\"mojikumi-line-end\">，</span>所以把它关了<span class=\"mojikumi-line-end\">。</span></p>\n<h2 id=\"picom-高亮当前窗口\" class=\"heading\"><a href=\"#picom-高亮当前窗口\" class=\"heading-anchor\" aria-label=\"章节： picom 高亮当前窗口\" tabindex=\"-1\"></a><span>picom 高亮当前窗口</span></h2>\n<p>即使是单显示器<span class=\"mojikumi-line-end\">，</span>高亮当前窗口也是有用的<span class=\"mojikumi-line-end\">，</span>多显示器时尤其有用<span class=\"mojikumi-line-end\">，</span>有助于提示当前在哪个显示器<span class=\"mojikumi-line-end\">。</span></p>\n<p>旧版 picom 使用 <code>inactive<wbr>-<wbr>dim</code> 选项<span class=\"mojikumi-line-end\">，</span>现在推荐使用更加灵活的 window rule<span class=\"mojikumi-line-end\">：</span></p>\n<section class=\"code-block relative my-6 shadow\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h3 class=\"text-3 text-footer\" aria-label=\"plain text 代码块\" data-v-c675dba6>plain text</h3><ile-root id=\"ile-2\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-2--></div><div class=\"dark:hidden\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><samp><span><span style=\"color: #403f53\">rules = (</span></span>\n<span><span style=\"color: #403f53\">    { match = &quot;window_type = &#39;normal&#39; &amp;&amp; window_type != &#39;popup_menu&#39; &amp;&amp; !_NET_WM_STATE &amp;&amp; !(focused || group_focused)&quot;; dim = 0.2; },</span></span>\n<span><span style=\"color: #403f53\">)</span></span></samp></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><samp><span><span style=\"color: #d6deeb\">rules = (</span></span>\n<span><span style=\"color: #d6deeb\">    { match = &quot;window_type = &#39;normal&#39; &amp;&amp; window_type != &#39;popup_menu&#39; &amp;&amp; !_NET_WM_STATE &amp;&amp; !(focused || group_focused)&quot;; dim = 0.2; },</span></span>\n<span><span style=\"color: #d6deeb\">)</span></span></samp></pre></div></section>\n<p><span class=\"mojikumi-line-start\">（</span>这里 <code>window_type<wbr> != '<wbr>popup_menu<wbr>'</code> 主要是为了 konsole 的菜单<span class=\"mojikumi-line-end\">，</span>它同时是 <code>popup_menu</code> 和 <code>normal</code><span class=\"mojikumi-line-end\">；</span><code>_<wbr>NET_<wbr>WM_<wbr>STATE</code> 主要是为了 <code>rofi</code><span class=\"mojikumi-line-end\">，</span>它没设 window type<span class=\"mojikumi-line-end\">，</span>但有 <code>_<wbr>NET_<wbr>WM_<wbr>STATE_<wbr>ABOVE</code><span class=\"mojikumi\">。</span><span class=\"mojikumi-line-end\">）</span></p>\n<h2 id=\"调整-dpi-修复字体和光标大小\" class=\"heading\"><a href=\"#调整-dpi-修复字体和光标大小\" class=\"heading-anchor\" aria-label=\"章节： 调整 DPI 修复字体和光标大小\" tabindex=\"-1\"></a><span>调整 DPI 修复字体和光标大小</span></h2>\n<p>由于不同显示器 DPI 不同<span class=\"mojikumi-line-end\">，</span>字体大小之类的可能出问题<span class=\"mojikumi-line-end\">。</span></p>\n<p>在 Xorg 启动后<span class=\"mojikumi-line-end\">、</span>i3 启动前<span class=\"mojikumi-line-end\">，</span>使用 <code>xrandr --dpi</code> 调整 DPI 可以改变 i3 窗口标题和 bar 的字体大小<span class=\"mojikumi-line-end\">，</span>例如 <code>xrandr --dpi 144</code> / <code>xrandr --dpi DP-2</code><span class=\"mojikumi-line-end\">。</span></p>\n<p>调整 DPI 似乎并不能修复光标大小<span class=\"mojikumi-line-end\">，</span>可以在 <code>~/.<wbr>Xresources</code> 中设置 <code>Xcursor<wbr>.<wbr>size<wbr>: <wbr>24</code><span class=\"mojikumi-line-end\">，</span>然后在启动时加载 <code>xrdb<wbr> -<wbr>merge<wbr> ~/.<wbr>Xresources</code><span class=\"mojikumi-line-end\">。</span><sup><a href=\"#user-content-fn-xcursor-size\" id=\"user-content-fnref-xcursor-size\" data-footnote-ref aria-describedby=\"footnote-label\">1</a></sup></p>\n<p>fcitx5 会根据各个屏幕的 DPI 分别调整字体大小<span class=\"mojikumi-line-end\">，</span>可以在 classic user interface 的设置中禁用 <span class=\"mojikumi\">“</span>use per screen DPI<span class=\"mojikumi\">”</span><span class=\"mojikumi-line-end\">。</span></p>\n<h2 id=\"i3lock-布局配置\" class=\"heading\"><a href=\"#i3lock-布局配置\" class=\"heading-anchor\" aria-label=\"章节： i3lock 布局配置\" tabindex=\"-1\"></a><span>i3lock 布局配置</span></h2>\n<p>position 是基于整个 screen 而非单个 display<span class=\"mojikumi-line-end\">，</span>所以需要分别加上 <code>x</code> 和 <code>y</code><span class=\"mojikumi-line-end\">：</span></p>\n<blockquote>\n<ul>\n<li>\n<p><code>x</code> - x position of the current display.\nCorresponds to the leftmost column of pixels on that display.</p>\n</li>\n<li>\n<p><code>y</code> - y position of the current display.\nCorresponds to the topmost row of pixels on that display.</p>\n</li>\n</ul>\n</blockquote>\n<p>坐标计算可以基于 <code>w</code> 和 <code>h</code> 来同时适配横屏和竖屏<span class=\"mojikumi-line-end\">，</span>例如<span class=\"mojikumi-line-end\">：</span></p>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h3 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"Shell 代码块\" data-v-c675dba6>Shell</h3><ile-root id=\"ile-3\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-3--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">--ind-pos</span><span style=\"color: #403F53\"> </span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">x+w/2:y+h/2-35</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #403F53\"> </span><span style=\"color: #AA0982\">\\</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">--greeter-pos</span><span style=\"color: #403F53\"> </span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">ix:iy+h/6+160</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #403F53\"> </span><span style=\"color: #AA0982\">\\</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">--time-pos</span><span style=\"color: #403F53\"> </span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">ix:iy+h/8+100</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #403F53\"> </span><span style=\"color: #AA0982\">\\</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #82AAFF\">--ind-pos</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">x+w/2:y+h/2-35</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #F78C6C\">\\</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #82AAFF\">--greeter-pos</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">ix:iy+h/6+160</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #F78C6C\">\\</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #82AAFF\">--time-pos</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">ix:iy+h/8+100</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #F78C6C\">\\</span></span></code></pre></div></section>\n<h2 id=\"背景图片适配修复\" class=\"heading\"><a href=\"#背景图片适配修复\" class=\"heading-anchor\" aria-label=\"章节： 背景图片适配修复\" tabindex=\"-1\"></a><span>背景图片适配修复</span></h2>\n<p>为了同时适配横屏和竖屏<span class=\"mojikumi-line-end\">，</span>如果<span class=\"mojikumi-line-start\">（</span><code>i3lock</code><span class=\"mojikumi-line-end\">、</span><code>konsole</code><span class=\"mojikumi-line-end\">、</span><code>feh</code> 等<span class=\"mojikumi-line-end\">）</span>背景图片是少量元素 + 大片背景<span class=\"mojikumi-line-end\">，</span>可以上下扩展背景编辑成竖屏<span class=\"mojikumi-line-end\">，</span>再用 centered / crop 显示<span class=\"mojikumi-line-end\">，</span>横屏时上下背景被截掉就可以正好显示中间的元素<span class=\"mojikumi-line-end\">。</span>其中 konsole 还可以设置 anchor 的位置<span class=\"mojikumi-line-end\">，</span>就不一定要放正中间<span class=\"mojikumi-line-end\">，</span>例如可以放最下面<span class=\"mojikumi-line-start\">（</span><span class=\"heimu\">我用的背景 <a href=\"https://www.pixiv.net/artworks/78468574\">78468574</a> 就很适合放下面</span><span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">。</span></p>\n<p>屏幕布局<span class=\"mojikumi-line-start\">（</span>旋转方向<span class=\"mojikumi-line-end\">）</span>发生改变时<span class=\"mojikumi-line-end\">，</span>使用 <code>feh</code> 设置的桌面背景可能会乱掉<span class=\"mojikumi-line-end\">，</span>可以在每次布局改变后重新调用 <code>feh</code> 设置背景<span class=\"mojikumi-line-end\">，</span>放在调整屏幕布局的脚本里即可<span class=\"mojikumi-line-end\">；</span>也可以为横竖屏设置不同的背景<span class=\"mojikumi-line-end\">。</span></p>\n<h2 id=\"为不同显示器设置不同壁纸\" class=\"heading\"><a href=\"#为不同显示器设置不同壁纸\" class=\"heading-anchor\" aria-label=\"章节： 为不同显示器设置不同壁纸\" tabindex=\"-1\"></a><span>为不同显示器设置不同壁纸</span></h2>\n<p>给 <code>feh</code> 传多个文件名参数就可以依次为各个显示器设置不同的壁纸<span class=\"mojikumi-line-end\">。</span>使用 <code>xrandr<wbr> --<wbr>listmonitors</code> 查看显示器的顺序<span class=\"mojikumi-line-end\">。</span></p>\n<h2 id=\"禁用-hdmi-音频输出\" class=\"heading\"><a href=\"#禁用-hdmi-音频输出\" class=\"heading-anchor\" aria-label=\"章节： 禁用 HDMI 音频输出\" tabindex=\"-1\"></a><span>禁用 HDMI 音频输出</span></h2>\n<p>在连接到外部显示器后我的 pulseaudio 会自动切换到 HDMI 音频输出<span class=\"mojikumi-line-end\">，</span>手动修改 default sink 也没有用<span class=\"mojikumi-line-end\">，</span>在 xrandr 中禁用 HDMI output 就可以恢复正常<span class=\"mojikumi-line-end\">。</span></p>\n<p>单次修复可以手动在 <code>pavucontrol</code> 的 <span class=\"mojikumi\">“</span>Configuration<span class=\"mojikumi\">”</span> 中将外部输出的 profile 设为 <span class=\"mojikumi\">“</span>Off<span class=\"mojikumi\">”</span><span class=\"mojikumi-line-end\">，</span>自动修复可以在启动时执行 <code>pactl<wbr> <wbr>set<wbr>-<wbr>card<wbr>-<wbr>profile<wbr> &#x3C;<wbr>card<wbr>> <wbr>off</code><span class=\"mojikumi-line-end\">，</span>其中 card 名称可以通过 <code>pactl list cards</code> 得到<span class=\"mojikumi-line-end\">。</span><sup><a href=\"#user-content-fn-pulseaudio-hdmi\" id=\"user-content-fnref-pulseaudio-hdmi\" data-footnote-ref aria-describedby=\"footnote-label\">2</a></sup></p>\n<p>另外还有一种更粗暴的方法是禁用 <code>snd_<wbr>hda_<wbr>codec_<wbr>hdmi</code><span class=\"mojikumi-line-end\">，</span>只不过我这里 blacklist 不管用<span class=\"mojikumi-line-end\">，</span>要执行 <code>rmmod<wbr> -<wbr>f<wbr> <wbr>snd_<wbr>hda_<wbr>codec_<wbr>hdmi</code> 才行<span class=\"mojikumi-line-end\">。</span><sup><a href=\"#user-content-fn-rmmod-hdmi\" id=\"user-content-fnref-rmmod-hdmi\" data-footnote-ref aria-describedby=\"footnote-label\">3</a></sup></p>\n<h2 id=\"限制鼠标跨屏移动\" class=\"heading\"><a href=\"#限制鼠标跨屏移动\" class=\"heading-anchor\" aria-label=\"章节： 限制鼠标跨屏移动\" tabindex=\"-1\"></a><span>限制鼠标跨屏移动</span></h2>\n<p>多显示器时鼠标光标可以通过屏幕边缘在各个显示器之间移动<span class=\"mojikumi-line-end\">，</span>这在一般的 window manager 中是必不可少的功能<span class=\"mojikumi-line-end\">，</span>但在 i3 中就没必要了<span class=\"mojikumi-line-end\">，</span>反而容易带来麻烦<span class=\"mojikumi-line-end\">，</span>导致移动光标到屏幕边缘更加困难<span class=\"mojikumi-line-end\">。</span></p>\n<p>如果将屏幕布局设置为两个显示器角对角只有一个像素相交<span class=\"mojikumi-line-end\">，</span>从一个显示器移动到另一个显示器就只能在这一个像素进行<span class=\"mojikumi-line-end\">，</span>能一定程度上缓解问题<span class=\"mojikumi-line-end\">。</span>但实际上<span class=\"mojikumi-line-end\">，</span>由于光标会卡在屏幕边缘<span class=\"mojikumi-line-end\">，</span>角落的这一个像素其实很容易移动到<span class=\"mojikumi-line-end\">，</span>还是很容易意外滑到另一个显示器<span class=\"mojikumi-line-end\">。</span>另外<span class=\"mojikumi-line-end\">，</span>虽然空出来的大量屏幕空间不会显示出来<span class=\"mojikumi-line-end\">，</span>但仍然会占用显存<span class=\"mojikumi-line-end\">，</span>也可能导致神秘渲染问题<sup><a href=\"#user-content-fn-pointer-barrier\" id=\"user-content-fnref-pointer-barrier\" data-footnote-ref aria-describedby=\"footnote-label\">4</a></sup><span class=\"mojikumi-line-end\">。</span></p>\n<p>更好的解决方法是使用 <code>xpointerbarrier</code><span class=\"mojikumi-line-end\">，</span>可以在 AUR 安装<span class=\"mojikumi-line-end\">，</span>运行 <code>xpointerbarrier<wbr> <wbr>0<wbr> <wbr>0<wbr> <wbr>0<wbr> <wbr>0</code> 即可<span class=\"mojikumi-line-end\">。</span><sup><a href=\"#user-content-fn-pointer-barrier\" id=\"user-content-fnref-pointer-barrier-2\" data-footnote-ref aria-describedby=\"footnote-label\">4</a></sup><span class=\"mojikumi-line-start\">（</span>我实测这个 barrier 并不 100% 靠谱<span class=\"mojikumi-line-end\">，</span>大力多晃几次鼠标可以越过去<span class=\"mojikumi-line-end\">，</span>但实际使用中效果还行<span class=\"mojikumi\">。</span><span class=\"mojikumi-line-end\">）</span></p>\n<p>但 <code>xpointerbarrier</code> 只是限制了光标<span class=\"mojikumi-line-end\">，</span>在 i3 中 focus / move 时依然可以跨屏<span class=\"mojikumi-line-end\">，</span>不会 wrap around<span class=\"mojikumi-line-start\">（</span>循环<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">，</span>设置为对角布局可以解决这个问题<span class=\"mojikumi-line-end\">。</span>对于 focus<span class=\"mojikumi-line-end\">，</span>还有一种办法是设置 <code>focus_<wbr>wrapping<wbr> <wbr>workspace</code> 来避免 focus 到另一个显示器<span class=\"mojikumi-line-end\">，</span>但 move 并没有类似的设置<span class=\"mojikumi-line-end\">，</span>倒是影响不大<span class=\"mojikumi-line-end\">。</span></p>\n<p>只不过<span class=\"mojikumi-line-end\">，</span>如果不设置为对角布局<span class=\"mojikumi-line-end\">，</span>光标跨屏显示可能会令人困惑<span class=\"mojikumi-line-end\">，</span>而且也有小概率不小心越过 barrier<span class=\"mojikumi-line-end\">，</span>所以设置对角布局也有其好处<span class=\"mojikumi-line-start\">（</span>如果不缺显存的话<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">。</span></p>\n<h2 id=\"dunst-通知跟随当前显示器\" class=\"heading\"><a href=\"#dunst-通知跟随当前显示器\" class=\"heading-anchor\" aria-label=\"章节： dunst 通知跟随当前显示器\" tabindex=\"-1\"></a><span>dunst 通知跟随当前显示器</span></h2>\n<p>在 <code>~/.<wbr>config<wbr>/<wbr>dunst<wbr>/<wbr>dunstrc</code> 中可以修改通知显示在哪个显示器<span class=\"mojikumi-line-end\">，</span>其中 <code>follow</code> 选项可以根据当前的 focus 改变通知显示的位置<span class=\"mojikumi-line-end\">。</span></p>\n<section data-footnotes class=\"footnotes\"><h2 class=\"sr-only\" id=\"footnote-label\">Footnotes</h2>\n<ol>\n<li id=\"user-content-fn-xcursor-size\">\n<p><a href=\"https://www.reddit.com/r/i3wm/comments/8ix88z/how_can_i_change_the_mouse_cursor_size/\">How can I change the mouse cursor size : r/i3wm</a> <a href=\"#user-content-fnref-xcursor-size\" data-footnote-backref class=\"data-footnote-backref\" aria-label=\"Back to content\">↩</a></p>\n</li>\n<li id=\"user-content-fn-pulseaudio-hdmi\">\n<p><a href=\"https://askubuntu.com/questions/15497/how-to-remove-nvidia-hdmi-audio-output-in-pulseaudio/\">How to remove Nvidia HDMI audio output in PulseAudio? - Ask Ubuntu</a> <a href=\"#user-content-fnref-pulseaudio-hdmi\" data-footnote-backref class=\"data-footnote-backref\" aria-label=\"Back to content\">↩</a></p>\n</li>\n<li id=\"user-content-fn-rmmod-hdmi\">\n<p><a href=\"https://bbs.archlinux.org/viewtopic.php?id=253258\">[SOLVED] How to disable nvidia hdmi audio? / Kernel &#x26; Hardware / Arch Linux Forums</a> <a href=\"#user-content-fnref-rmmod-hdmi\" data-footnote-backref class=\"data-footnote-backref\" aria-label=\"Back to content\">↩</a></p>\n</li>\n<li id=\"user-content-fn-pointer-barrier\">\n<p><a href=\"https://bbs.archlinux.org/viewtopic.php?id=258091\">[SOLVED]Multihead: is there a way to forbid mouse from leaving screen? / Applications &#x26; Desktop Environments / Arch Linux Forums</a> <a href=\"#user-content-fnref-pointer-barrier\" data-footnote-backref class=\"data-footnote-backref\" aria-label=\"Back to content\">↩</a> <a href=\"#user-content-fnref-pointer-barrier-2\" data-footnote-backref class=\"data-footnote-backref\" aria-label=\"Back to content\">↩<sup>2</sup></a></p>\n</li>\n</ol>\n</section>",
            "url": "https://ouuan.moe/post/2024/10/i3-multi-monitor",
            "title": "在 i3 中使用多显示器",
            "summary": "<p>之前我以为大家用多屏都是因为没有 tiling window manager 不会切屏<span class=\"mojikumi-line-end\">，</span>用了才知道竖屏好<span class=\"mojikumi-line-start\">（</span></p>\n",
            "date_modified": "2024-10-15T17:07:34.000Z",
            "tags": [
                "i3",
                "Arch Linux",
                "经验分享"
            ]
        },
        {
            "id": "https://ouuan.moe/post/2023/08/mpv-tweaks",
            "content_html": "<p>mpv 是一款 <s>神似 vim 的</s> 媒体播放器<span class=\"mojikumi-line-end\">，</span>就是说第一眼有点劝退<span class=\"mojikumi-line-end\">，</span>配置项很多<span class=\"mojikumi-line-end\">，</span>但如果能花点时间进行配置还是挺香的<span class=\"mojikumi-line-end\">，</span>而且可以写脚本实现各种功能<span class=\"mojikumi-line-end\">。</span></p>\n\n<p>自从开始用 Linux 后我一直用的是 vlc<span class=\"mojikumi-line-end\">，</span>但总感觉有点捞<span class=\"mojikumi-line-start\">（</span><span class=\"mojikumi-line-end\">，</span>最明显的是在暂停继续 / 快进后退时<span class=\"mojikumi-line-end\">，</span>经常会卡几秒<span class=\"mojikumi-line-end\">，</span>而且不是卡住不动而是边放边卡<span class=\"mojikumi-line-end\">，</span>感觉非常神秘<span class=\"mojikumi-line-end\">，</span>不知道能不能修<span class=\"mojikumi-line-end\">，</span>反正我之前简单搜过没修好<span class=\"mojikumi-line-end\">。</span>而 mpv 默认就没有这样的问题<span class=\"mojikumi-line-end\">，</span>早就想用了<span class=\"mojikumi-line-end\">，</span>但之前被它简陋的 UI 以及复杂的配置劝退了<span class=\"mojikumi-line-end\">，</span>拖到现在才入坑<span class=\"mojikumi-line-end\">。</span></p>\n<aside role=\"note\" data-v-a2ab257f><div class=\"shadow-md rd-1 b-l-6 my-6 bg-orange-1 dark:bg-orange-9 b-orange\" data-v-a2ab257f><div class=\"p-3 flex justify-between items-center\" data-v-a2ab257f><h2 class=\"flex items-center gap-1 font-bold\" data-v-a2ab257f><span class=\"text-5 i-mdi-alert-circle-outline text-orange\" data-v-a2ab257f></span><!--v-if--><span data-v-a2ab257f>Warning</span></h2><!--v-if--></div><div class=\"overflow-auto rd-br-1 bg-card px-6 dark:bg-bghover\" data-v-a2ab257f><p>我是 <a href=\"https://archlinux.org/\">Arch Linux</a> + <a href=\"https://i3wm.org/\">i3</a> + <a href=\"https://github.com/jarun/nnn\">nnn</a> 用户<span class=\"mojikumi-line-end\">，</span>下面有一些配置可能不适用于其他用户<span class=\"mojikumi-line-end\">。</span></p></div></div></aside>\n<p>完整配置<span class=\"mojikumi-line-end\">：</span><a href=\"https://github.com/ouuan/dotfiles/tree/master/.config/mpv\">ouuan/dotfiles/.config/mpv</a></p>\n<h2 id=\"入坑\" class=\"heading\"><a href=\"#入坑\" class=\"heading-anchor\" aria-label=\"章节： 入坑\" tabindex=\"-1\"></a><span>入坑</span></h2>\n<h3 id=\"参考资料\" class=\"heading\"><a href=\"#参考资料\" class=\"heading-anchor\" aria-label=\"章节： 参考资料\" tabindex=\"-1\"></a><span>参考资料</span></h3>\n<ul>\n<li><a href=\"https://wiki.archlinux.org/title/Mpv\">mpv - ArchWiki</a></li>\n<li><code>/<wbr>usr<wbr>/<wbr>share<wbr>/<wbr>doc<wbr>/<wbr>mpv<wbr>/</code></li>\n<li><a href=\"https://mpv.io/manual/stable/\">Reference Manual - mpv.io</a> (<code>man mpv</code>)</li>\n<li>\n<span class=\"heimu\">Google</span>\n</li>\n<li>\n<span class=\"heimu\">ChatGPT</span>\n</li>\n</ul>\n<h3 id=\"配置文件\" class=\"heading\"><a href=\"#配置文件\" class=\"heading-anchor\" aria-label=\"章节： 配置文件\" tabindex=\"-1\"></a><span>配置文件</span></h3>\n<ul>\n<li><code>~/.<wbr>config<wbr>/<wbr>mpv<wbr>/<wbr>mpv<wbr>.<wbr>conf</code>: 主配置文件</li>\n<li><code>~/.<wbr>config<wbr>/<wbr>mpv<wbr>/<wbr>input<wbr>.<wbr>conf</code>: key binding 配置</li>\n<li><code>~/.<wbr>config<wbr>/<wbr>mpv<wbr>/<wbr>scripts<wbr>/</code>: 脚本<span class=\"mojikumi-line-end\">，</span>放里面就会运行</li>\n<li><code>~/.<wbr>config<wbr>/<wbr>mpv<wbr>/<wbr>script<wbr>-<wbr>opts<wbr>/</code>: 脚本的配置<span class=\"mojikumi-line-end\">，</span>例如 <code>~/.<wbr>config<wbr>/<wbr>mpv<wbr>/<wbr>script<wbr>-<wbr>opts<wbr>/<wbr>osc<wbr>.<wbr>conf</code></li>\n<li><code>/<wbr>usr<wbr>/<wbr>share<wbr>/<wbr>mpv<wbr>/<wbr>scripts<wbr>/</code>: 一些自带的脚本<span class=\"mojikumi-line-end\">，</span>可以 symlink 到 <code>~/.<wbr>config<wbr>/<wbr>mpv<wbr>/<wbr>scripts<wbr>/</code></li>\n</ul>\n<p>有个冷知识 (?) 可以注意一下<span class=\"mojikumi-line-end\">：</span></p>\n<blockquote>\n<p>Every <i>flag</i> option has a <i>no-flag</i> counterpart, e.g. the opposite of the <code>--fs</code> option is <code>--no-fs</code>. <code>--fs=yes</code> is same as <code>--fs</code>, <code>--fs=no</code> is the same as <code>--no-fs</code>.</p>\n</blockquote>\n<h2 id=\"输出\" class=\"heading\"><a href=\"#输出\" class=\"heading-anchor\" aria-label=\"章节： 输出\" tabindex=\"-1\"></a><span>输出</span></h2>\n<p>其实我不是很懂这些<span class=\"mojikumi-line-end\">，</span>但这两天进行各种尝试的感觉是<span class=\"mojikumi-line-end\">，</span><s>少配点吧<span class=\"mojikumi-line-end\">，</span>默认挺好的<span class=\"mojikumi-line-start\">（</span></s></p>\n<h3 id=\"输出质量\" class=\"heading\"><a href=\"#输出质量\" class=\"heading-anchor\" aria-label=\"章节： 输出质量\" tabindex=\"-1\"></a><span>输出质量</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"INI 代码块\" data-v-c675dba6>INI</h4><ile-root id=\"ile-4\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-4--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #994CC3\">profile</span><span style=\"color: #403F53\">=gpu-hq</span></span>\n<span><span style=\"color: #994CC3\">profile</span><span style=\"color: #403F53\">=vo-gpu-high</span></span>\n<span></span>\n<span><span style=\"color: #403F53\">[vo-gpu-high]</span></span>\n<span><span style=\"color: #994CC3\">vo</span><span style=\"color: #403F53\">=gpu</span></span>\n<span><span style=\"color: #994CC3\">scale</span><span style=\"color: #403F53\">=ewa_lanczossharp</span></span>\n<span><span style=\"color: #994CC3\">cscale</span><span style=\"color: #403F53\">=ewa_lanczossharp</span></span>\n<span><span style=\"color: #994CC3\">video-sync</span><span style=\"color: #403F53\">=display-resample</span></span>\n<span><span style=\"color: #994CC3\">interpolation</span><span style=\"color: #403F53\">=yes</span></span>\n<span><span style=\"color: #994CC3\">tscale</span><span style=\"color: #403F53\">=oversample</span></span>\n<span></span>\n<span><span style=\"color: #403F53\">[vo-gpu-low]</span></span>\n<span><span style=\"color: #994CC3\">vo</span><span style=\"color: #403F53\">=gpu</span></span>\n<span><span style=\"color: #994CC3\">scale</span><span style=\"color: #403F53\">=spline36</span></span>\n<span><span style=\"color: #994CC3\">cscale</span><span style=\"color: #403F53\">=spline36</span></span>\n<span><span style=\"color: #994CC3\">video-sync</span><span style=\"color: #403F53\">=display-resample</span></span>\n<span><span style=\"color: #994CC3\">interpolation</span><span style=\"color: #403F53\">=no</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C792EA\">profile</span><span style=\"color: #D6DEEB\">=gpu-hq</span></span>\n<span><span style=\"color: #C792EA\">profile</span><span style=\"color: #D6DEEB\">=vo-gpu-high</span></span>\n<span></span>\n<span><span style=\"color: #D6DEEB\">[vo-gpu-high]</span></span>\n<span><span style=\"color: #C792EA\">vo</span><span style=\"color: #D6DEEB\">=gpu</span></span>\n<span><span style=\"color: #C792EA\">scale</span><span style=\"color: #D6DEEB\">=ewa_lanczossharp</span></span>\n<span><span style=\"color: #C792EA\">cscale</span><span style=\"color: #D6DEEB\">=ewa_lanczossharp</span></span>\n<span><span style=\"color: #C792EA\">video-sync</span><span style=\"color: #D6DEEB\">=display-resample</span></span>\n<span><span style=\"color: #C792EA\">interpolation</span><span style=\"color: #D6DEEB\">=yes</span></span>\n<span><span style=\"color: #C792EA\">tscale</span><span style=\"color: #D6DEEB\">=oversample</span></span>\n<span></span>\n<span><span style=\"color: #D6DEEB\">[vo-gpu-low]</span></span>\n<span><span style=\"color: #C792EA\">vo</span><span style=\"color: #D6DEEB\">=gpu</span></span>\n<span><span style=\"color: #C792EA\">scale</span><span style=\"color: #D6DEEB\">=spline36</span></span>\n<span><span style=\"color: #C792EA\">cscale</span><span style=\"color: #D6DEEB\">=spline36</span></span>\n<span><span style=\"color: #C792EA\">video-sync</span><span style=\"color: #D6DEEB\">=display-resample</span></span>\n<span><span style=\"color: #C792EA\">interpolation</span><span style=\"color: #D6DEEB\">=no</span></span></code></pre></div></section>\n<p>参考 <a href=\"https://wiki.archlinux.org/title/Mpv#High_quality_configurations\">High quality configurations - mpv - ArchWiki</a><span class=\"mojikumi-line-end\">。</span></p>\n<p><code>scale</code> 和 <code>cscale</code> 是用于 upscale<span class=\"mojikumi-line-end\">，</span>片源分辨率低于显示器才有用<span class=\"mojikumi-line-end\">，</span>虽然 <code>ewa_<wbr>lanczossharp</code> 性能开销较大<span class=\"mojikumi-line-end\">，</span>但只用于低分辨率就还好<span class=\"mojikumi-line-end\">。</span>和 <code>spline36</code> 在视觉上的差异几乎没有<span class=\"mojikumi-line-end\">，</span>性能不够就别用<span class=\"mojikumi-line-end\">，</span>性能够的话用不用都行<span class=\"mojikumi-line-end\">。</span></p>\n<p>interpolation 可以参考 <a href=\"https://github.com/mpv-player/mpv/wiki/Interpolation\">Interpolation · mpv Wiki</a><span class=\"mojikumi-line-end\">，</span><code>tscale<wbr>=<wbr>oversample</code> 不会造成 <span class=\"mojikumi\">“</span>soap opera effect<span class=\"mojikumi\">”</span><wbr><span class=\"mojikumi-line-start\">（</span>如果用 SVP 就可能会有<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">。</span>可以找个人物动作之类的片段开 A-B loop 对比<span class=\"mojikumi-line-start\">（</span></p>\n<p>如果播放一些高码率视频<span class=\"mojikumi-line-end\">，</span>可能会性能不够<span class=\"mojikumi-line-end\">，</span>所以可以两个 profile 切换<span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"gpu-next\" class=\"heading\"><a href=\"#gpu-next\" class=\"heading-anchor\" aria-label=\"章节： gpu-next\" tabindex=\"-1\"></a><span>gpu-next</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"INI 代码块\" data-v-c675dba6>INI</h4><ile-root id=\"ile-5\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-5--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #403F53\">[vo-gpu-next]</span></span>\n<span><span style=\"color: #994CC3\">vo</span><span style=\"color: #403F53\">=gpu-next</span></span>\n<span><span style=\"color: #994CC3\">scale</span><span style=\"color: #403F53\">=spline36</span></span>\n<span><span style=\"color: #994CC3\">cscale</span><span style=\"color: #403F53\">=spline36</span></span>\n<span><span style=\"color: #994CC3\">video-sync</span><span style=\"color: #403F53\">=audio</span></span>\n<span><span style=\"color: #994CC3\">interpolation</span><span style=\"color: #403F53\">=no</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #D6DEEB\">[vo-gpu-next]</span></span>\n<span><span style=\"color: #C792EA\">vo</span><span style=\"color: #D6DEEB\">=gpu-next</span></span>\n<span><span style=\"color: #C792EA\">scale</span><span style=\"color: #D6DEEB\">=spline36</span></span>\n<span><span style=\"color: #C792EA\">cscale</span><span style=\"color: #D6DEEB\">=spline36</span></span>\n<span><span style=\"color: #C792EA\">video-sync</span><span style=\"color: #D6DEEB\">=audio</span></span>\n<span><span style=\"color: #C792EA\">interpolation</span><span style=\"color: #D6DEEB\">=no</span></span></code></pre></div></section>\n<p>这个最直接的作用是可以读取 Dolby Vision metadata<span class=\"mojikumi-line-end\">，</span>不会出现颜色错误之类的<span class=\"mojikumi\">。</span><wbr><span class=\"mojikumi-line-start\">（</span>可以用 <a href=\"https://www.demolandia.net/4k-video-test/dolby-vision/page-1.html\">4K Dolby Vision video test</a> 测试<span class=\"mojikumi\">。</span><span class=\"mojikumi-line-end\">）</span></p>\n<p>但还是不太稳定<span class=\"mojikumi-line-end\">，</span><code>scale<wbr>=<wbr>ewa_<wbr>lanczossharp</code> 可能会偶尔黑屏<span class=\"mojikumi-line-end\">，</span><code>video<wbr>-<wbr>sync<wbr>=<wbr>display<wbr>-<wbr>resample</code> 会闪屏<span class=\"mojikumi-line-end\">。</span></p>\n<p>可以设个快捷键切换<span class=\"mojikumi-line-end\">，</span>需要 <a href=\"https://github.com/CogentRedTester/mpv-scripts/blob/master/cycle-commands.lua\"><code>cycle<wbr>-<wbr>commands<wbr>.<wbr>lua</code></a><span class=\"mojikumi-line-end\">。</span></p>\n<section class=\"code-block relative my-6 shadow\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" aria-label=\"plain text 代码块\" data-v-c675dba6>plain text</h4><ile-root id=\"ile-6\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-6--></div><div class=\"dark:hidden\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><samp><span><span style=\"color: #403f53\">G               script-message cycle-commands &#39;apply-profile vo-gpu-low ; show-text &quot;vo gpu-low&quot;&#39; &#39;apply-profile vo-gpu-next ; show-text &quot;vo gpu-next&quot;&#39; &#39;apply-profile vo-gpu-high ; show-text &quot;vo gpu high&quot;&#39;</span></span></samp></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><samp><span><span style=\"color: #d6deeb\">G               script-message cycle-commands &#39;apply-profile vo-gpu-low ; show-text &quot;vo gpu-low&quot;&#39; &#39;apply-profile vo-gpu-next ; show-text &quot;vo gpu-next&quot;&#39; &#39;apply-profile vo-gpu-high ; show-text &quot;vo gpu high&quot;&#39;</span></span></samp></pre></div></section>\n<h3 id=\"硬件解码\" class=\"heading\"><a href=\"#硬件解码\" class=\"heading-anchor\" aria-label=\"章节： 硬件解码\" tabindex=\"-1\"></a><span>硬件解码</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"INI 代码块\" data-v-c675dba6>INI</h4><ile-root id=\"ile-7\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-7--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #994CC3\">hwdec</span><span style=\"color: #403F53\">=auto-safe</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C792EA\">hwdec</span><span style=\"color: #D6DEEB\">=auto-safe</span></span></code></pre></div></section>\n<p><code>hwdec</code> 可以实测一下来看要不要开<span class=\"mojikumi-line-end\">，</span>之前我测的时候结果变化还挺大的<span class=\"mojikumi-line-end\">，</span>感觉主要是 CPU 连续工作一段时间性能会下降<span class=\"mojikumi-line-end\">，</span>而且不同视频效果也不同<span class=\"mojikumi-line-end\">，</span>可以设 key binding 控制开关<span class=\"mojikumi-line-end\">，</span>实时看 stats<span class=\"mojikumi-line-end\">。</span></p>\n<section class=\"code-block relative my-6 shadow\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" aria-label=\"plain text 代码块\" data-v-c675dba6>plain text</h4><ile-root id=\"ile-8\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-8--></div><div class=\"dark:hidden\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><samp><span><span style=\"color: #403f53\">g               cycle-values hwdec no auto-safe</span></span>\n<span><span style=\"color: #403f53\"></span></span>\n<span><span style=\"color: #403f53\">i               script-binding stats/display-stats-toggle</span></span></samp></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><samp><span><span style=\"color: #d6deeb\">g               cycle-values hwdec no auto-safe</span></span>\n<span><span style=\"color: #d6deeb\"></span></span>\n<span><span style=\"color: #d6deeb\">i               script-binding stats/display-stats-toggle</span></span></samp></pre></div></section>\n<h3 id=\"音量均衡\" class=\"heading\"><a href=\"#音量均衡\" class=\"heading-anchor\" aria-label=\"章节： 音量均衡\" tabindex=\"-1\"></a><span>音量均衡</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"INI 代码块\" data-v-c675dba6>INI</h4><ile-root id=\"ile-9\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-9--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #994CC3\">af</span><span style=\"color: #403F53\">=loudnorm</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C792EA\">af</span><span style=\"color: #D6DEEB\">=loudnorm</span></span></code></pre></div></section>\n<section class=\"code-block relative my-6 shadow\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" aria-label=\"plain text 代码块\" data-v-c675dba6>plain text</h4><ile-root id=\"ile-10\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-10--></div><div class=\"dark:hidden\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><samp><span><span style=\"color: #403f53\">n               cycle-values af &quot;&quot; loudnorm</span></span></samp></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><samp><span><span style=\"color: #d6deeb\">n               cycle-values af &quot;&quot; loudnorm</span></span></samp></pre></div></section>\n<p>以前听歌和看视频之间切换时经常要调音量<span class=\"mojikumi-line-end\">，</span>加上这个就好了<span class=\"mojikumi-line-end\">。</span></p>\n<h2 id=\"快捷键\" class=\"heading\"><a href=\"#快捷键\" class=\"heading-anchor\" aria-label=\"章节： 快捷键\" tabindex=\"-1\"></a><span>快捷键</span></h2>\n<p>key binding 很看个人习惯<span class=\"mojikumi-line-end\">，</span>可以对着 <code>/<wbr>usr<wbr>/<wbr>share<wbr>/<wbr>doc<wbr>/<wbr>mpv<wbr>/<wbr>input<wbr>.<wbr>conf</code> 修改<span class=\"mojikumi-line-end\">。</span>如果没啥习惯可以直接用默认的<span class=\"mojikumi-line-end\">。</span></p>\n<p>虽然感觉没太大参考价值<span class=\"mojikumi-line-end\">，</span>但是<span class=\"mojikumi-line-end\">：</span><a href=\"https://github.com/ouuan/dotfiles/blob/master/.config/mpv/input.conf\">input.conf · ouuan/dotfiles</a><span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"避免误触未知快捷键\" class=\"heading\"><a href=\"#避免误触未知快捷键\" class=\"heading-anchor\" aria-label=\"章节： 避免误触未知快捷键\" tabindex=\"-1\"></a><span>避免误触未知快捷键</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"INI 代码块\" data-v-c675dba6>INI</h4><ile-root id=\"ile-11\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-11--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #403F53\">no-input-default-bindings</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #D6DEEB\">no-input-default-bindings</span></span></code></pre></div></section>\n<p>这个可能会影响通过脚本设置快捷键<span class=\"mojikumi-line-end\">，</span>如果不想影响脚本可以 <code>no<wbr>-<wbr>input<wbr>-<wbr>builtin<wbr>-<wbr>bindings</code><span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"右键菜单\" class=\"heading\"><a href=\"#右键菜单\" class=\"heading-anchor\" aria-label=\"章节： 右键菜单\" tabindex=\"-1\"></a><span>右键菜单</span></h3>\n<p><a href=\"https://gitlab.com/carmanaught/mpvcontextmenu\">Thomas Carmichael / mpvcontextmenu · GitLab</a></p>\n<p>把 <code>mpvcontextmenu</code> 文件夹放进 <code>scripts</code><span class=\"mojikumi-line-end\">。</span>需要安装 <code>gjs</code><span class=\"mojikumi-line-end\">。</span></p>\n<section class=\"code-block relative my-6 shadow\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" aria-label=\"plain text 代码块\" data-v-c675dba6>plain text</h4><ile-root id=\"ile-12\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-12--></div><div class=\"dark:hidden\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><samp><span><span style=\"color: #403f53\">MBTN_RIGHT      script-message mpv_context_menu_gtk</span></span></samp></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><samp><span><span style=\"color: #d6deeb\">MBTN_RIGHT      script-message mpv_context_menu_gtk</span></span></samp></pre></div></section>\n<p>调整字体<span class=\"mojikumi-line-end\">：</span></p>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"INI 代码块\" data-v-c675dba6>INI</h4><ile-root id=\"ile-13\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-13--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #989FB1\"># script-opts/menu-engine.conf</span></span>\n<span></span>\n<span><span style=\"color: #994CC3\">fontFace</span><span style=\"color: #403F53\">=monospace</span></span>\n<span><span style=\"color: #994CC3\">fontSize</span><span style=\"color: #403F53\">=15</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #637777\"># script-opts/menu-engine.conf</span></span>\n<span></span>\n<span><span style=\"color: #C792EA\">fontFace</span><span style=\"color: #D6DEEB\">=monospace</span></span>\n<span><span style=\"color: #C792EA\">fontSize</span><span style=\"color: #D6DEEB\">=15</span></span></code></pre></div></section>\n<p>它附带了通过 GUI 打开文件的功能<span class=\"mojikumi\">：</span><wbr><span class=\"mojikumi-line-start\">（</span>需要安装 <code>kdialog</code> 或 <code>zenity</code><span class=\"mojikumi-line-end\">）</span></p>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"INI 代码块\" data-v-c675dba6>INI</h4><ile-root id=\"ile-14\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-14--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #989FB1\"># script-opts/gui-dialogs.conf</span></span>\n<span></span>\n<span><span style=\"color: #994CC3\">dialogPref</span><span style=\"color: #403F53\">=kdialog</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #637777\"># script-opts/gui-dialogs.conf</span></span>\n<span></span>\n<span><span style=\"color: #C792EA\">dialogPref</span><span style=\"color: #D6DEEB\">=kdialog</span></span></code></pre></div></section>\n<section class=\"code-block relative my-6 shadow\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" aria-label=\"plain text 代码块\" data-v-c675dba6>plain text</h4><ile-root id=\"ile-15\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-15--></div><div class=\"dark:hidden\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><samp><span><span style=\"color: #403f53\">o               script-binding add_subtitle_dialog</span></span>\n<span><span style=\"color: #403f53\">O               script-binding add_audio_dialog</span></span>\n<span><span style=\"color: #403f53\">Ctrl+o          script-binding add_files_dialog</span></span>\n<span><span style=\"color: #403f53\">Ctrl+O          script-binding append_files_dialog</span></span></samp></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><samp><span><span style=\"color: #d6deeb\">o               script-binding add_subtitle_dialog</span></span>\n<span><span style=\"color: #d6deeb\">O               script-binding add_audio_dialog</span></span>\n<span><span style=\"color: #d6deeb\">Ctrl+o          script-binding add_files_dialog</span></span>\n<span><span style=\"color: #d6deeb\">Ctrl+O          script-binding append_files_dialog</span></span></samp></pre></div></section>\n<h3 id=\"快进\" class=\"heading\"><a href=\"#快进\" class=\"heading-anchor\" aria-label=\"章节： 快进\" tabindex=\"-1\"></a><span>快进</span></h3>\n<p>长按 <kbd>→</kbd> 快进<span class=\"mojikumi-line-end\">。</span></p>\n<p><a href=\"https://github.com/ouuan/dotfiles/blob/master/.config/mpv/scripts/fast-forward.lua\"><code>fast<wbr>-<wbr>forward<wbr>.<wbr>lua</code></a></p>\n<section class=\"code-block relative my-6 shadow\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" aria-label=\"plain text 代码块\" data-v-c675dba6>plain text</h4><ile-root id=\"ile-16\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-16--></div><div class=\"dark:hidden\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><samp><span><span style=\"color: #403f53\">RIGHT           script-binding fast-forward</span></span></samp></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><samp><span><span style=\"color: #d6deeb\">RIGHT           script-binding fast-forward</span></span></samp></pre></div></section>\n<h3 id=\"每根毛都看得清清楚楚\" class=\"heading\"><a href=\"#每根毛都看得清清楚楚\" class=\"heading-anchor\" aria-label=\"章节： 每根毛都看得清清楚楚\" tabindex=\"-1\"></a><span><s>每根毛都看得清清楚楚</s></span></h3>\n<p>用鼠标放大<span class=\"mojikumi-line-end\">、</span>拖拽画面<span class=\"mojikumi-line-end\">。</span></p>\n<p><a href=\"https://github.com/occivink/mpv-image-viewer/blob/master/scripts/image-positioning.lua\"><code>mpv<wbr>-<wbr>image<wbr>-<wbr>viewer<wbr>/<wbr>scripts<wbr>/<wbr>image<wbr>-<wbr>positioning<wbr>.<wbr>lua</code></a></p>\n<section class=\"code-block relative my-6 shadow\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" aria-label=\"plain text 代码块\" data-v-c675dba6>plain text</h4><ile-root id=\"ile-17\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-17--></div><div class=\"dark:hidden\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><samp><span><span style=\"color: #403f53\">Ctrl+WHEEL_UP   script-message cursor-centric-zoom 0.1</span></span>\n<span><span style=\"color: #403f53\">Ctrl+WHEEL_DOWN script-message cursor-centric-zoom -0.1</span></span>\n<span><span style=\"color: #403f53\">Ctrl+MBTN_LEFT  script-binding drag-to-pan</span></span>\n<span><span style=\"color: #403f53\">r               script-message rotate-video  90</span></span>\n<span><span style=\"color: #403f53\">R               script-message rotate-video -90</span></span></samp></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><samp><span><span style=\"color: #d6deeb\">Ctrl+WHEEL_UP   script-message cursor-centric-zoom 0.1</span></span>\n<span><span style=\"color: #d6deeb\">Ctrl+WHEEL_DOWN script-message cursor-centric-zoom -0.1</span></span>\n<span><span style=\"color: #d6deeb\">Ctrl+MBTN_LEFT  script-binding drag-to-pan</span></span>\n<span><span style=\"color: #d6deeb\">r               script-message rotate-video  90</span></span>\n<span><span style=\"color: #d6deeb\">R               script-message rotate-video -90</span></span></samp></pre></div></section>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"INI 代码块\" data-v-c675dba6>INI</h4><ile-root id=\"ile-18\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-18--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #403F53\">no-window-dragging </span><span style=\"color: #989FB1\"># for drag-to-pan</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #D6DEEB\">no-window-dragging </span><span style=\"color: #637777\"># for drag-to-pan</span></span></code></pre></div></section>\n<h3 id=\"选择-track\" class=\"heading\"><a href=\"#选择-track\" class=\"heading-anchor\" aria-label=\"章节： 选择 track\" tabindex=\"-1\"></a><span>选择 track</span></h3>\n<p>裸的 mpv 添加 / 选择 track 很不方便<span class=\"mojikumi-line-end\">，</span>有了 <code>mpvcontextmenu</code> 就好很多了<span class=\"mojikumi-line-end\">，</span>但我在发现它之前就自己写了两个脚本<span class=\"mojikumi-line-end\">，</span>现在有了它就把添加文件的删了<span class=\"mojikumi-line-end\">，</span>但选择 track 还是保留下来<span class=\"mojikumi-line-end\">。</span></p>\n<p>顺便还会在打开文件时检测当前是否是双声道<span class=\"mojikumi-line-end\">，</span>如果不是<span class=\"mojikumi-line-start\">（</span>例如是环绕声<span class=\"mojikumi-line-end\">）</span>则弹出音轨选择<span class=\"mojikumi-line-end\">。</span></p>\n<p><a href=\"https://github.com/ouuan/dotfiles/blob/master/.config/mpv/scripts/select-track.lua\"><code>select<wbr>-<wbr>track<wbr>.<wbr>lua</code></a></p>\n<section class=\"code-block relative my-6 shadow\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" aria-label=\"plain text 代码块\" data-v-c675dba6>plain text</h4><ile-root id=\"ile-19\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-19--></div><div class=\"dark:hidden\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><samp><span><span style=\"color: #403f53\">t               script-binding select-subtitle</span></span>\n<span><span style=\"color: #403f53\">T               script-binding select-audio</span></span>\n<span><span style=\"color: #403f53\">Ctrl+t          script-binding select-video</span></span></samp></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><samp><span><span style=\"color: #d6deeb\">t               script-binding select-subtitle</span></span>\n<span><span style=\"color: #d6deeb\">T               script-binding select-audio</span></span>\n<span><span style=\"color: #d6deeb\">Ctrl+t          script-binding select-video</span></span></samp></pre></div></section>\n<h3 id=\"重置设置\" class=\"heading\"><a href=\"#重置设置\" class=\"heading-anchor\" aria-label=\"章节： 重置设置\" tabindex=\"-1\"></a><span>重置设置</span></h3>\n<p>我这里只重置了会被我的 key binding 修改的设置<span class=\"mojikumi-line-end\">。</span></p>\n<section class=\"code-block relative my-6 shadow\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" aria-label=\"plain text 代码块\" data-v-c675dba6>plain text</h4><ile-root id=\"ile-20\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-20--></div><div class=\"dark:hidden\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><samp><span><span style=\"color: #403f53\">Ctrl+0          apply-profile reset-all ; show-text 已重置所有设置</span></span></samp></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><samp><span><span style=\"color: #d6deeb\">Ctrl+0          apply-profile reset-all ; show-text 已重置所有设置</span></span></samp></pre></div></section>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"INI 代码块\" data-v-c675dba6>INI</h4><ile-root id=\"ile-21\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-21--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #403F53\">[reset-all]</span></span>\n<span><span style=\"color: #994CC3\">profile-desc</span><span style=\"color: #403F53\">=</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">重置所有设置</span><span style=\"color: #111111\">&quot;</span></span>\n<span><span style=\"color: #994CC3\">volume</span><span style=\"color: #403F53\">=100</span></span>\n<span><span style=\"color: #994CC3\">mute</span><span style=\"color: #403F53\">=no</span></span>\n<span><span style=\"color: #994CC3\">speed</span><span style=\"color: #403F53\">=1</span></span>\n<span><span style=\"color: #994CC3\">brightness</span><span style=\"color: #403F53\">=0</span></span>\n<span><span style=\"color: #994CC3\">video-zoom</span><span style=\"color: #403F53\">=0</span></span>\n<span><span style=\"color: #994CC3\">video-pan-x</span><span style=\"color: #403F53\">=0</span></span>\n<span><span style=\"color: #994CC3\">video-pan-y</span><span style=\"color: #403F53\">=0</span></span>\n<span><span style=\"color: #994CC3\">video-rotate</span><span style=\"color: #403F53\">=0</span></span>\n<span><span style=\"color: #994CC3\">sub-visibility</span><span style=\"color: #403F53\">=yes</span></span>\n<span><span style=\"color: #994CC3\">sub-scale</span><span style=\"color: #403F53\">=1</span></span>\n<span><span style=\"color: #994CC3\">sub-pos</span><span style=\"color: #403F53\">=100</span></span>\n<span><span style=\"color: #994CC3\">audio-delay</span><span style=\"color: #403F53\">=0</span></span>\n<span><span style=\"color: #994CC3\">ab-loop-a</span><span style=\"color: #403F53\">=no</span></span>\n<span><span style=\"color: #994CC3\">ab-loop-b</span><span style=\"color: #403F53\">=no</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #D6DEEB\">[reset-all]</span></span>\n<span><span style=\"color: #C792EA\">profile-desc</span><span style=\"color: #D6DEEB\">=</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">重置所有设置</span><span style=\"color: #D9F5DD\">&quot;</span></span>\n<span><span style=\"color: #C792EA\">volume</span><span style=\"color: #D6DEEB\">=100</span></span>\n<span><span style=\"color: #C792EA\">mute</span><span style=\"color: #D6DEEB\">=no</span></span>\n<span><span style=\"color: #C792EA\">speed</span><span style=\"color: #D6DEEB\">=1</span></span>\n<span><span style=\"color: #C792EA\">brightness</span><span style=\"color: #D6DEEB\">=0</span></span>\n<span><span style=\"color: #C792EA\">video-zoom</span><span style=\"color: #D6DEEB\">=0</span></span>\n<span><span style=\"color: #C792EA\">video-pan-x</span><span style=\"color: #D6DEEB\">=0</span></span>\n<span><span style=\"color: #C792EA\">video-pan-y</span><span style=\"color: #D6DEEB\">=0</span></span>\n<span><span style=\"color: #C792EA\">video-rotate</span><span style=\"color: #D6DEEB\">=0</span></span>\n<span><span style=\"color: #C792EA\">sub-visibility</span><span style=\"color: #D6DEEB\">=yes</span></span>\n<span><span style=\"color: #C792EA\">sub-scale</span><span style=\"color: #D6DEEB\">=1</span></span>\n<span><span style=\"color: #C792EA\">sub-pos</span><span style=\"color: #D6DEEB\">=100</span></span>\n<span><span style=\"color: #C792EA\">audio-delay</span><span style=\"color: #D6DEEB\">=0</span></span>\n<span><span style=\"color: #C792EA\">ab-loop-a</span><span style=\"color: #D6DEEB\">=no</span></span>\n<span><span style=\"color: #C792EA\">ab-loop-b</span><span style=\"color: #D6DEEB\">=no</span></span></code></pre></div></section>\n<h2 id=\"听歌\" class=\"heading\"><a href=\"#听歌\" class=\"heading-anchor\" aria-label=\"章节： 听歌\" tabindex=\"-1\"></a><span>听歌</span></h2>\n<h3 id=\"播放列表管理\" class=\"heading\"><a href=\"#播放列表管理\" class=\"heading-anchor\" aria-label=\"章节： 播放列表管理\" tabindex=\"-1\"></a><span>播放列表管理</span></h3>\n<p><a href=\"https://github.com/jonniek/mpv-playlistmanager\">jonniek/mpv-playlistmanager: Mpv lua script to create and manage playlists</a></p>\n<section class=\"code-block relative my-6 shadow\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" aria-label=\"plain text 代码块\" data-v-c675dba6>plain text</h4><ile-root id=\"ile-22\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-22--></div><div class=\"dark:hidden\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><samp><span><span style=\"color: #403f53\">P               script-binding showplaylist</span></span></samp></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><samp><span><span style=\"color: #d6deeb\">P               script-binding showplaylist</span></span></samp></pre></div></section>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"INI 代码块\" data-v-c675dba6>INI</h4><ile-root id=\"ile-23\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-23--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #994CC3\">key_moveup</span><span style=\"color: #403F53\">=k UP</span></span>\n<span><span style=\"color: #994CC3\">key_movedown</span><span style=\"color: #403F53\">=j DOWN</span></span>\n<span><span style=\"color: #994CC3\">key_movepageup</span><span style=\"color: #403F53\">=Ctrl+u PGUP</span></span>\n<span><span style=\"color: #994CC3\">key_movepagedown</span><span style=\"color: #403F53\">=Ctrl+d PGDWN</span></span>\n<span><span style=\"color: #994CC3\">key_movebegin</span><span style=\"color: #403F53\">=^ 0 HOME</span></span>\n<span><span style=\"color: #994CC3\">key_moveend</span><span style=\"color: #403F53\">=$ END</span></span>\n<span><span style=\"color: #994CC3\">key_selectfile</span><span style=\"color: #403F53\">=d-d</span></span>\n<span><span style=\"color: #994CC3\">key_unselectfile</span><span style=\"color: #403F53\">=p</span></span>\n<span><span style=\"color: #994CC3\">key_playfile</span><span style=\"color: #403F53\">=l ENTER</span></span>\n<span><span style=\"color: #994CC3\">key_removefile</span><span style=\"color: #403F53\">=x BS</span></span>\n<span><span style=\"color: #994CC3\">key_closeplaylist</span><span style=\"color: #403F53\">=ESC P h</span></span>\n<span></span>\n<span><span style=\"color: #994CC3\">showamount</span><span style=\"color: #403F53\">=20</span></span>\n<span><span style=\"color: #994CC3\">text_padding_y</span><span style=\"color: #403F53\">=15</span></span>\n<span><span style=\"color: #994CC3\">curtain_opacity</span><span style=\"color: #403F53\">=0.3</span></span>\n<span><span style=\"color: #994CC3\">style_ass_tags</span><span style=\"color: #403F53\">={\\fs11}</span></span>\n<span><span style=\"color: #994CC3\">slice_longfilenames</span><span style=\"color: #403F53\">=yes</span></span>\n<span><span style=\"color: #994CC3\">slice_longfilenames_amount</span><span style=\"color: #403F53\">=120</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C792EA\">key_moveup</span><span style=\"color: #D6DEEB\">=k UP</span></span>\n<span><span style=\"color: #C792EA\">key_movedown</span><span style=\"color: #D6DEEB\">=j DOWN</span></span>\n<span><span style=\"color: #C792EA\">key_movepageup</span><span style=\"color: #D6DEEB\">=Ctrl+u PGUP</span></span>\n<span><span style=\"color: #C792EA\">key_movepagedown</span><span style=\"color: #D6DEEB\">=Ctrl+d PGDWN</span></span>\n<span><span style=\"color: #C792EA\">key_movebegin</span><span style=\"color: #D6DEEB\">=^ 0 HOME</span></span>\n<span><span style=\"color: #C792EA\">key_moveend</span><span style=\"color: #D6DEEB\">=$ END</span></span>\n<span><span style=\"color: #C792EA\">key_selectfile</span><span style=\"color: #D6DEEB\">=d-d</span></span>\n<span><span style=\"color: #C792EA\">key_unselectfile</span><span style=\"color: #D6DEEB\">=p</span></span>\n<span><span style=\"color: #C792EA\">key_playfile</span><span style=\"color: #D6DEEB\">=l ENTER</span></span>\n<span><span style=\"color: #C792EA\">key_removefile</span><span style=\"color: #D6DEEB\">=x BS</span></span>\n<span><span style=\"color: #C792EA\">key_closeplaylist</span><span style=\"color: #D6DEEB\">=ESC P h</span></span>\n<span></span>\n<span><span style=\"color: #C792EA\">showamount</span><span style=\"color: #D6DEEB\">=20</span></span>\n<span><span style=\"color: #C792EA\">text_padding_y</span><span style=\"color: #D6DEEB\">=15</span></span>\n<span><span style=\"color: #C792EA\">curtain_opacity</span><span style=\"color: #D6DEEB\">=0.3</span></span>\n<span><span style=\"color: #C792EA\">style_ass_tags</span><span style=\"color: #D6DEEB\">={\\fs11}</span></span>\n<span><span style=\"color: #C792EA\">slice_longfilenames</span><span style=\"color: #D6DEEB\">=yes</span></span>\n<span><span style=\"color: #C792EA\">slice_longfilenames_amount</span><span style=\"color: #D6DEEB\">=120</span></span></code></pre></div></section>\n<p><s>其他都还好<span class=\"mojikumi-line-end\">，</span>这个 <code>dd</code> / <code>p</code> 确实太 Vim 了<span class=\"mojikumi-line-start\">（</span></s></p>\n<h3 id=\"播放模式\" class=\"heading\"><a href=\"#播放模式\" class=\"heading-anchor\" aria-label=\"章节： 播放模式\" tabindex=\"-1\"></a><span>播放模式</span></h3>\n<p>我是觉得下面这几种播放模式比较常用<span class=\"mojikumi-line-start\">（</span>列表循环不太常用<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">，</span>而看视频时一般播完暂停比较好<span class=\"mojikumi-line-end\">，</span>作为默认<span class=\"mojikumi-line-end\">。</span>随机播放/单曲循环的时候一般不需要保存播放进度<span class=\"mojikumi-line-end\">。</span></p>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"INI 代码块\" data-v-c675dba6>INI</h4><ile-root id=\"ile-24\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-24--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #994CC3\">profile</span><span style=\"color: #403F53\">=playmode-pause</span></span>\n<span></span>\n<span><span style=\"color: #403F53\">[playmode-pause]</span></span>\n<span><span style=\"color: #994CC3\">profile-desc</span><span style=\"color: #403F53\">=</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">播完暂停</span><span style=\"color: #111111\">&quot;</span></span>\n<span><span style=\"color: #994CC3\">keep-open</span><span style=\"color: #403F53\">=always</span></span>\n<span><span style=\"color: #994CC3\">loop-file</span><span style=\"color: #403F53\">=no</span></span>\n<span><span style=\"color: #994CC3\">loop-playlist</span><span style=\"color: #403F53\">=inf</span></span>\n<span><span style=\"color: #994CC3\">shuffle</span><span style=\"color: #403F53\">=no</span></span>\n<span><span style=\"color: #403F53\">save-position-on-quit</span></span>\n<span></span>\n<span><span style=\"color: #403F53\">[playmode-shuffle]</span></span>\n<span><span style=\"color: #994CC3\">profile-desc</span><span style=\"color: #403F53\">=</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">随机播放</span><span style=\"color: #111111\">&quot;</span></span>\n<span><span style=\"color: #994CC3\">keep-open</span><span style=\"color: #403F53\">=yes</span></span>\n<span><span style=\"color: #994CC3\">loop-file</span><span style=\"color: #403F53\">=no</span></span>\n<span><span style=\"color: #994CC3\">loop-playlist</span><span style=\"color: #403F53\">=inf</span></span>\n<span><span style=\"color: #403F53\">shuffle</span></span>\n<span><span style=\"color: #403F53\">no-save-position-on-quit</span></span>\n<span></span>\n<span><span style=\"color: #403F53\">[playmode-loopfile]</span></span>\n<span><span style=\"color: #994CC3\">profile-desc</span><span style=\"color: #403F53\">=</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">单文件循环</span><span style=\"color: #111111\">&quot;</span></span>\n<span><span style=\"color: #994CC3\">keep-open</span><span style=\"color: #403F53\">=yes</span></span>\n<span><span style=\"color: #994CC3\">loop-file</span><span style=\"color: #403F53\">=inf</span></span>\n<span><span style=\"color: #994CC3\">loop-playlist</span><span style=\"color: #403F53\">=inf</span></span>\n<span><span style=\"color: #994CC3\">shuffle</span><span style=\"color: #403F53\">=no</span></span>\n<span><span style=\"color: #403F53\">no-save-position-on-quit</span></span>\n<span></span>\n<span><span style=\"color: #403F53\">[playmode-playall]</span></span>\n<span><span style=\"color: #994CC3\">profile-desc</span><span style=\"color: #403F53\">=</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">顺序播放</span><span style=\"color: #111111\">&quot;</span></span>\n<span><span style=\"color: #994CC3\">keep-open</span><span style=\"color: #403F53\">=yes</span></span>\n<span><span style=\"color: #994CC3\">loop-file</span><span style=\"color: #403F53\">=no</span></span>\n<span><span style=\"color: #994CC3\">loop-playlist</span><span style=\"color: #403F53\">=no</span></span>\n<span><span style=\"color: #994CC3\">shuffle</span><span style=\"color: #403F53\">=no</span></span>\n<span><span style=\"color: #403F53\">save-position-on-quit</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C792EA\">profile</span><span style=\"color: #D6DEEB\">=playmode-pause</span></span>\n<span></span>\n<span><span style=\"color: #D6DEEB\">[playmode-pause]</span></span>\n<span><span style=\"color: #C792EA\">profile-desc</span><span style=\"color: #D6DEEB\">=</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">播完暂停</span><span style=\"color: #D9F5DD\">&quot;</span></span>\n<span><span style=\"color: #C792EA\">keep-open</span><span style=\"color: #D6DEEB\">=always</span></span>\n<span><span style=\"color: #C792EA\">loop-file</span><span style=\"color: #D6DEEB\">=no</span></span>\n<span><span style=\"color: #C792EA\">loop-playlist</span><span style=\"color: #D6DEEB\">=inf</span></span>\n<span><span style=\"color: #C792EA\">shuffle</span><span style=\"color: #D6DEEB\">=no</span></span>\n<span><span style=\"color: #D6DEEB\">save-position-on-quit</span></span>\n<span></span>\n<span><span style=\"color: #D6DEEB\">[playmode-shuffle]</span></span>\n<span><span style=\"color: #C792EA\">profile-desc</span><span style=\"color: #D6DEEB\">=</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">随机播放</span><span style=\"color: #D9F5DD\">&quot;</span></span>\n<span><span style=\"color: #C792EA\">keep-open</span><span style=\"color: #D6DEEB\">=yes</span></span>\n<span><span style=\"color: #C792EA\">loop-file</span><span style=\"color: #D6DEEB\">=no</span></span>\n<span><span style=\"color: #C792EA\">loop-playlist</span><span style=\"color: #D6DEEB\">=inf</span></span>\n<span><span style=\"color: #D6DEEB\">shuffle</span></span>\n<span><span style=\"color: #D6DEEB\">no-save-position-on-quit</span></span>\n<span></span>\n<span><span style=\"color: #D6DEEB\">[playmode-loopfile]</span></span>\n<span><span style=\"color: #C792EA\">profile-desc</span><span style=\"color: #D6DEEB\">=</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">单文件循环</span><span style=\"color: #D9F5DD\">&quot;</span></span>\n<span><span style=\"color: #C792EA\">keep-open</span><span style=\"color: #D6DEEB\">=yes</span></span>\n<span><span style=\"color: #C792EA\">loop-file</span><span style=\"color: #D6DEEB\">=inf</span></span>\n<span><span style=\"color: #C792EA\">loop-playlist</span><span style=\"color: #D6DEEB\">=inf</span></span>\n<span><span style=\"color: #C792EA\">shuffle</span><span style=\"color: #D6DEEB\">=no</span></span>\n<span><span style=\"color: #D6DEEB\">no-save-position-on-quit</span></span>\n<span></span>\n<span><span style=\"color: #D6DEEB\">[playmode-playall]</span></span>\n<span><span style=\"color: #C792EA\">profile-desc</span><span style=\"color: #D6DEEB\">=</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">顺序播放</span><span style=\"color: #D9F5DD\">&quot;</span></span>\n<span><span style=\"color: #C792EA\">keep-open</span><span style=\"color: #D6DEEB\">=yes</span></span>\n<span><span style=\"color: #C792EA\">loop-file</span><span style=\"color: #D6DEEB\">=no</span></span>\n<span><span style=\"color: #C792EA\">loop-playlist</span><span style=\"color: #D6DEEB\">=no</span></span>\n<span><span style=\"color: #C792EA\">shuffle</span><span style=\"color: #D6DEEB\">=no</span></span>\n<span><span style=\"color: #D6DEEB\">save-position-on-quit</span></span></code></pre></div></section>\n<p>另外可以加一个 <code>no<wbr>-<wbr>keep<wbr>-<wbr>open<wbr>-<wbr>pause</code><span class=\"mojikumi-line-end\">，</span>播完暂停时后退不会暂停<span class=\"mojikumi-line-end\">。</span></p>\n<p>快捷键切换<span class=\"mojikumi-line-end\">：</span></p>\n<section class=\"code-block relative my-6 shadow\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" aria-label=\"plain text 代码块\" data-v-c675dba6>plain text</h4><ile-root id=\"ile-25\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-25--></div><div class=\"dark:hidden\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><samp><span><span style=\"color: #403f53\">p               script-message cycle-commands &quot;apply-profile playmode-shuffle ; playlist-shuffle ; show-text 随机播放&quot; &quot;apply-profile playmode-loopfile ; playlist-unshuffle ; show-text 单曲循环&quot; &quot;apply-profile playmode-playall ; playlist-unshuffle ; show-text 顺序播放&quot; &quot;apply-profile playmode-pause ; playlist-unshuffle ; show-text 播完暂停&quot;</span></span></samp></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><samp><span><span style=\"color: #d6deeb\">p               script-message cycle-commands &quot;apply-profile playmode-shuffle ; playlist-shuffle ; show-text 随机播放&quot; &quot;apply-profile playmode-loopfile ; playlist-unshuffle ; show-text 单曲循环&quot; &quot;apply-profile playmode-playall ; playlist-unshuffle ; show-text 顺序播放&quot; &quot;apply-profile playmode-pause ; playlist-unshuffle ; show-text 播完暂停&quot;</span></span></samp></pre></div></section>\n<h3 id=\"playerctl\" class=\"heading\"><a href=\"#playerctl\" class=\"heading-anchor\" aria-label=\"章节： playerctl\" tabindex=\"-1\"></a><span>playerctl</span></h3>\n<p>装了 <a href=\"https://github.com/hoyon/mpv-mpris\">mpv-mpris</a> 就可以用 <a href=\"https://github.com/altdesktop/playerctl\"><code>playerctl</code></a> 了<span class=\"mojikumi-line-end\">。</span></p>\n<p>关闭所有 mpv<span class=\"mojikumi\">：</span><wbr><span class=\"mojikumi-line-start\">（</span>当然 <code>killall</code> 也行就是比较暴力<span class=\"mojikumi-line-end\">）</span></p>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"Shell 代码块\" data-v-c675dba6>Shell</h4><ile-root id=\"ile-26\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-26--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #994CC3\">alias</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">stopplay</span><span style=\"color: #994CC3\">=</span><span style=\"color: #111111\">&#39;</span><span style=\"color: #C96765\">playerctl -a -p mpv stop</span><span style=\"color: #111111\">&#39;</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C792EA\">alias</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">stopplay</span><span style=\"color: #C792EA\">=</span><span style=\"color: #D9F5DD\">&#39;</span><span style=\"color: #ECC48D\">playerctl -a -p mpv stop</span><span style=\"color: #D9F5DD\">&#39;</span></span></code></pre></div></section>\n<p>用 i3 的话<span class=\"mojikumi-line-end\">，</span>可以利用 playerctl 设快捷键<span class=\"mojikumi-line-end\">，</span>用 <a href=\"https://bumblebee-status.readthedocs.io/en/main/modules.html#playerctl\"><code>bumblebee<wbr>-<wbr>status</code> 的 <code>playerctl</code> module</a> 显示正在播放的媒体信息<span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"从命令行播放音乐\" class=\"heading\"><a href=\"#从命令行播放音乐\" class=\"heading-anchor\" aria-label=\"章节： 从命令行播放音乐\" tabindex=\"-1\"></a><span>从命令行播放音乐</span></h3>\n<p>我一般都是用若干 alias 来从命令行播放音乐<span class=\"mojikumi-line-start\">（</span>所以很少在网易云上听<span class=\"mojikumi-line-start\">（</span></p>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"Shell 代码块\" data-v-c675dba6>Shell</h4><ile-root id=\"ile-27\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-27--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">play</span><span style=\"color: #403F53\">() {</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">stopplay</span><span style=\"color: #403F53\"> </span><span style=\"color: #0C969B\">&gt;</span><span style=\"color: #4876D6\">/dev/null</span><span style=\"color: #403F53\"> </span><span style=\"color: #0C969B\">2&gt;&amp;1</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">bk</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">mpv</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">--profile=playmode-shuffle</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">--no-video</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">--no-resume-playback</span><span style=\"color: #403F53\"> </span><span style=\"color: #111111\">&quot;</span><span style=\"color: #403F53\">$@</span><span style=\"color: #111111\">&quot;</span></span>\n<span><span style=\"color: #403F53\">}</span></span>\n<span></span>\n<span><span style=\"color: #994CC3\">alias</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">playjp</span><span style=\"color: #994CC3\">=</span><span style=\"color: #111111\">&#39;</span><span style=\"color: #C96765\">play ~/Music/日本語の歌/</span><span style=\"color: #111111\">&#39;</span></span>\n<span><span style=\"color: #4876D6\">...</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #82AAFF\">play</span><span style=\"color: #D6DEEB\">() {</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #82AAFF\">stopplay</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #7FDBCA\">&gt;</span><span style=\"color: #ECC48D\">/dev/null</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #7FDBCA\">2&gt;&amp;1</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #82AAFF\">bk</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #ECC48D\">mpv</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #82AAFF\">--profile=playmode-shuffle</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #82AAFF\">--no-video</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #82AAFF\">--no-resume-playback</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #D7DBE0\">$@</span><span style=\"color: #D9F5DD\">&quot;</span></span>\n<span><span style=\"color: #D6DEEB\">}</span></span>\n<span></span>\n<span><span style=\"color: #C792EA\">alias</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">playjp</span><span style=\"color: #C792EA\">=</span><span style=\"color: #D9F5DD\">&#39;</span><span style=\"color: #ECC48D\">play ~/Music/日本語の歌/</span><span style=\"color: #D9F5DD\">&#39;</span></span>\n<span><span style=\"color: #C5E478\">...</span></span></code></pre></div></section>\n<p>其中 <code>bk</code> 是一个我用了很多年的小 trick<span class=\"mojikumi-line-end\">：</span></p>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"Shell 代码块\" data-v-c675dba6>Shell</h4><ile-root id=\"ile-28\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-28--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">bk_noalias</span><span style=\"color: #403F53\">() {</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">nohup</span><span style=\"color: #403F53\"> </span><span style=\"color: #111111\">&quot;</span><span style=\"color: #403F53\">$@</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #403F53\"> </span><span style=\"color: #0C969B\">&lt;</span><span style=\"color: #4876D6\">/dev/null</span><span style=\"color: #403F53\"> </span><span style=\"color: #0C969B\">&gt;</span><span style=\"color: #4876D6\">/dev/null</span><span style=\"color: #403F53\"> </span><span style=\"color: #0C969B\">2&gt;</span><span style=\"color: #4876D6\">/dev/null</span><span style=\"color: #403F53\"> &amp;</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">disown</span></span>\n<span><span style=\"color: #403F53\">}</span></span>\n<span><span style=\"color: #994CC3\">alias</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">bk</span><span style=\"color: #994CC3\">=</span><span style=\"color: #111111\">&#39;</span><span style=\"color: #C96765\">bk_noalias </span><span style=\"color: #111111\">&#39;</span><span style=\"color: #403F53\">  </span><span style=\"color: #989FB1\"># alias 末尾空格可以继续接 alias</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #82AAFF\">bk_noalias</span><span style=\"color: #D6DEEB\">() {</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #82AAFF\">nohup</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #D7DBE0\">$@</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #7FDBCA\">&lt;</span><span style=\"color: #ECC48D\">/dev/null</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #7FDBCA\">&gt;</span><span style=\"color: #ECC48D\">/dev/null</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #7FDBCA\">2&gt;</span><span style=\"color: #ECC48D\">/dev/null</span><span style=\"color: #D6DEEB\"> &amp;</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">disown</span></span>\n<span><span style=\"color: #D6DEEB\">}</span></span>\n<span><span style=\"color: #C792EA\">alias</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">bk</span><span style=\"color: #C792EA\">=</span><span style=\"color: #D9F5DD\">&#39;</span><span style=\"color: #ECC48D\">bk_noalias </span><span style=\"color: #D9F5DD\">&#39;</span><span style=\"color: #D6DEEB\">  </span><span style=\"color: #637777\"># alias 末尾空格可以继续接 alias</span></span></code></pre></div></section>\n<h2 id=\"杂项\" class=\"heading\"><a href=\"#杂项\" class=\"heading-anchor\" aria-label=\"章节： 杂项\" tabindex=\"-1\"></a><span>杂项</span></h2>\n<h3 id=\"osc\" class=\"heading\"><a href=\"#osc\" class=\"heading-anchor\" aria-label=\"章节： OSC\" tabindex=\"-1\"></a><span>OSC</span></h3>\n<p>显示总时长而非剩余时长<span class=\"mojikumi-line-end\">：</span></p>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"INI 代码块\" data-v-c675dba6>INI</h4><ile-root id=\"ile-29\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-29--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #989FB1\"># script-opts/osc.conf</span></span>\n<span></span>\n<span><span style=\"color: #994CC3\">timetotal</span><span style=\"color: #403F53\">=yes</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #637777\"># script-opts/osc.conf</span></span>\n<span></span>\n<span><span style=\"color: #C792EA\">timetotal</span><span style=\"color: #D6DEEB\">=yes</span></span></code></pre></div></section>\n<p>全屏时移动鼠标显示 OSC<span class=\"mojikumi-line-end\">，</span>非全屏时一直显示且不遮挡画面<span class=\"mojikumi-line-end\">：</span></p>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"INI 代码块\" data-v-c675dba6>INI</h4><ile-root id=\"ile-30\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-30--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #989FB1\"># script-opts/osc.conf</span></span>\n<span></span>\n<span><span style=\"color: #989FB1\"># it does nothing when visibility is not always</span></span>\n<span><span style=\"color: #994CC3\">boxvideo</span><span style=\"color: #403F53\">=yes</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #637777\"># script-opts/osc.conf</span></span>\n<span></span>\n<span><span style=\"color: #637777\"># it does nothing when visibility is not always</span></span>\n<span><span style=\"color: #C792EA\">boxvideo</span><span style=\"color: #D6DEEB\">=yes</span></span></code></pre></div></section>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"INI 代码块\" data-v-c675dba6>INI</h4><ile-root id=\"ile-31\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-31--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #989FB1\"># mpv.conf</span></span>\n<span></span>\n<span><span style=\"color: #403F53\">[osc-not-fullscreen]</span></span>\n<span><span style=\"color: #994CC3\">profile-cond</span><span style=\"color: #403F53\">=not fullscreen</span></span>\n<span><span style=\"color: #994CC3\">script-opts</span><span style=\"color: #403F53\">=</span><span style=\"color: #994CC3\">osc-visibility</span><span style=\"color: #403F53\">=always</span></span>\n<span></span>\n<span><span style=\"color: #403F53\">[osc-fullscreen]</span></span>\n<span><span style=\"color: #994CC3\">profile-cond</span><span style=\"color: #403F53\">=fullscreen</span></span>\n<span><span style=\"color: #994CC3\">script-opts</span><span style=\"color: #403F53\">=</span><span style=\"color: #994CC3\">osc-visibility</span><span style=\"color: #403F53\">=auto</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #637777\"># mpv.conf</span></span>\n<span></span>\n<span><span style=\"color: #D6DEEB\">[osc-not-fullscreen]</span></span>\n<span><span style=\"color: #C792EA\">profile-cond</span><span style=\"color: #D6DEEB\">=not fullscreen</span></span>\n<span><span style=\"color: #C792EA\">script-opts</span><span style=\"color: #D6DEEB\">=</span><span style=\"color: #C792EA\">osc-visibility</span><span style=\"color: #D6DEEB\">=always</span></span>\n<span></span>\n<span><span style=\"color: #D6DEEB\">[osc-fullscreen]</span></span>\n<span><span style=\"color: #C792EA\">profile-cond</span><span style=\"color: #D6DEEB\">=fullscreen</span></span>\n<span><span style=\"color: #C792EA\">script-opts</span><span style=\"color: #D6DEEB\">=</span><span style=\"color: #C792EA\">osc-visibility</span><span style=\"color: #D6DEEB\">=auto</span></span></code></pre></div></section>\n<h3 id=\"autoload\" class=\"heading\"><a href=\"#autoload\" class=\"heading-anchor\" aria-label=\"章节： autoload\" tabindex=\"-1\"></a><span>autoload</span></h3>\n<p>打开一个文件时自动加载同目录下的其他文件<span class=\"mojikumi-line-end\">。</span></p>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"Shell 代码块\" data-v-c675dba6>Shell</h4><ile-root id=\"ile-32\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-32--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">ln</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">-s</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">/usr/share/mpv/scripts/autoload.lua</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">~/.config/mpv/scripts/</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #82AAFF\">ln</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #82AAFF\">-s</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #ECC48D\">/usr/share/mpv/scripts/autoload.lua</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #ECC48D\">~/.config/mpv/scripts/</span></span></code></pre></div></section>\n<p><span class=\"mojikumi-line-start\">（</span>其实 playlistmanager 也可以启用这个功能<span class=\"mojikumi-line-end\">，</span>只不过官方有维护 <code>autoload<wbr>.<wbr>lua</code> 就用官方的吧<span class=\"mojikumi\">。</span><span class=\"mojikumi-line-end\">）</span></p>\n<h3 id=\"自动找-track\" class=\"heading\"><a href=\"#自动找-track\" class=\"heading-anchor\" aria-label=\"章节： 自动找 track\" tabindex=\"-1\"></a><span>自动找 track</span></h3>\n<p>模糊匹配字幕和音轨文件<span class=\"mojikumi\">：</span><wbr><span class=\"mojikumi-line-start\">（</span>实际上也没有多 fuzzy<span class=\"mojikumi-line-end\">，</span>只是部分匹配而已<span class=\"mojikumi-line-end\">）</span></p>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"INI 代码块\" data-v-c675dba6>INI</h4><ile-root id=\"ile-33\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-33--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #994CC3\">sub-auto</span><span style=\"color: #403F53\">=fuzzy</span></span>\n<span><span style=\"color: #994CC3\">audio-file-auto</span><span style=\"color: #403F53\">=fuzzy</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C792EA\">sub-auto</span><span style=\"color: #D6DEEB\">=fuzzy</span></span>\n<span><span style=\"color: #C792EA\">audio-file-auto</span><span style=\"color: #D6DEEB\">=fuzzy</span></span></code></pre></div></section>\n<h3 id=\"osd\" class=\"heading\"><a href=\"#osd\" class=\"heading-anchor\" aria-label=\"章节： OSD\" tabindex=\"-1\"></a><span>OSD</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"INI 代码块\" data-v-c675dba6>INI</h4><ile-root id=\"ile-34\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-34--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #994CC3\">osd-on-seek</span><span style=\"color: #403F53\">=msg-bar</span></span>\n<span><span style=\"color: #994CC3\">osd-playing-msg</span><span style=\"color: #403F53\">=</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">File: ${filename}</span><span style=\"color: #111111\">&quot;</span></span>\n<span><span style=\"color: #994CC3\">osd-duration</span><span style=\"color: #403F53\">=2000</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C792EA\">osd-on-seek</span><span style=\"color: #D6DEEB\">=msg-bar</span></span>\n<span><span style=\"color: #C792EA\">osd-playing-msg</span><span style=\"color: #D6DEEB\">=</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">File: ${filename}</span><span style=\"color: #D9F5DD\">&quot;</span></span>\n<span><span style=\"color: #C792EA\">osd-duration</span><span style=\"color: #D6DEEB\">=2000</span></span></code></pre></div></section>\n<p>快进后退的时候显示一下具体位置<span class=\"mojikumi-line-end\">；</span>切换文件时显示一下文件名<span class=\"mojikumi-line-end\">；</span>显示久一点<span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"截图\" class=\"heading\"><a href=\"#截图\" class=\"heading-anchor\" aria-label=\"章节： 截图\" tabindex=\"-1\"></a><span>截图</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"INI 代码块\" data-v-c675dba6>INI</h4><ile-root id=\"ile-35\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-35--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #994CC3\">screenshot-directory</span><span style=\"color: #403F53\">=~/screenshots</span></span>\n<span><span style=\"color: #994CC3\">screenshot-template</span><span style=\"color: #403F53\">=</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">%F - %P - %#01n</span><span style=\"color: #111111\">&quot;</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C792EA\">screenshot-directory</span><span style=\"color: #D6DEEB\">=~/screenshots</span></span>\n<span><span style=\"color: #C792EA\">screenshot-template</span><span style=\"color: #D6DEEB\">=</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">%F - %P - %#01n</span><span style=\"color: #D9F5DD\">&quot;</span></span></code></pre></div></section>\n<p>截图文件名是视频文件名 + 时间戳 + 版本<span class=\"mojikumi-line-start\">（</span>有了版本可以同一个位置截多张图<span class=\"mojikumi-line-end\">，</span>进行对比<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"暂停图标\" class=\"heading\"><a href=\"#暂停图标\" class=\"heading-anchor\" aria-label=\"章节： 暂停图标\" tabindex=\"-1\"></a><span>暂停图标</span></h3>\n<p>试过在暂停的时候显示一个图标<span class=\"mojikumi-line-end\">，</span>后来还是觉得去掉好一点<span class=\"mojikumi-line-end\">，</span>改成了 <code>osd-msg cycle pause</code><span class=\"mojikumi-line-end\">。</span></p>\n<p>想要的话可以参考 <a href=\"https://github.com/mpv-player/mpv/issues/8155#issuecomment-707726802\">@CogentRedTester - OSD-info when video is paused</a><span class=\"mojikumi-line-end\">。</span>需要注意的是这里用到了 <span class=\"mojikumi\">“</span>⏸<span class=\"mojikumi\">”</span><span class=\"mojikumi-line-end\">，</span>而 color emoji 会显示为乱码<span class=\"mojikumi-line-end\">，</span>只能用 monochrome emoji<span class=\"mojikumi-line-end\">，</span>可以装一个 Noto Emoji Monochrome 加在 fontconfig 里<span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"在线播放\" class=\"heading\"><a href=\"#在线播放\" class=\"heading-anchor\" aria-label=\"章节： 在线播放\" tabindex=\"-1\"></a><span>在线播放</span></h3>\n<p>mpv 使用了 yt-dlp<span class=\"mojikumi-line-end\">，</span>可以直接播放很多视频网站的视频/直播<span class=\"mojikumi-line-end\">，</span>yt-dlp 还可以直接从浏览器获取 Cookies<span class=\"mojikumi-line-end\">：</span></p>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"INI 代码块\" data-v-c675dba6>INI</h4><ile-root id=\"ile-36\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-36--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #994CC3\">ytdl-raw-options</span><span style=\"color: #403F53\">=</span><span style=\"color: #994CC3\">cookies-from-browser</span><span style=\"color: #403F53\">=firefox</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C792EA\">ytdl-raw-options</span><span style=\"color: #D6DEEB\">=</span><span style=\"color: #C792EA\">cookies-from-browser</span><span style=\"color: #D6DEEB\">=firefox</span></span></code></pre></div></section>\n<h3 id=\"wakatime\" class=\"heading\"><a href=\"#wakatime\" class=\"heading-anchor\" aria-label=\"章节： WakaTime\" tabindex=\"-1\"></a><span>WakaTime</span></h3>\n<p><a href=\"https://github.com/ouuan/dotfiles/blob/master/.config/mpv/scripts/wakatime.lua\"><code>wakatime<wbr>.<wbr>lua</code></a></p>\n<p>有点逆天<span class=\"mojikumi-line-end\">，</span>但是怎么不行呢（<span class=\"mojikumi\">（</span></p>\n<p>本来是想着写个记录播放历史<span class=\"mojikumi-line-end\">，</span>但感觉有点肝不动<span class=\"mojikumi-line-end\">，</span>然后想到了 WakaTime<span class=\"mojikumi-line-start\">（</span></p>\n<p>和记录代码不用同一个账号就不会污染数据了<span class=\"mojikumi-line-end\">，</span>可以建个新文件夹作为 mpv 的 <code>WAKATIME_<wbr>HOME</code><span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"拆分-mpv-conf\" class=\"heading\"><a href=\"#拆分-mpv-conf\" class=\"heading-anchor\" aria-label=\"章节： 拆分 mpv.conf\" tabindex=\"-1\"></a><span>拆分 <code>mpv.conf</code></span></h3>\n<p>配置都写在一起感觉最大的问题在于 profile 要写最底下<span class=\"mojikumi-line-end\">，</span>导致不能把不同板块的配置完全拆开<span class=\"mojikumi-line-end\">。</span>可以用 <code>include</code> 来拆成多个配置文件<span class=\"mojikumi-line-end\">。</span></p>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"INI 代码块\" data-v-c675dba6>INI</h4><ile-root id=\"ile-37\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-37--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #994CC3\">include</span><span style=\"color: #403F53\">=~~home/conf.d/output.conf</span></span>\n<span><span style=\"color: #994CC3\">include</span><span style=\"color: #403F53\">=~~home/conf.d/playmode.conf</span></span>\n<span><span style=\"color: #994CC3\">include</span><span style=\"color: #403F53\">=~~home/conf.d/osc.conf</span></span>\n<span><span style=\"color: #403F53\">...</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C792EA\">include</span><span style=\"color: #D6DEEB\">=~~home/conf.d/output.conf</span></span>\n<span><span style=\"color: #C792EA\">include</span><span style=\"color: #D6DEEB\">=~~home/conf.d/playmode.conf</span></span>\n<span><span style=\"color: #C792EA\">include</span><span style=\"color: #D6DEEB\">=~~home/conf.d/osc.conf</span></span>\n<span><span style=\"color: #D6DEEB\">...</span></span></code></pre></div></section>\n<p>注意 <code>~~home/</code> 是 mpv home<span class=\"mojikumi-line-end\">，</span><code>~/</code> 才是 <code>$HOME</code><span class=\"mojikumi-line-end\">。</span></p>\n<h4 id=\"directory-specific-config\" class=\"heading\"><a href=\"#directory-specific-config\" class=\"heading-anchor\" aria-label=\"章节： directory-specific config\" tabindex=\"-1\"></a><span>directory-specific config</span></h4>\n<p><a href=\"https://github.com/ouuan/dotfiles/blob/master/.config/mpv/scripts/exrc.lua\"><code>exrc.lua</code></a><span class=\"mojikumi-line-start\">（</span>写得比较粗糙<span class=\"mojikumi-line-end\">，</span>能用就行<span class=\"mojikumi-line-start\">（</span></p>\n<p>mpv 提供了 <a href=\"https://mpv.io/manual/stable/#file-specific-configuration-files\"><span class=\"mojikumi-line-start\">“</span>File-specific Configuration Files<span class=\"mojikumi-line-end\">”</span></a> 功能<span class=\"mojikumi-line-end\">，</span>但是它不安全<span class=\"mojikumi-line-end\">。</span>受 <a href=\"https://github.com/neovim/neovim/issues/20911\">More secure .exrc (.nvimrc) handling · Issue #20911 · neovim/neovim</a> 启发<span class=\"mojikumi-line-end\">，</span>可以在加载 exrc 前询问用户<span class=\"mojikumi-line-end\">。</span></p>\n<p><span class=\"mojikumi-line-start\">（</span>我是学日语的时候听教材音频<span class=\"mojikumi-line-end\">，</span>想自动切成单曲循环<span class=\"mojikumi\">。</span><span class=\"mojikumi-line-end\">）</span></p>",
            "url": "https://ouuan.moe/post/2023/08/mpv-tweaks",
            "title": "配一下 mpv",
            "summary": "<p>mpv 是一款 <s>神似 vim 的</s> 媒体播放器<span class=\"mojikumi-line-end\">，</span>就是说第一眼有点劝退<span class=\"mojikumi-line-end\">，</span>配置项很多<span class=\"mojikumi-line-end\">，</span>但如果能花点时间进行配置还是挺香的<span class=\"mojikumi-line-end\">，</span>而且可以写脚本实现各种功能<span class=\"mojikumi-line-end\">。</span></p>\n",
            "date_modified": "2023-08-08T13:26:50.000Z",
            "tags": [
                "mpv",
                "Arch Linux",
                "经验分享"
            ]
        },
        {
            "id": "https://ouuan.moe/post/2023/02/typography-tricks",
            "content_html": "\n\n<p>我的博客好像还用了不少奇怪的小 trick 来优化 <span class=\"mojikumi\">（</span><s>hopefully</s><span class=\"mojikumi\">）</span> 排版<span class=\"mojikumi-line-end\">，</span>在这整理一下<span class=\"mojikumi-line-end\">，</span>分享出来<span class=\"mojikumi-line-end\">，</span>也是怕几年<span class=\"mojikumi-line-start\">（</span><s>几天</s><span class=\"mojikumi-line-end\">）</span>后想不起来这些奇怪的东西是在干什么<span class=\"mojikumi-line-end\">。</span></p>\n<p>主要是 text justify 相关和标点挤压相关<span class=\"mojikumi-line-end\">。</span></p>\n\n<p>我博客的 Markdown 渲染基于 <a href=\"https://github.com/unifiedjs/unified\">unified</a><span class=\"mojikumi-line-end\">，</span>所以下面的一些优化是以 unified 插件<span class=\"mojikumi-line-start\">（</span>remark / remark-rehype / rehype 插件<span class=\"mojikumi-line-end\">）</span>的形式实现的<span class=\"mojikumi-line-end\">。</span></p>\n<aside role=\"note\" data-v-a2ab257f><div class=\"shadow-md rd-1 b-l-6 my-6 bg-orange-1 dark:bg-orange-9 b-orange\" data-v-a2ab257f><div class=\"p-3 flex justify-between items-center\" data-v-a2ab257f><h2 class=\"flex items-center gap-1 font-bold\" data-v-a2ab257f><span class=\"text-5 i-mdi-alert-circle-outline text-orange\" data-v-a2ab257f></span><!--v-if--><span data-v-a2ab257f>Warning</span></h2><!--v-if--></div><div class=\"overflow-auto rd-br-1 bg-card px-6 dark:bg-bghover\" data-v-a2ab257f><p>为了直观地进行演示<span class=\"mojikumi-line-end\">，</span>本文可能会在提到一个问题的段落通过设置文本和 CSS 特意制造出相应的问题<span class=\"mojikumi-line-end\">，</span>并禁用对这个问题的处理措施以将问题展示出来<span class=\"mojikumi-line-end\">。</span></p></div></div></aside>\n<h2 id=\"text-justify-相关\" class=\"heading\"><a href=\"#text-justify-相关\" class=\"heading-anchor\" aria-label=\"章节： text justify 相关\" tabindex=\"-1\"></a><span>text justify 相关</span></h2>\n<p>在每行的宽度略有差异时<span class=\"mojikumi-line-end\">，</span><a href=\"https://www.w3.org/TR/2022/DNOTE-clreq-20221009/#line_adjustment\">使用两端对齐会让中文排版更加美观</a><span class=\"mojikumi-line-end\">，</span>这一般通过 <a href=\"https://developer.mozilla.org/docs/Web/CSS/text-align\"><code>text-align</code> CSS 属性</a> 的 <code>justify</code> 选项实现<span class=\"mojikumi-line-end\">。</span>但由于网页排版的不确定性<span class=\"mojikumi-line-end\">，</span>每行的宽度可能不是略有差异而是有很大差异<span class=\"mojikumi-line-end\">，</span>这时使用 text justify 就会造成过大的空隙<span class=\"mojikumi-line-end\">，</span>所以需要避免出现过短的行<span class=\"mojikumi-line-end\">，</span>或者在有必要时禁用 text justify<span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"langzh-cn-对-text-justify-的影响\" class=\"heading\"><a href=\"#langzh-cn-对-text-justify-的影响\" class=\"heading-anchor\" aria-label=\"章节： lang=&#x22;zh-CN&#x22; 对 text justify 的影响\" tabindex=\"-1\"></a><span>lang=\"zh-CN\" 对 text justify 的影响</span></h3>\n<p>这个并不是 trick<span class=\"mojikumi-line-end\">，</span>是基操<span class=\"mojikumi-line-end\">，</span>但挺重要的<span class=\"mojikumi-line-end\">，</span>还是写在这<span class=\"mojikumi-line-end\">。</span></p>\n<p>如果没有将 HTML 的 <a href=\"https://developer.mozilla.org/docs/Web/HTML/Global_attributes/lang\"><code>lang</code> 属性</a> 设为中文<span class=\"mojikumi-line-end\">，</span>在 Firefox 109<span class=\"mojikumi-line-start\">（</span>以及其他版本 / 其他浏览器<span class=\"mojikumi-line-end\">，</span>但不包括 Chrome 109<span class=\"mojikumi-line-end\">）</span>中就会按照英文的规则<span class=\"mojikumi-line-end\">，</span>将连续的汉字视作一个单词<span class=\"mojikumi-line-end\">，</span>而只在词与词之间增大间距<span class=\"mojikumi-line-end\">，</span>不改变汉字之间的间距<span class=\"mojikumi-line-end\">，</span>如下所示<span class=\"mojikumi-line-end\">：</span></p>\n<p lang=\"en\" style=\"margin: auto; width: 12em; border: gray solid 1px;\">这是一个设置了 <code>lang=\"en\"</code> 和固定宽度的段落<span class=\"mojikumi-line-end\">，</span>这是一个 loooooooooooooooong word<span class=\"mojikumi-line-end\">。</span></p>\n<p><picture><source type=\"image/webp\" srcset=\"/assets/firefox-text-justify-en.e05e8739.webp\"><img srcset=\"/assets/firefox-text-justify-en.2157e1dd.png\" loading=\"lazy\" src=\"/assets/firefox-text-justify-en.2157e1dd.png\" width=\"243\" height=\"162\" alt=\"上面的 lang 设为 en 的段落在 Firefox 109 中的渲染效果\"></picture></p>\n<p>其中<span class=\"mojikumi-line-end\">，</span>第一行没有两端对齐<span class=\"mojikumi-line-end\">，</span>而第三行只在逗号后面增加了间距<span class=\"mojikumi-line-end\">。</span></p>\n<p>如果设置了 <code>lang<wbr>=\"<wbr>zh<wbr>-<wbr>CN<wbr>\"</code> 则会在汉字间添加间距<span class=\"mojikumi-line-end\">：</span></p>\n<p lang=\"zh-CN\" style=\"margin: auto; width: 12em; border: gray solid 1px;\">这是一个设置了 <code>lang=\"zh-CN\"</code> 和固定宽度的段落<span class=\"mojikumi-line-end\">，</span>这是一个 loooooooooooooooong word<span class=\"mojikumi-line-end\">。</span></p>\n<p><picture><source type=\"image/webp\" srcset=\"/assets/firefox-text-justify-zh-CN.5f0808bf.webp\"><img srcset=\"/assets/firefox-text-justify-zh-CN.b7336c2c.png\" loading=\"lazy\" src=\"/assets/firefox-text-justify-zh-CN.b7336c2c.png\" width=\"245\" height=\"161\" alt=\"上面的 lang 设为 zh-CN 的段落在 Firefox 109 中的渲染效果\"></picture></p>\n<p>当然<span class=\"mojikumi-line-end\">，</span>设置 HTML 的 <code>lang</code> 属性还有其他作用<span class=\"mojikumi-line-end\">，</span>不管怎么样总是得设一个的<span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"断开过长的行内代码\" class=\"heading\"><a href=\"#断开过长的行内代码\" class=\"heading-anchor\" aria-label=\"章节： 断开过长的行内代码\" tabindex=\"-1\"></a><span>断开过长的行内代码</span></h3>\n<p>有时候会遇到一些 <code style=\"word-break: normal;\">veryLoooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooongInlineCode</code><span class=\"mojikumi-line-end\">，</span>为了让它不断开<span class=\"mojikumi-line-end\">，</span>前面的一行就会非常短<span class=\"mojikumi-line-end\">，</span>justify 后间隙就非常大<span class=\"mojikumi-line-end\">。</span>当然<span class=\"mojikumi-line-end\">，</span>这样的问题不局限于行内代码<span class=\"mojikumi-line-end\">，</span>但正常的英文很少会遇到特别长的单词<span class=\"mojikumi-line-end\">，</span>代码则经常遇到<span class=\"mojikumi-line-end\">，</span>所以我选择对代码进行处理<span class=\"mojikumi-line-start\">（</span>主要是因为不需要分词套 <code>&#x3C;span></code><span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">。</span></p>\n<p>思路很简单<span class=\"mojikumi-line-end\">，</span>就是把过长的 <code>:not(pre) > code</code> 通过 <a href=\"https://developer.mozilla.org/docs/Web/HTML/Element/wbr\"><code>&#x3C;wbr></code></a> 或者 <a href=\"https://developer.mozilla.org/docs/Web/CSS/word-break\"><code>word<wbr>-<wbr>break<wbr>: <wbr>break<wbr>-<wbr>all</code></a> 断开<span class=\"mojikumi-line-end\">，</span>让它不可断开的部分没那么长<span class=\"mojikumi-line-end\">。</span>例如<span class=\"mojikumi-line-end\">：</span><code>&#x3C;<wbr>code<wbr>><wbr>word<wbr>&#x3C;<wbr>wbr<wbr>>-&#x3C;<wbr>wbr<wbr>><wbr>break<wbr>&#x3C;<wbr>wbr<wbr>>: &#x3C;<wbr>wbr<wbr>><wbr>break<wbr>&#x3C;<wbr>wbr<wbr>>-&#x3C;<wbr>wbr<wbr>><wbr>all<wbr>&#x3C;/<wbr>code<wbr>></code><span class=\"mojikumi-line-end\">、</span><code>&#x3C;<wbr>code<wbr>>&#x26;<wbr>lt<wbr>;&#x3C;<wbr>wbr<wbr>><wbr>code<wbr>&#x3C;<wbr>wbr<wbr>>&#x26;<wbr>gt<wbr>;&#x3C;<wbr>wbr<wbr>><wbr>word<wbr>&#x3C;<wbr>wbr<wbr>>&#x26;<wbr>lt<wbr>;&#x3C;<wbr>wbr<wbr>><wbr>wbr<wbr>&#x3C;<wbr>wbr<wbr>>&#x26;<wbr>gt<wbr>;-&#x26;<wbr>lt<wbr>;&#x3C;<wbr>wbr<wbr>><wbr>wbr<wbr>&#x3C;<wbr>wbr<wbr>>&#x26;<wbr>gt<wbr>;&#x3C;<wbr>wbr<wbr>><wbr>break<wbr>&#x3C;<wbr>wbr<wbr>>&#x26;<wbr>lt<wbr>;&#x3C;<wbr>wbr<wbr>><wbr>wbr<wbr>&#x3C;<wbr>wbr<wbr>>&#x26;<wbr>gt<wbr>;: &#x26;<wbr>lt<wbr>;&#x3C;<wbr>wbr<wbr>><wbr>wbr<wbr>&#x3C;<wbr>wbr<wbr>>&#x26;<wbr>gt<wbr>;&#x3C;<wbr>wbr<wbr>><wbr>break<wbr>&#x3C;<wbr>wbr<wbr>>&#x26;<wbr>lt<wbr>;&#x3C;<wbr>wbr<wbr>><wbr>wbr<wbr>&#x3C;<wbr>wbr<wbr>>&#x26;<wbr>gt<wbr>;-&#x26;<wbr>lt<wbr>;&#x3C;<wbr>wbr<wbr>><wbr>wbr<wbr>&#x3C;<wbr>wbr<wbr>>&#x26;<wbr>gt<wbr>;&#x3C;<wbr>wbr<wbr>><wbr>all<wbr>&#x3C;<wbr>wbr<wbr>>&#x26;<wbr>lt<wbr>;/&#x3C;<wbr>wbr<wbr>><wbr>code<wbr>&#x3C;<wbr>wbr<wbr>>&#x26;<wbr>gt<wbr>;&#x3C;/<wbr>code<wbr>></code>……<span class=\"mojikumi-line-start\">（</span><s>禁止禁止套娃</s><span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">。</span></p>\n<p>具体实现<span class=\"mojikumi-line-end\">：</span><a href=\"https://github.com/ouuan/iles-blog/blob/master/src/rehype/breakLongCode.ts\"><code>breakLongCode<wbr>.<wbr>ts</code></a></p>\n<ol>\n<li>如果按空格分开没有超过 10 个字符的部分<span class=\"mojikumi-line-end\">，</span>不进行处理<span class=\"mojikumi-line-end\">；</span></li>\n<li>如果按正则表达式的 <code>\\b</code> 分开没有超过 12 个字符的部分<span class=\"mojikumi-line-end\">，</span>则在 <code>\\b</code> 处插入 <code>&#x3C;wbr></code><span class=\"mojikumi-line-end\">；</span></li>\n<li>如果按 <code>\\b</code> 以及下划线分开没有超过 15 个字符的部分<span class=\"mojikumi-line-end\">，</span>则在相应位置插入 <code>&#x3C;wbr></code><span class=\"mojikumi-line-end\">；</span></li>\n<li>否则<span class=\"mojikumi-line-end\">，</span>没救了<span class=\"mojikumi-line-end\">，</span>直接 <code>word<wbr>-<wbr>break<wbr>: <wbr>break<wbr>-<wbr>all</code><span class=\"mojikumi-line-end\">。</span></li>\n</ol>\n<p>当然这个粗糙的处理方式还是有一些问题<span class=\"mojikumi-line-end\">，</span>比如从上面的示例就可以看出来<span class=\"mojikumi-line-end\">，</span>期望结果可能是 <code>&#x3C;wbr></code> / <code>&#x3C;code></code> 不被断开<span class=\"mojikumi-line-end\">，</span>但实际上会在 <code>&#x3C;</code> 后 / <code>></code> 前断开<span class=\"mojikumi-line-end\">。</span></p>\n<p>UPD<span class=\"mojikumi-line-end\">：</span>链接也可以用同样的方法进行处理<span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"在小屏幕上对窄的元素禁用-text-justify\" class=\"heading\"><a href=\"#在小屏幕上对窄的元素禁用-text-justify\" class=\"heading-anchor\" aria-label=\"章节： 在小屏幕上对窄的元素禁用 text justify\" tabindex=\"-1\"></a><span>在小屏幕上对窄的元素禁用 text justify</span></h3>\n<p style=\"margin: auto; width: 7em; border: gray solid 1px;\">有的时候容器宽度太小<span class=\"mojikumi-line-end\">，</span>即使是正常的普通文本也不适合进行 text justify<span class=\"mojikumi-line-end\">。</span></p>\n<p>我选择了一个非常简单粗暴的处理方法<span class=\"mojikumi-line-end\">：</span>认为窄的元素 = 小屏幕上嵌套了多级的元素<span class=\"mojikumi-line-end\">。</span></p>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"CSS 代码块\" data-v-c675dba6>CSS</h4><ile-root id=\"ile-57\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-57--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">.article-style</span><span style=\"color: #403F53\"> {</span></span>\n<span><span style=\"color: #403F53\">  </span><span style=\"color: #0C969B\">text-align</span><span style=\"color: #403F53\">: </span><span style=\"color: #C96765\">justify</span><span style=\"color: #403F53\">;</span></span>\n<span><span style=\"color: #403F53\">}</span></span>\n<span><span style=\"color: #4876D6\">.article-style</span><span style=\"color: #994CC3\"> </span><span style=\"color: #0C969B\">&gt;</span><span style=\"color: #994CC3\"> </span><span style=\"color: #0C969B\">*</span><span style=\"color: #994CC3\"> </span><span style=\"color: #0C969B\">&gt;</span><span style=\"color: #994CC3\"> </span><span style=\"color: #0C969B\">*</span><span style=\"color: #403F53\"> {</span></span>\n<span><span style=\"color: #403F53\">  </span><span style=\"color: #0C969B\">text-align</span><span style=\"color: #403F53\">: </span><span style=\"color: #C96765\">initial</span><span style=\"color: #403F53\">;</span></span>\n<span><span style=\"color: #403F53\">}</span></span>\n<span><span style=\"color: #994CC3\">@media</span><span style=\"color: #403F53\"> </span><span style=\"color: #111111\">(</span><span style=\"color: #0C969B\">min-width</span><span style=\"color: #403F53\">: </span><span style=\"color: #AA0982\">40em</span><span style=\"color: #111111\">)</span><span style=\"color: #403F53\"> {</span></span>\n<span><span style=\"color: #403F53\">  </span><span style=\"color: #4876D6\">.article-style</span><span style=\"color: #994CC3\"> </span><span style=\"color: #0C969B\">&gt;</span><span style=\"color: #994CC3\"> </span><span style=\"color: #0C969B\">*</span><span style=\"color: #994CC3\"> </span><span style=\"color: #0C969B\">&gt;</span><span style=\"color: #994CC3\"> </span><span style=\"color: #0C969B\">*</span><span style=\"color: #403F53\"> {</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #0C969B\">text-align</span><span style=\"color: #403F53\">: </span><span style=\"color: #C96765\">inherit</span><span style=\"color: #403F53\">;</span></span>\n<span><span style=\"color: #403F53\">  }</span></span>\n<span><span style=\"color: #403F53\">}</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C5E478\">.article-style</span><span style=\"color: #D6DEEB\"> {</span></span>\n<span><span style=\"color: #D6DEEB\">  </span><span style=\"color: #80CBC4\">text-align</span><span style=\"color: #D6DEEB\">: </span><span style=\"color: #FF6363\">justify</span><span style=\"color: #D6DEEB\">;</span></span>\n<span><span style=\"color: #D6DEEB\">}</span></span>\n<span><span style=\"color: #C5E478\">.article-style</span><span style=\"color: #C792EA\"> </span><span style=\"color: #7FDBCA\">&gt;</span><span style=\"color: #C792EA\"> </span><span style=\"color: #7FDBCA\">*</span><span style=\"color: #C792EA\"> </span><span style=\"color: #7FDBCA\">&gt;</span><span style=\"color: #C792EA\"> </span><span style=\"color: #7FDBCA\">*</span><span style=\"color: #D6DEEB\"> {</span></span>\n<span><span style=\"color: #D6DEEB\">  </span><span style=\"color: #80CBC4\">text-align</span><span style=\"color: #D6DEEB\">: </span><span style=\"color: #FF6363\">initial</span><span style=\"color: #D6DEEB\">;</span></span>\n<span><span style=\"color: #D6DEEB\">}</span></span>\n<span><span style=\"color: #C792EA\">@media</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #D9F5DD\">(</span><span style=\"color: #80CBC4\">min-width</span><span style=\"color: #D6DEEB\">: </span><span style=\"color: #F78C6C\">40</span><span style=\"color: #FFEB95\">em</span><span style=\"color: #D9F5DD\">)</span><span style=\"color: #D6DEEB\"> {</span></span>\n<span><span style=\"color: #D6DEEB\">  </span><span style=\"color: #C5E478\">.article-style</span><span style=\"color: #C792EA\"> </span><span style=\"color: #7FDBCA\">&gt;</span><span style=\"color: #C792EA\"> </span><span style=\"color: #7FDBCA\">*</span><span style=\"color: #C792EA\"> </span><span style=\"color: #7FDBCA\">&gt;</span><span style=\"color: #C792EA\"> </span><span style=\"color: #7FDBCA\">*</span><span style=\"color: #D6DEEB\"> {</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #80CBC4\">text-align</span><span style=\"color: #D6DEEB\">: </span><span style=\"color: #FF6363\">inherit</span><span style=\"color: #D6DEEB\">;</span></span>\n<span><span style=\"color: #D6DEEB\">  }</span></span>\n<span><span style=\"color: #D6DEEB\">}</span></span></code></pre></div></section>\n<p><span class=\"mojikumi-line-start\">（</span>上面放的是编译出来的 CSS<span class=\"mojikumi-line-end\">，</span><a href=\"https://github.com/ouuan/iles-blog/blob/master/src/styles/article.scss\">源码</a>是使用 UnoCSS 的 SCSS<span class=\"mojikumi\">。</span><span class=\"mojikumi-line-end\">）</span></p>\n<p>一些细节<span class=\"mojikumi-line-end\">：</span></p>\n<ul>\n<li>使用 <code>*</code> 选择器<span class=\"mojikumi-line-end\">，</span><a href=\"https://developer.mozilla.org/docs/Web/CSS/Specificity\">specificity</a> 很低<span class=\"mojikumi-line-end\">，</span>便于 override<span class=\"mojikumi-line-end\">。</span></li>\n<li>只选择 <code>> * > *</code> 而非 <code> * *</code><span class=\"mojikumi-line-end\">，</span>这样的话嵌套更深的元素依然从 parent 继承 <code>text-align</code><span class=\"mojikumi-line-end\">，</span>就可以设置 CSS override 掉一整个子树<span class=\"mojikumi\">。</span><wbr><span class=\"mojikumi-line-start\">（</span>之前我一度以为 katex 不自带行间公式居中<span class=\"mojikumi-line-end\">，</span>后来发现是被我的 CSS 改掉了 <code>text-align</code><span class=\"mojikumi\">。</span><span class=\"mojikumi-line-end\">）</span></li>\n<li>使用 <code>inherit</code> 而非 <code>justify</code> 进行撤销<span class=\"mojikumi-line-end\">。</span></li>\n</ul>\n<h3 id=\"对包含过长行内公式的元素禁用-text-justify\" class=\"heading\"><a href=\"#对包含过长行内公式的元素禁用-text-justify\" class=\"heading-anchor\" aria-label=\"章节： 对包含过长行内公式的元素禁用 text justify\" tabindex=\"-1\"></a><span>对包含过长行内公式的元素禁用 text justify</span></h3>\n<p>除了 <code>行内代码</code><span class=\"mojikumi-line-end\">，</span><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>行内公式</mtext></mrow><annotation encoding=\"application/x-tex\">\\text{行内公式}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord text\"><span class=\"mord cjk_fallback\">行内公式</span></span></span></span></span></span> 也是常见的过长的不可断元素<span class=\"mojikumi-line-end\">。</span>这里我采用了一个本文最 dirty 的处理方式<span class=\"mojikumi-line-end\">：</span>在客户端通过 JavaScript 检测宽度过大的行内公式<span class=\"mojikumi-line-end\">。</span></p>\n<p>具体实现<span class=\"mojikumi-line-end\">：</span><a href=\"https://github.com/ouuan/iles-blog/blob/master/src/components/TextJustifyFix.vue\"><code>TextJustifyFix<wbr>.<wbr>vue</code></a></p>\n<ul>\n<li>只修改 <code>text<wbr>-<wbr>align<wbr>: <wbr>justify</code> 的元素<span class=\"mojikumi-line-end\">，</span>如果已经设置为其他对齐方式<span class=\"mojikumi-line-start\">（</span>例如表格中的居中对齐<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">，</span>就不应修改<span class=\"mojikumi-line-end\">。</span></li>\n<li>使用了 <a href=\"https://developer.mozilla.org/docs/Web/API/FontFaceSet/ready\"><code>document<wbr>.<wbr>fonts<wbr>.<wbr>ready</code></a> 来等待字体全部加载好再检查宽度<span class=\"mojikumi-line-end\">。</span></li>\n</ul>\n<h2 id=\"标点挤压\" class=\"heading\"><a href=\"#标点挤压\" class=\"heading-anchor\" aria-label=\"章节： 标点挤压\" tabindex=\"-1\"></a><span>标点挤压</span></h2>\n<p>代码实现<span class=\"mojikumi-line-end\">：</span><a href=\"https://github.com/ouuan/iles-blog/blob/master/src/remark/mojikumi.ts\"><code>mojikumi<wbr>.<wbr>ts</code></a><span class=\"mojikumi-line-end\">、</span><a href=\"https://github.com/ouuan/iles-blog/blob/master/src/styles/mojikumi.scss\"><code>mojikumi<wbr>.<wbr>scss</code></a><span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"相邻标点的挤压\" class=\"heading\"><a href=\"#相邻标点的挤压\" class=\"heading-anchor\" aria-label=\"章节： 相邻标点的挤压\" tabindex=\"-1\"></a><span>相邻标点的挤压</span></h3>\n<p>例如<span class=\"mojikumi\">：</span><wbr><span class=\"mojikumi-line-start\">「</span><span class=\"no-mojikumi\"><span class=\"mojikumi\">：</span><wbr><span class=\"mojikumi-line-start\">“</span><span class=\"mojikumi\">。</span><span class=\"mojikumi\">”</span><wbr><span class=\"mojikumi-line-start\">（</span><span class=\"mojikumi\">。</span><span class=\"mojikumi-line-end\">）</span></span><span class=\"mojikumi-line-end\">」</span>→<span class=\"mojikumi-line-start\">「</span><span><span class=\"mojikumi\">：</span><wbr><span class=\"mojikumi-line-start\">“</span><span class=\"mojikumi\">。</span><span class=\"mojikumi\">”</span><wbr><span class=\"mojikumi-line-start\">（</span><span class=\"mojikumi\">。</span><span class=\"mojikumi-line-end\">）</span></span><span class=\"mojikumi\">」</span><span class=\"mojikumi-line-end\">。</span>当然本页其他地方也有一些例子<span class=\"mojikumi-line-end\">。</span></p>\n<p>具体规则 <a href=\"https://www.w3.org/TR/2022/DNOTE-clreq-20221009/#compression_rules_for_consecutive_punctuation_marks\">clreq</a> 中说的比较模糊<span class=\"mojikumi-line-end\">，</span>可以参考 <a href=\"https://www.w3.org/TR/2020/NOTE-jlreq-20200811/#positioning_of_consecutive_opening_brackets_closing_brackets_comma_full_stops_and_middle_dots\">jlreq</a><span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"使用-css-去除标点的一半空白\" class=\"heading\"><a href=\"#使用-css-去除标点的一半空白\" class=\"heading-anchor\" aria-label=\"章节： 使用 CSS 去除标点的一半空白\" tabindex=\"-1\"></a><span>使用 CSS 去除标点的一半空白</span></h3>\n<p>CSS 实现标点挤压有两种方式<span class=\"mojikumi-line-end\">：</span></p>\n<ul>\n<li>使用 <a href=\"https://developer.mozilla.org/docs/Web/CSS/letter-spacing\"><code>letter<wbr>-<wbr>spacing<wbr>: -<wbr>0<wbr>.<wbr>5em</code></a> 去掉右侧空白<span class=\"mojikumi-line-end\">，</span><code>margin<wbr>-<wbr>left<wbr>: -<wbr>0<wbr>.<wbr>5em</code> 去掉左侧空白<span class=\"mojikumi-line-end\">。</span></li>\n<li>使用 <a href=\"https://developer.mozilla.org/docs/Web/CSS/font-feature-settings\"><code>font<wbr>-<wbr>feature<wbr>-<wbr>settings<wbr>:</code></a> <a href=\"https://learn.microsoft.com/typography/opentype/spec/features_fj#halt\"><code>\"halt\"</code></a> 将支持 halt 特性的字体变为半宽<span class=\"mojikumi-line-end\">。</span></li>\n</ul>\n<p>使用 <code>letter<wbr>-<wbr>spacing</code> 是有讲究的<span class=\"mojikumi-line-end\">，</span>比 <code>margin<wbr>-<wbr>right</code> 靠谱<span class=\"mojikumi-line-end\">，</span>因为字符真的会只占半宽<span class=\"mojikumi-line-end\">，</span>而不是占全宽但一半和下一个字符重叠<span class=\"mojikumi-line-end\">，</span>甚至造成 overflow<span class=\"mojikumi-line-end\">，</span>可能导致滚动条出现<span class=\"mojikumi-line-end\">。</span>但 <code>letter<wbr>-<wbr>spacing</code> 不能去掉左侧空白<span class=\"mojikumi-line-end\">，</span>就只能使用 <code>margin<wbr>-<wbr>left</code> 了<span class=\"mojikumi-line-end\">。</span></p>\n<p>通过 halt 特性变为半宽是更加靠谱的做法<span class=\"mojikumi-line-end\">，</span>但不是所有字体都支持这一特性<span class=\"mojikumi-line-end\">，</span>思源宋体是支持的<span class=\"mojikumi-line-end\">，</span><span class=\"font-kai\">霞鹜文楷</span> 不支持<span class=\"mojikumi-line-end\">。</span>并且<span class=\"mojikumi-line-end\">，</span>halt 只能变为半宽<span class=\"mojikumi-line-end\">，</span>不能变成其他宽度<span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"行首行尾标点的挤压\" class=\"heading\"><a href=\"#行首行尾标点的挤压\" class=\"heading-anchor\" aria-label=\"章节： 行首行尾标点的挤压\" tabindex=\"-1\"></a><span>行首行尾标点的挤压</span></h3>\n<p>这里参考了 <a href=\"https://github.com/ethantw/Han\">Han.css</a> 的实现<span class=\"mojikumi-line-end\">，</span>就是把全宽的标点改成半宽标点和一个通过 <code>::before</code> 或 <code>::end</code> 添加的半宽的空格<span class=\"mojikumi-line-end\">：</span></p>\n<ul>\n<li>因为是 pseudo element<span class=\"mojikumi-line-end\">，</span>所以不影响文本内容<span class=\"mojikumi-line-start\">（</span>例如复制出来的文本<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">。</span></li>\n<li>因为是空格<span class=\"mojikumi-line-end\">，</span>所以位于行首或行尾时就会发生<a href=\"https://www.w3.org/TR/2023/CRD-css-text-3-20230127/#white-space-phase-2\">空格塌陷</a><span class=\"mojikumi-line-end\">。</span></li>\n</ul>\n<h3 id=\"英文标点的处理\" class=\"heading\"><a href=\"#英文标点的处理\" class=\"heading-anchor\" aria-label=\"章节： 英文标点的处理\" tabindex=\"-1\"></a><span>英文标点的处理</span></h3>\n<p>我采用了一个比较简单的判断英文标点的方法<span class=\"mojikumi-line-end\">：</span></p>\n<ul>\n<li>空白一侧<span class=\"mojikumi-line-start\">（</span>左括号<span class=\"mojikumi-line-end\">、</span>左引号等是左侧<span class=\"mojikumi-line-end\">，</span>其他一般是右侧<span class=\"mojikumi-line-end\">）</span>是空格时是英文标点<span class=\"mojikumi-line-end\">；</span></li>\n<li>右单引号右侧是字母时是撇号<span class=\"mojikumi-line-end\">。</span></li>\n</ul>\n<p>英文标点一般调为半宽即可<span class=\"mojikumi-line-end\">，</span>但撇号半宽还是有些太宽了<span class=\"mojikumi-line-end\">，</span>应该<span class=\"mojikumi-line-start\">（</span>根据字体而定<span class=\"mojikumi-line-end\">）</span>调成大约三分之一宽<span class=\"mojikumi-line-end\">，</span>单引号也可以调窄一点<span class=\"mojikumi-line-end\">，</span>所以可以特判一下单引号<span class=\"mojikumi-line-end\">，</span>使用 <code>letter<wbr>-<wbr>spacing</code> 和 <code>margin<wbr>-<wbr>left</code><span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"给霞鹜文楷添加-halt-特性\" class=\"heading\"><a href=\"#给霞鹜文楷添加-halt-特性\" class=\"heading-anchor\" aria-label=\"章节： 给霞鹜文楷添加 halt 特性\" tabindex=\"-1\"></a><span>给霞鹜文楷添加 halt 特性</span></h3>\n<p>因为 <a href=\"https://github.com/lxgw/LxgwWenKai/issues/104\">添加 halt 特性的 issue</a> 被拒了<span class=\"mojikumi-line-end\">，</span>我就自己改了一个 <a href=\"https://github.com/ouuan/XiaWu-Punctuations\">标点字体</a><span class=\"mojikumi-line-end\">，</span>顺便把引号改成了和思源宋体一致的全宽以方便一起处理<span class=\"mojikumi-line-start\">（</span>也可以理解为改引号宽度顺便添加 halt 特性<span class=\"mojikumi-line-end\">，</span>毕竟没有 halt 也可以用 <code>letter<wbr>-<wbr>spacing</code> 和 <code>margin<wbr>-<wbr>left</code> 凑合一下<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">，</span>具体可以看仓库里的 patch 文件<span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"关于-chws-特性\" class=\"heading\"><a href=\"#关于-chws-特性\" class=\"heading-anchor\" aria-label=\"章节： 关于 chws 特性\" tabindex=\"-1\"></a><span>关于 chws 特性</span></h3>\n<p><a href=\"https://learn.microsoft.com/typography/opentype/spec/features_ae#chws\">chws 特性</a> 可以根据上下文自动挤压连续标点<span class=\"mojikumi-line-end\">，</span>一眼看上去似乎比 halt 更好用<span class=\"mojikumi-line-end\">。</span></p>\n<p>思源宋体不支持这一特性<span class=\"mojikumi-line-end\">，</span>只不过有 <a href=\"https://github.com/googlefonts/chws_tool\">chws_tool</a> 可以用来转换<span class=\"mojikumi-line-end\">。</span></p>\n<p>但是<span class=\"mojikumi-line-end\">，</span>chws 不支持行首行尾标点挤压<span class=\"mojikumi-line-end\">，</span>而如果要支持行首行尾挤压<span class=\"mojikumi-line-end\">，</span>就得把支持连续标点挤压的工作做一遍<span class=\"mojikumi-line-start\">（</span>因为要知道哪些标点已经被挤成了半宽哪些只在行首行尾挤成半宽<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">，</span>这样一来 chws 就没多大意义了<span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"yet-another-mojikumi？\" class=\"heading\"><a href=\"#yet-another-mojikumi？\" class=\"heading-anchor\" aria-label=\"章节： Yet another mojikumi？\" tabindex=\"-1\"></a><span>Yet another mojikumi？</span></h3>\n<p>有一些现成的支持标点挤压的库<span class=\"mojikumi-line-end\">，</span>例如 <a href=\"https://github.com/sivan/heti\">heti</a> 和 <a href=\"https://github.com/ethantw/Han\">Han.css</a><span class=\"mojikumi-line-end\">。</span>但是我有一些需求<span class=\"mojikumi-line-end\">：</span></p>\n<ul>\n<li>要能 SSG <span class=\"mojikumi\">（</span>SSR<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">，</span>不能在客户端运行<span class=\"mojikumi-line-end\">。</span>最好是能在 remark / rehype 中进行处理<span class=\"mojikumi-line-end\">。</span></li>\n<li>最好是尽量使用 halt 而非 <code>letter<wbr>-<wbr>spacing</code> 和 <code>margin<wbr>-<wbr>left</code><span class=\"mojikumi-line-end\">。</span></li>\n<li>要能添加一些自定义的规则<span class=\"mojikumi-line-end\">，</span>比如对单引号特殊处理<span class=\"mojikumi-line-end\">。</span></li>\n<li>我只需要标点挤压<span class=\"mojikumi-line-end\">，</span>不想要一个 CSS 全家桶<span class=\"mojikumi-line-end\">，</span>或者带有其他功能的 JS<span class=\"mojikumi-line-end\">。</span></li>\n</ul>\n<p>现有的库难以同时满足上面这些需求<span class=\"mojikumi-line-end\">，</span>所以我就自己写了<span class=\"mojikumi-line-end\">。</span></p>\n<p>本来想写一个通用的库<span class=\"mojikumi-line-end\">，</span>但通用的逻辑貌似没多少代码<span class=\"mojikumi-line-end\">，</span>不值得写成一个库<span class=\"mojikumi-line-end\">。</span>而我的整个 remark 插件又有点 opinionated<span class=\"mojikumi-line-end\">，</span>可能不太适合做成库<span class=\"mojikumi-line-start\">（</span><s>懒得做成库</s><span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">，</span>想用的话可以在遵守 <a href=\"https://github.com/ouuan/iles-blog/blob/master/LICENSE\">AGPL 3.0</a> 的前提下直接复制<span class=\"mojikumi-line-start\">（</span>本文提到的其他代码也是一样<span class=\"mojikumi-line-end\">，</span>当然<span class=\"mojikumi-line-end\">，</span>如果是两三行的代码片段就不至于 AGPL 了<span class=\"mojikumi-line-end\">，</span>简单标一下出处就 OK<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">。</span></p>\n<h2 id=\"代码中的-unicode（cjk）的字体\" class=\"heading\"><a href=\"#代码中的-unicode（cjk）的字体\" class=\"heading-anchor\" aria-label=\"章节： 代码中的 Unicode（CJK）的字体\" tabindex=\"-1\"></a><span>代码中的 Unicode<span class=\"mojikumi-line-start\">（</span>CJK<span class=\"mojikumi-line-end\">）</span>的字体</span></h2>\n<p><s>为什么马上要考抽代了你在这更新博客<span class=\"mojikumi-line-end\">，</span>我也很想知道<span class=\"mojikumi-line-start\">（</span></s> 其实是在一个群里看到有人在聊博客的等宽字体<span class=\"mojikumi-line-end\">，</span>然后看了一眼自己的等宽字体<span class=\"mojikumi-line-end\">，</span>差点没想起来这个 trick 在干什么<span class=\"mojikumi-line-end\">。</span></p>\n<p>很多等宽字体是没有 CJK 字形的<span class=\"mojikumi-line-end\">，</span>在 Windows 的默认字体下<span class=\"mojikumi-line-end\">，</span>fallback 到 <code>monospace</code> 时中文会显示为<code style=\"font-family: NSimSun, SimSun, serif;\">宋体</code><span class=\"mojikumi-line-end\">，</span>而一般来说应当是<code>黑体</code><span class=\"mojikumi-line-end\">。</span>所以可以为 Unicode 部分专门指定一个 fallback font<span class=\"mojikumi-line-end\">，</span>通过指定 <code>unicode<wbr>-<wbr>range</code> 来让 ASCII 字符依然 fallback 到 <code>monospace</code><span class=\"mojikumi-line-end\">。</span></p>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h3 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"CSS 代码块\" data-v-c675dba6>CSS</h3><ile-root id=\"ile-58\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-58--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #994CC3\">@font-face</span><span style=\"color: #403F53\"> {</span></span>\n<span><span style=\"color: #403F53\">  </span><span style=\"color: #0C969B\">font-family</span><span style=\"color: #403F53\">: </span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">Monospace Unicode Fallback</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #403F53\">;</span></span>\n<span><span style=\"color: #403F53\">  </span><span style=\"color: #0C969B\">src</span><span style=\"color: #403F53\">: </span><span style=\"color: #4876D6\">local</span><span style=\"color: #403F53\">(</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">Noto Sans Mono CJK SC</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #403F53\">),</span></span>\n<span><span style=\"color: #403F53\">       </span><span style=\"color: #4876D6\">local</span><span style=\"color: #403F53\">(</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">Source Han Mono SC</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #403F53\">),</span></span>\n<span><span style=\"color: #403F53\">       </span><span style=\"color: #4876D6\">local</span><span style=\"color: #403F53\">(</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">Noto Sans CJK SC</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #403F53\">),</span></span>\n<span><span style=\"color: #403F53\">       </span><span style=\"color: #4876D6\">local</span><span style=\"color: #403F53\">(</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">Source Han Sans SC</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #403F53\">),</span></span>\n<span><span style=\"color: #403F53\">       </span><span style=\"color: #4876D6\">local</span><span style=\"color: #403F53\">(</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">Microsoft YaHei</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #403F53\">);</span></span>\n<span><span style=\"color: #403F53\">  </span><span style=\"color: #0C969B\">unicode-range</span><span style=\"color: #403F53\">: </span><span style=\"color: #4876D6\">U+1000-fffff</span><span style=\"color: #403F53\">;</span></span>\n<span><span style=\"color: #403F53\">}</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">:root</span><span style=\"color: #403F53\"> {</span></span>\n<span><span style=\"color: #403F53\">  </span><span style=\"color: #4876D6\">--default-mono-font</span><span style=\"color: #403F53\">: </span><span style=\"color: #0C969B\">ui-monospace</span><span style=\"color: #403F53\">, DejaVu Sans Mono, Noto Sans Mono, SFMono-Regular, Menlo, Monaco, Consolas, </span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">Monospace Unicode Fallback</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #403F53\">, </span><span style=\"color: #0C969B\">monospace</span><span style=\"color: #403F53\">, </span><span style=\"color: #4876D6\">var</span><span style=\"color: #403F53\">(</span><span style=\"color: #4876D6\">--default-emoji-font</span><span style=\"color: #403F53\">);</span></span>\n<span><span style=\"color: #403F53\">}</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C792EA\">@font-face</span><span style=\"color: #D6DEEB\"> {</span></span>\n<span><span style=\"color: #D6DEEB\">  </span><span style=\"color: #80CBC4\">font-family</span><span style=\"color: #D6DEEB\">: </span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">Monospace Unicode Fallback</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #D6DEEB\">;</span></span>\n<span><span style=\"color: #D6DEEB\">  </span><span style=\"color: #80CBC4\">src</span><span style=\"color: #D6DEEB\">: </span><span style=\"color: #C5E478\">local</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">Noto Sans Mono CJK SC</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #D6DEEB\">),</span></span>\n<span><span style=\"color: #D6DEEB\">       </span><span style=\"color: #C5E478\">local</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">Source Han Mono SC</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #D6DEEB\">),</span></span>\n<span><span style=\"color: #D6DEEB\">       </span><span style=\"color: #C5E478\">local</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">Noto Sans CJK SC</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #D6DEEB\">),</span></span>\n<span><span style=\"color: #D6DEEB\">       </span><span style=\"color: #C5E478\">local</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">Source Han Sans SC</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #D6DEEB\">),</span></span>\n<span><span style=\"color: #D6DEEB\">       </span><span style=\"color: #C5E478\">local</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">Microsoft YaHei</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #D6DEEB\">);</span></span>\n<span><span style=\"color: #D6DEEB\">  </span><span style=\"color: #80CBC4\">unicode-range</span><span style=\"color: #D6DEEB\">: </span><span style=\"color: #82AAFF\">U+1000-fffff</span><span style=\"color: #D6DEEB\">;</span></span>\n<span><span style=\"color: #D6DEEB\">}</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">:root</span><span style=\"color: #D6DEEB\"> {</span></span>\n<span><span style=\"color: #D6DEEB\">  </span><span style=\"color: #C5E478\">--default-mono-font</span><span style=\"color: #D6DEEB\">: </span><span style=\"color: #7FDBCA\">ui-monospace</span><span style=\"color: #D6DEEB\">, DejaVu Sans Mono, Noto Sans Mono, SFMono-Regular, Menlo, Monaco, Consolas, </span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">Monospace Unicode Fallback</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #D6DEEB\">, </span><span style=\"color: #7FDBCA\">monospace</span><span style=\"color: #D6DEEB\">, </span><span style=\"color: #C5E478\">var</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #C5E478\">--default-emoji-font</span><span style=\"color: #D6DEEB\">);</span></span>\n<span><span style=\"color: #D6DEEB\">}</span></span></code></pre></div></section>\n<h2 id=\"为不同语言设置不同字体\" class=\"heading\"><a href=\"#为不同语言设置不同字体\" class=\"heading-anchor\" aria-label=\"章节： 为不同语言设置不同字体\" tabindex=\"-1\"></a><span>为不同语言设置不同字体</span></h2>\n<p>其实我感觉我的做法有点丑<span class=\"mojikumi-line-start\">（</span><span class=\"mojikumi-line-end\">，</span>还好有 UnoCSS 稍微强一点<span class=\"mojikumi-line-start\">（</span></p>\n<ul>\n<li>为每个样式<span class=\"mojikumi-line-start\">（</span>例如宋/<span class=\"font-kai\">楷</span><span class=\"mojikumi-line-end\">）</span>和每个语言分别用一个 CSS 变量记录当前字体<span class=\"mojikumi-line-end\">。</span></li>\n<li>改变样式时修改 <code>font<wbr>-<wbr>family</code> 为这个样式的字体<span class=\"mojikumi-line-end\">，</span>修改每个语言的字体为这个样式<span class=\"mojikumi-line-end\">。</span></li>\n<li>改变语言时修改 <code>font<wbr>-<wbr>family</code> 为这个语言的字体<span class=\"mojikumi-line-end\">，</span>修改每个样式的字体为这个语言<span class=\"mojikumi-line-end\">。</span></li>\n</ul>\n<p>语言通过 <code>lang</code> 属性标识<span class=\"mojikumi-line-end\">。</span></p>\n<p>详见 <a href=\"https://github.com/ouuan/iles-blog/commit/e8df882f4a550bfd5db50f837f0a9ab376262dc4\">commit</a><span class=\"mojikumi-line-end\">。</span></p>",
            "url": "https://ouuan.moe/post/2023/02/typography-tricks",
            "title": "一些博客排版优化小 trick",
            "summary": "\n\n<p>我的博客好像还用了不少奇怪的小 trick 来优化 <span class=\"mojikumi\">（</span><s>hopefully</s><span class=\"mojikumi\">）</span> 排版<span class=\"mojikumi-line-end\">，</span>在这整理一下<span class=\"mojikumi-line-end\">，</span>分享出来<span class=\"mojikumi-line-end\">，</span>也是怕几年<span class=\"mojikumi-line-start\">（</span><s>几天</s><span class=\"mojikumi-line-end\">）</span>后想不起来这些奇怪的东西是在干什么<span class=\"mojikumi-line-end\">。</span></p>\n<p>主要是 text justify 相关和标点挤压相关<span class=\"mojikumi-line-end\">。</span></p>\n",
            "date_modified": "2023-02-09T15:19:45.000Z",
            "tags": [
                "blog",
                "CSS",
                "Web",
                "经验分享"
            ]
        },
        {
            "id": "https://ouuan.moe/post/2022/11/pitfalls-of-breaststroke-breathing",
            "content_html": "<p>这学期选了游泳零基础班作为体育课<span class=\"mojikumi-line-end\">。</span>一开始的时候只是略低于平均水平<span class=\"mojikumi-line-end\">，</span>但到后来学习换气的时候<span class=\"mojikumi-line-end\">，</span>在 20~40m 左右卡了很久<span class=\"mojikumi-line-end\">，</span>最后能连续游 50m 比班上倒数第二晚了三节课<span class=\"mojikumi-line-end\">。</span></p>\n<p>在体育方面会垫底是我预料之中的<span class=\"mojikumi-line-end\">，</span>但比倒数第二差太多<span class=\"mojikumi-line-end\">，</span>长期和班上同学分开上课<span class=\"mojikumi-line-end\">，</span>还是挺难受的<span class=\"mojikumi-line-end\">。</span>但是<span class=\"mojikumi-line-end\">，</span>这段经历也让我有了丰富的失败经验<span class=\"mojikumi-line-start\">（</span><span class=\"mojikumi-line-end\">，</span>可以水一篇踩坑记录<span class=\"mojikumi-line-end\">，</span>幸运的话可能还能在未来帮到某人<span class=\"mojikumi-line-end\">。</span></p>\n\n<p>在过程中<span class=\"mojikumi-line-end\">，</span>老师不断和我说<span class=\"mojikumi-line-start\">“</span>太紧张了<span class=\"mojikumi\">”</span><wbr><span class=\"mojikumi-line-start\">“</span>要坚持下来<span class=\"mojikumi\">”</span><wbr><span class=\"mojikumi-line-start\">“</span>呛到水<span class=\"mojikumi-line-end\">、</span>换气不充分要学会调整<span class=\"mojikumi-line-end\">，</span>不要总是停下来<span class=\"mojikumi\">”</span><wbr><span class=\"mojikumi-line-start\">“</span>为什么停下来呢<span class=\"mojikumi\">”</span><wbr><span class=\"mojikumi-line-start\">（</span>也有动作纠正<span class=\"mojikumi-line-end\">，</span>只不过在这之前有很多 PUA<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">，</span>但在最后学会之后<span class=\"mojikumi-line-end\">，</span>我还是觉得<span class=\"mojikumi-line-end\">，</span>正确的动作远胜于盲目的练习<span class=\"mojikumi-line-end\">，</span>更别提玄学的<span class=\"mojikumi-line-start\">《</span>心态<span class=\"mojikumi-line-end\">》</span>了<span class=\"mojikumi-line-end\">。</span>比起出问题后学会调整<span class=\"mojikumi-line-end\">，</span>不出问题才是最重要的<span class=\"mojikumi-line-end\">。</span></p>\n<p>不知道心态<span class=\"mojikumi-line-end\">、</span>毅力在游几百米时有多重要<span class=\"mojikumi-line-end\">，</span>但如果几节课都没什么进步<span class=\"mojikumi-line-end\">、</span>50m 都游不下来<span class=\"mojikumi-line-end\">，</span>很可能还是动作有问题<span class=\"mojikumi-line-end\">。</span></p>\n<p>虽然整个过程很艰辛<span class=\"mojikumi-line-end\">，</span>但总结起来也没多少东西<span class=\"mojikumi-line-end\">，</span>就是下面这几点<span class=\"mojikumi-line-end\">：</span></p>\n<ol>\n<li>在抬头换气前<span class=\"mojikumi-line-end\">，</span>要先在水下把气吐干净<span class=\"mojikumi-line-end\">。</span>开始吐气的时机大概是换气前最后一次蹬腿时<span class=\"mojikumi-line-end\">。</span></li>\n<li>如果蹬太多次腿再换气<span class=\"mojikumi-line-end\">，</span>可能会气不够<span class=\"mojikumi-line-end\">，</span>可以只蹬 1~2 次腿就换气<span class=\"mojikumi-line-end\">。</span></li>\n<li>换气后下沉是正常的<span class=\"mojikumi-line-end\">，</span>换气后立即蹬一次腿可以缓解下沉<span class=\"mojikumi-line-end\">。</span></li>\n<li>划手时<span class=\"mojikumi-line-end\">，</span>要以合适的角度往下撑<span class=\"mojikumi-line-end\">，</span>凭借下撑的反作用力让头抬起来<span class=\"mojikumi-line-end\">。</span>否则<span class=\"mojikumi-line-end\">，</span>如果单靠下巴和腰<span class=\"mojikumi-line-end\">，</span>头就很难抬高<span class=\"mojikumi-line-end\">，</span>从而没有充分的时间换气<span class=\"mojikumi-line-end\">。</span></li>\n<li>虽然吸气只用嘴<span class=\"mojikumi-line-end\">，</span>但吐气时可以适当用鼻子辅助<span class=\"mojikumi-line-end\">，</span>也可以一定程度上防止鼻子进水<span class=\"mojikumi-line-end\">。</span></li>\n<li>嘴巴要张大<span class=\"mojikumi-line-end\">，</span>类似于打哈欠的程度<span class=\"mojikumi-line-end\">，</span>以至于吸气时感受不到气流<span class=\"mojikumi-line-end\">。</span>如果嘴张的小<span class=\"mojikumi-line-end\">，</span>就容易换气不充分或者呛到水<span class=\"mojikumi-line-end\">，</span>时间久了也容易累<span class=\"mojikumi-line-end\">、</span>不适<span class=\"mojikumi-line-end\">。</span>一开始老师跟我说要张大的时候我还以为是从 wo 张大到 o<span class=\"mojikumi-line-end\">，</span>后来才知道要到打哈欠的程度<span class=\"mojikumi-line-end\">。</span></li>\n</ol>\n<p>不知道最后老师说<span class=\"mojikumi-line-start\">“</span>比上周好多了<span class=\"mojikumi\">”</span><wbr><span class=\"mojikumi-line-start\">“</span>这不是 100m 就游下来了吗<span class=\"mojikumi-line-end\">”</span>的时候<span class=\"mojikumi-line-end\">，</span>是否觉得我<span class=\"mojikumi-line-start\">“</span>不紧张了<span class=\"mojikumi\">”</span><wbr><span class=\"mojikumi-line-start\">“</span>能坚持下来了<span class=\"mojikumi\">”</span><span class=\"mojikumi-line-end\">。</span>反正<span class=\"mojikumi-line-end\">，</span>我心里想的是<span class=\"mojikumi\">：</span><wbr><span class=\"mojikumi-line-start\">“</span>原来嘴 tmd 要张这么大<span class=\"mojikumi-line-end\">，</span>嘴一张大立刻轻松一万倍<span class=\"mojikumi\">。</span><span class=\"mojikumi-line-end\">”</span></p>\n<p>P.S. 这篇的 <a href=\"https://ogp.me/\">og</a> image 是 <a href=\"https://www.bilibili.com/video/av556552520\"><span class=\"mojikumi-line-start\">【</span>中字<span class=\"mojikumi-line-end\">】</span>打铁自述励志学游泳经历</a> 的 <a href=\"/images/2022/11/swim.jpg\">封面</a><span class=\"mojikumi-line-end\">，</span>因为很草所以想起来就用作 og image 了<span class=\"mojikumi-line-start\">（</span><span class=\"mojikumi-line-end\">，</span>然后重新看了一遍这个切片<span class=\"mojikumi-line-end\">，</span>当时看的时候还体会不到按距离分组<span class=\"mojikumi-line-end\">、</span>自己垫底的感觉<span class=\"mojikumi-line-end\">，</span>现在也能对 kanon<span class=\"mojikumi-line-start\">（</span><s>考哥震怒</s><span class=\"mojikumi-line-end\">）</span>的苦呀西感同身受了<span class=\"mojikumi-line-end\">。</span></p>",
            "url": "https://ouuan.moe/post/2022/11/pitfalls-of-breaststroke-breathing",
            "title": "蛙泳换气踩坑记录",
            "summary": "<p>这学期选了游泳零基础班作为体育课<span class=\"mojikumi-line-end\">。</span>一开始的时候只是略低于平均水平<span class=\"mojikumi-line-end\">，</span>但到后来学习换气的时候<span class=\"mojikumi-line-end\">，</span>在 20~40m 左右卡了很久<span class=\"mojikumi-line-end\">，</span>最后能连续游 50m 比班上倒数第二晚了三节课<span class=\"mojikumi-line-end\">。</span></p>\n<p>在体育方面会垫底是我预料之中的<span class=\"mojikumi-line-end\">，</span>但比倒数第二差太多<span class=\"mojikumi-line-end\">，</span>长期和班上同学分开上课<span class=\"mojikumi-line-end\">，</span>还是挺难受的<span class=\"mojikumi-line-end\">。</span>但是<span class=\"mojikumi-line-end\">，</span>这段经历也让我有了丰富的失败经验<span class=\"mojikumi-line-start\">（</span><span class=\"mojikumi-line-end\">，</span>可以水一篇踩坑记录<span class=\"mojikumi-line-end\">，</span>幸运的话可能还能在未来帮到某人<span class=\"mojikumi-line-end\">。</span></p>\n",
            "date_modified": "2022-11-10T04:15:03.000Z",
            "tags": [
                "游泳",
                "经验分享"
            ]
        },
        {
            "id": "https://ouuan.moe/post/2022/10/basic-tex-and-r-for-physics-lab",
            "content_html": "<p>这学期选了物理实验B<span class=\"mojikumi-line-end\">。</span></p>\n<p>以前基本上只在 Markdown 里写 LaTeX<span class=\"mojikumi-line-end\">，</span>没怎么写过 <code>.tex</code><span class=\"mojikumi-line-end\">，</span>R 则完全没有接触过<span class=\"mojikumi-line-end\">。</span>理论上我应该好好学一学再用<span class=\"mojikumi-line-end\">，</span>但实际上没时间好好学<span class=\"mojikumi-line-end\">。</span>总不能用 Word 写实验报告并且手算吧<span class=\"mojikumi-line-start\">（</span></p>\n<p>这里总结一下我写实验报告用到的 TeX 和 R<span class=\"mojikumi-line-end\">。</span></p>\n\n<h2 id=\"tex\" class=\"heading\"><a href=\"#tex\" class=\"heading-anchor\" aria-label=\"章节： TeX\" tabindex=\"-1\"></a><span>TeX</span></h2>\n<h3 id=\"中文\" class=\"heading\"><a href=\"#中文\" class=\"heading-anchor\" aria-label=\"章节： 中文\" tabindex=\"-1\"></a><span>中文</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"TeX 代码块\" data-v-c675dba6>TeX</h4><ile-root id=\"ile-38\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-38--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">\\documentclass</span><span style=\"color: #403F53\">[UTF8, 11pt, fontset=none]{ctexart}  </span><span style=\"color: #989FB1\">% 需要禁用默认 fontset 才能自定义字体</span></span>\n<span><span style=\"color: #4876D6\">\\setCJKmainfont</span><span style=\"color: #403F53\">{Source Han Serif SC}</span></span>\n<span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">[T1]{fontenc}</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C5E478\">\\documentclass</span><span style=\"color: #D6DEEB\">[UTF8, 11pt, fontset=none]{ctexart}  </span><span style=\"color: #637777\">% 需要禁用默认 fontset 才能自定义字体</span></span>\n<span><span style=\"color: #C5E478\">\\setCJKmainfont</span><span style=\"color: #D6DEEB\">{Source Han Serif SC}</span></span>\n<span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">[T1]{fontenc}</span></span></code></pre></div></section>\n<h3 id=\"基本页面格式\" class=\"heading\"><a href=\"#基本页面格式\" class=\"heading-anchor\" aria-label=\"章节： 基本页面格式\" tabindex=\"-1\"></a><span>基本页面格式</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"TeX 代码块\" data-v-c675dba6>TeX</h4><ile-root id=\"ile-39\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-39--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">\\ctexset</span><span style=\"color: #403F53\">{section/format=</span><span style=\"color: #4876D6\">\\Large\\bfseries</span><span style=\"color: #403F53\">}  </span><span style=\"color: #989FB1\">% 参照讲义上的格式，标题左对齐</span></span>\n<span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">[a4paper, hmargin=1.5cm, vmargin=2cm]{geometry}  </span><span style=\"color: #989FB1\">% 页面大小和边距</span></span>\n<span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">{enumitem}</span></span>\n<span><span style=\"color: #4876D6\">\\setlist</span><span style=\"color: #403F53\">{topsep=0pt,itemsep=-4pt}  </span><span style=\"color: #989FB1\">% 列表间距</span></span>\n<span><span style=\"color: #4876D6\">\\pagestyle</span><span style=\"color: #403F53\">{plain}                  </span><span style=\"color: #989FB1\">% ctex 默认的页码在右上角，改成下方</span></span>\n<span><span style=\"color: #4876D6\">\\setlength</span><span style=\"color: #403F53\">{</span><span style=\"color: #4876D6\">\\parskip</span><span style=\"color: #403F53\">}{0.5em}        </span><span style=\"color: #989FB1\">% 段落间距</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C5E478\">\\ctexset</span><span style=\"color: #D6DEEB\">{section/format=</span><span style=\"color: #C5E478\">\\Large\\bfseries</span><span style=\"color: #D6DEEB\">}  </span><span style=\"color: #637777\">% 参照讲义上的格式，标题左对齐</span></span>\n<span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">[a4paper, hmargin=1.5cm, vmargin=2cm]{geometry}  </span><span style=\"color: #637777\">% 页面大小和边距</span></span>\n<span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">{enumitem}</span></span>\n<span><span style=\"color: #C5E478\">\\setlist</span><span style=\"color: #D6DEEB\">{topsep=0pt,itemsep=-4pt}  </span><span style=\"color: #637777\">% 列表间距</span></span>\n<span><span style=\"color: #C5E478\">\\pagestyle</span><span style=\"color: #D6DEEB\">{plain}                  </span><span style=\"color: #637777\">% ctex 默认的页码在右上角，改成下方</span></span>\n<span><span style=\"color: #C5E478\">\\setlength</span><span style=\"color: #D6DEEB\">{</span><span style=\"color: #C5E478\">\\parskip</span><span style=\"color: #D6DEEB\">}{0.5em}        </span><span style=\"color: #637777\">% 段落间距</span></span></code></pre></div></section>\n<h3 id=\"pdf-metadata\" class=\"heading\"><a href=\"#pdf-metadata\" class=\"heading-anchor\" aria-label=\"章节： PDF metadata\" tabindex=\"-1\"></a><span>PDF metadata</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"TeX 代码块\" data-v-c675dba6>TeX</h4><ile-root id=\"ile-40\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-40--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">[pdfusetitle]{hyperref}</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">[pdfusetitle]{hyperref}</span></span></code></pre></div></section>\n<h3 id=\"标题\" class=\"heading\"><a href=\"#标题\" class=\"heading-anchor\" aria-label=\"章节： 标题\" tabindex=\"-1\"></a><span>标题</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"TeX 代码块\" data-v-c675dba6>TeX</h4><ile-root id=\"ile-41\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-41--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">\\title</span><span style=\"color: #403F53\">{实验名称</span><span style=\"color: #AA0982\">\\ </span><span style=\"color: #403F53\">实验报告}</span></span>\n<span><span style=\"color: #4876D6\">\\author</span><span style=\"color: #403F53\">{姓名}</span></span>\n<span><span style=\"color: #4876D6\">\\makeatletter</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\begin</span><span style=\"color: #403F53\">{center}</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\LARGE</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\textbf</span><span style=\"color: #403F53\">{</span><span style=\"color: #4876D6\">\\@title</span><span style=\"color: #403F53\">}</span></span>\n<span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\vspace</span><span style=\"color: #403F53\">{0.5cm}</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\normalsize</span></span>\n<span><span style=\"color: #403F53\">    实验者姓名: </span><span style=\"color: #4876D6\">\\@author\\hspace</span><span style=\"color: #403F53\">{15pt}</span></span>\n<span><span style=\"color: #403F53\">    学号: 2021000000</span><span style=\"color: #4876D6\">\\hspace</span><span style=\"color: #403F53\">{15pt}</span></span>\n<span><span style=\"color: #403F53\">    实验日期: 2202年10月32日</span><span style=\"color: #4876D6\">\\hspace</span><span style=\"color: #403F53\">{15pt}</span></span>\n<span><span style=\"color: #403F53\">    实验台号: 1</span><span style=\"color: #4876D6\">\\hspace</span><span style=\"color: #403F53\">{15pt}</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\vspace</span><span style=\"color: #403F53\">{0.5cm}</span></span>\n<span><span style=\"color: #4876D6\">\\end</span><span style=\"color: #403F53\">{center}</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C5E478\">\\title</span><span style=\"color: #D6DEEB\">{实验名称</span><span style=\"color: #F78C6C\">\\ </span><span style=\"color: #D6DEEB\">实验报告}</span></span>\n<span><span style=\"color: #C5E478\">\\author</span><span style=\"color: #D6DEEB\">{姓名}</span></span>\n<span><span style=\"color: #C5E478\">\\makeatletter</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\begin</span><span style=\"color: #D6DEEB\">{center}</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\LARGE</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\textbf</span><span style=\"color: #D6DEEB\">{</span><span style=\"color: #C5E478\">\\@title</span><span style=\"color: #D6DEEB\">}</span></span>\n<span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\vspace</span><span style=\"color: #D6DEEB\">{0.5cm}</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\normalsize</span></span>\n<span><span style=\"color: #D6DEEB\">    实验者姓名: </span><span style=\"color: #C5E478\">\\@author\\hspace</span><span style=\"color: #D6DEEB\">{15pt}</span></span>\n<span><span style=\"color: #D6DEEB\">    学号: 2021000000</span><span style=\"color: #C5E478\">\\hspace</span><span style=\"color: #D6DEEB\">{15pt}</span></span>\n<span><span style=\"color: #D6DEEB\">    实验日期: 2202年10月32日</span><span style=\"color: #C5E478\">\\hspace</span><span style=\"color: #D6DEEB\">{15pt}</span></span>\n<span><span style=\"color: #D6DEEB\">    实验台号: 1</span><span style=\"color: #C5E478\">\\hspace</span><span style=\"color: #D6DEEB\">{15pt}</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\vspace</span><span style=\"color: #D6DEEB\">{0.5cm}</span></span>\n<span><span style=\"color: #C5E478\">\\end</span><span style=\"color: #D6DEEB\">{center}</span></span></code></pre></div></section>\n<h3 id=\"章节\" class=\"heading\"><a href=\"#章节\" class=\"heading-anchor\" aria-label=\"章节： 章节\" tabindex=\"-1\"></a><span>章节</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"TeX 代码块\" data-v-c675dba6>TeX</h4><ile-root id=\"ile-42\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-42--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">\\section</span><span style=\"color: #403F53\">{实验目的}</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\subsection</span><span style=\"color: #403F53\">{测一下这个东西}</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C5E478\">\\section</span><span style=\"color: #D6DEEB\">{实验目的}</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\subsection</span><span style=\"color: #D6DEEB\">{测一下这个东西}</span></span></code></pre></div></section>\n<h3 id=\"图表\" class=\"heading\"><a href=\"#图表\" class=\"heading-anchor\" aria-label=\"章节： 图表\" tabindex=\"-1\"></a><span>图表</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"TeX 代码块\" data-v-c675dba6>TeX</h4><ile-root id=\"ile-43\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-43--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">{graphicx}</span></span>\n<span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">{float}</span></span>\n<span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">[hidelinks]{hyperref}  </span><span style=\"color: #989FB1\">% 使用 hidelinks 选项来禁用链接的红框</span></span>\n<span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">{cleveref}</span></span>\n<span><span style=\"color: #4876D6\">\\crefname</span><span style=\"color: #403F53\">{figure}{图}{图}</span></span>\n<span><span style=\"color: #4876D6\">\\crefname</span><span style=\"color: #403F53\">{table}{表}{表}</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">{graphicx}</span></span>\n<span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">{float}</span></span>\n<span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">[hidelinks]{hyperref}  </span><span style=\"color: #637777\">% 使用 hidelinks 选项来禁用链接的红框</span></span>\n<span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">{cleveref}</span></span>\n<span><span style=\"color: #C5E478\">\\crefname</span><span style=\"color: #D6DEEB\">{figure}{图}{图}</span></span>\n<span><span style=\"color: #C5E478\">\\crefname</span><span style=\"color: #D6DEEB\">{table}{表}{表}</span></span></code></pre></div></section>\n<p>可以用 <code>\\label</code> 和 <code>\\cref</code> 来在正文中引用图表<span class=\"mojikumi-line-end\">，</span>这样就可以避免添加图表时重新标号<span class=\"mojikumi-line-end\">。</span></p>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"TeX 代码块\" data-v-c675dba6>TeX</h4><ile-root id=\"ile-44\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-44--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">\\begin</span><span style=\"color: #403F53\">{figure}[H]</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\centering</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\includegraphics</span><span style=\"color: #403F53\">[width=0.6</span><span style=\"color: #4876D6\">\\textwidth</span><span style=\"color: #403F53\">]{picture.png}</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\caption</span><span style=\"color: #403F53\">{这是一幅图，老师说图的标题放下面}</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\label</span><span style=\"color: #403F53\">{this-is-a-picture}</span></span>\n<span><span style=\"color: #4876D6\">\\end</span><span style=\"color: #403F53\">{figure}</span></span>\n<span></span>\n<span><span style=\"color: #403F53\">如</span><span style=\"color: #4876D6\">\\cref</span><span style=\"color: #403F53\">{this-is-a-picture} 所示</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C5E478\">\\begin</span><span style=\"color: #D6DEEB\">{figure}[H]</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\centering</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\includegraphics</span><span style=\"color: #D6DEEB\">[width=0.6</span><span style=\"color: #C5E478\">\\textwidth</span><span style=\"color: #D6DEEB\">]{picture.png}</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\caption</span><span style=\"color: #D6DEEB\">{这是一幅图，老师说图的标题放下面}</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\label</span><span style=\"color: #D6DEEB\">{this-is-a-picture}</span></span>\n<span><span style=\"color: #C5E478\">\\end</span><span style=\"color: #D6DEEB\">{figure}</span></span>\n<span></span>\n<span><span style=\"color: #D6DEEB\">如</span><span style=\"color: #C5E478\">\\cref</span><span style=\"color: #D6DEEB\">{this-is-a-picture} 所示</span></span></code></pre></div></section>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"TeX 代码块\" data-v-c675dba6>TeX</h4><ile-root id=\"ile-45\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-45--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #403F53\">如</span><span style=\"color: #4876D6\">\\cref</span><span style=\"color: #403F53\">{this-is-a-table} 所示</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\begin</span><span style=\"color: #403F53\">{table}[H]</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\centering</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\caption</span><span style=\"color: #403F53\">{这是一张表，老师说表的标题放上面}</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\vspace</span><span style=\"color: #403F53\">{1em}</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\begin</span><span style=\"color: #403F53\">{tabular}{|c|c||c|c|}</span></span>\n<span><span style=\"color: #403F53\">        </span><span style=\"color: #4876D6\">\\hline</span></span>\n<span><span style=\"color: #403F53\">        序号 &amp; 值 &amp; 序号 &amp; 值 </span><span style=\"color: #994CC3\">\\\\</span></span>\n<span><span style=\"color: #403F53\">        </span><span style=\"color: #4876D6\">\\hline</span></span>\n<span><span style=\"color: #403F53\">        1  &amp; 1.14 &amp; 6  &amp; 5.14 </span><span style=\"color: #994CC3\">\\\\</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">\\hline</span></span>\n<span><span style=\"color: #403F53\">        2  &amp; 1.93 &amp; 7  &amp; 5.95 </span><span style=\"color: #994CC3\">\\\\</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">\\hline</span></span>\n<span><span style=\"color: #403F53\">        3  &amp; 2.74 &amp; 8  &amp; 6.75 </span><span style=\"color: #994CC3\">\\\\</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">\\hline</span></span>\n<span><span style=\"color: #403F53\">        4  &amp; 3.55 &amp; 9  &amp; 7.53 </span><span style=\"color: #994CC3\">\\\\</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">\\hline</span></span>\n<span><span style=\"color: #403F53\">        5  &amp; 4.35 &amp; 10 &amp; 8.32 </span><span style=\"color: #994CC3\">\\\\</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">\\hline</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\end</span><span style=\"color: #403F53\">{tabular}</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\label</span><span style=\"color: #403F53\">{this-is-a-table}</span></span>\n<span><span style=\"color: #4876D6\">\\end</span><span style=\"color: #403F53\">{table}</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #D6DEEB\">如</span><span style=\"color: #C5E478\">\\cref</span><span style=\"color: #D6DEEB\">{this-is-a-table} 所示</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\begin</span><span style=\"color: #D6DEEB\">{table}[H]</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\centering</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\caption</span><span style=\"color: #D6DEEB\">{这是一张表，老师说表的标题放上面}</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\vspace</span><span style=\"color: #D6DEEB\">{1em}</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\begin</span><span style=\"color: #D6DEEB\">{tabular}{|c|c||c|c|}</span></span>\n<span><span style=\"color: #D6DEEB\">        </span><span style=\"color: #C5E478\">\\hline</span></span>\n<span><span style=\"color: #D6DEEB\">        序号 &amp; 值 &amp; 序号 &amp; 值 </span><span style=\"color: #C792EA\">\\\\</span></span>\n<span><span style=\"color: #D6DEEB\">        </span><span style=\"color: #C5E478\">\\hline</span></span>\n<span><span style=\"color: #D6DEEB\">        1  &amp; 1.14 &amp; 6  &amp; 5.14 </span><span style=\"color: #C792EA\">\\\\</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">\\hline</span></span>\n<span><span style=\"color: #D6DEEB\">        2  &amp; 1.93 &amp; 7  &amp; 5.95 </span><span style=\"color: #C792EA\">\\\\</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">\\hline</span></span>\n<span><span style=\"color: #D6DEEB\">        3  &amp; 2.74 &amp; 8  &amp; 6.75 </span><span style=\"color: #C792EA\">\\\\</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">\\hline</span></span>\n<span><span style=\"color: #D6DEEB\">        4  &amp; 3.55 &amp; 9  &amp; 7.53 </span><span style=\"color: #C792EA\">\\\\</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">\\hline</span></span>\n<span><span style=\"color: #D6DEEB\">        5  &amp; 4.35 &amp; 10 &amp; 8.32 </span><span style=\"color: #C792EA\">\\\\</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">\\hline</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\end</span><span style=\"color: #D6DEEB\">{tabular}</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\label</span><span style=\"color: #D6DEEB\">{this-is-a-table}</span></span>\n<span><span style=\"color: #C5E478\">\\end</span><span style=\"color: #D6DEEB\">{table}</span></span></code></pre></div></section>\n<p>如果想把几张图/表放在单独一页<span class=\"mojikumi-line-end\">，</span>使得这一页没有其他文字<span class=\"mojikumi-line-end\">，</span>可以把 <code>[H]</code> 改成 <code>[p]</code><span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"斜线表头\" class=\"heading\"><a href=\"#斜线表头\" class=\"heading-anchor\" aria-label=\"章节： 斜线表头\" tabindex=\"-1\"></a><span>斜线表头</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"TeX 代码块\" data-v-c675dba6>TeX</h4><ile-root id=\"ile-46\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-46--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">{diagbox}</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\begin</span><span style=\"color: #403F53\">{tabular}{|c|}</span></span>\n<span><span style=\"color: #4876D6\">\\diagbox</span><span style=\"color: #403F53\">{左下}{右上}</span></span>\n<span><span style=\"color: #4876D6\">\\end</span><span style=\"color: #403F53\">{tabular}</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\begin</span><span style=\"color: #403F53\">{tabular}{|c|}</span></span>\n<span><span style=\"color: #4876D6\">\\diagbox</span><span style=\"color: #403F53\">{左下}{中间}{右上}</span></span>\n<span><span style=\"color: #4876D6\">\\end</span><span style=\"color: #403F53\">{tabular}</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">{diagbox}</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\begin</span><span style=\"color: #D6DEEB\">{tabular}{|c|}</span></span>\n<span><span style=\"color: #C5E478\">\\diagbox</span><span style=\"color: #D6DEEB\">{左下}{右上}</span></span>\n<span><span style=\"color: #C5E478\">\\end</span><span style=\"color: #D6DEEB\">{tabular}</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\begin</span><span style=\"color: #D6DEEB\">{tabular}{|c|}</span></span>\n<span><span style=\"color: #C5E478\">\\diagbox</span><span style=\"color: #D6DEEB\">{左下}{中间}{右上}</span></span>\n<span><span style=\"color: #C5E478\">\\end</span><span style=\"color: #D6DEEB\">{tabular}</span></span></code></pre></div></section>\n<p>还可以设置其它样式<span class=\"mojikumi-line-end\">，</span>但应该用不上<span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"多行多列（合并单元格）\" class=\"heading\"><a href=\"#多行多列（合并单元格）\" class=\"heading-anchor\" aria-label=\"章节： 多行/多列（合并单元格）\" tabindex=\"-1\"></a><span>多行/多列<span class=\"mojikumi-line-start\">（</span>合并单元格<span class=\"mojikumi-line-end\">）</span></span></h3>\n<p>可以参考 <a href=\"https://blog.csdn.net/wzxlovesy/article/details/69063271\">Latex 表格技巧 - 合并单元格_TheNetAdmin的博客</a><span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"单位、科学计数法、不确定度、角度\" class=\"heading\"><a href=\"#单位、科学计数法、不确定度、角度\" class=\"heading-anchor\" aria-label=\"章节： 单位、科学计数法、不确定度、角度\" tabindex=\"-1\"></a><span>单位<span class=\"mojikumi-line-end\">、</span>科学计数法<span class=\"mojikumi-line-end\">、</span>不确定度<span class=\"mojikumi-line-end\">、</span>角度</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"TeX 代码块\" data-v-c675dba6>TeX</h4><ile-root id=\"ile-47\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-47--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">[separate-uncertainty=true]{siunitx}[=v2]</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">[separate-uncertainty=true]{siunitx}[=v2]</span></span></code></pre></div></section>\n<p>其中 <code>[=v2]</code> 用来修复使用 <code>T1</code> 编码时 <code>\\micro</code> 的样式: <a href=\"https://github.com/josephwright/siunitx/issues/619\">siunitx#619</a></p>\n<p><code>siunitx</code> 这个包解决了若干问题<span class=\"mojikumi-line-end\">：</span></p>\n<ul>\n<li>单位需要用正体<span class=\"mojikumi-line-end\">，</span>手写的话需要 <code>\\mathrm</code></li>\n<li>数字和单位之间最好有一些间距</li>\n<li>有的单位会让你纠结怎么写比较好<span class=\"mojikumi-line-end\">，</span><a href=\"https://tex.stackexchange.com/questions/258306/how-to-insert-degree-celsius-symbol-in-node-text-in-pgfplots-tikz\">例如摄氏度</a></li>\n<li>科学计数法写 <code>\\times 10^</code> 比较麻烦</li>\n<li>比较长的数字不分段的话看不清</li>\n<li>不确定度和测量结果末位对齐</li>\n<li>这个包还可以将不确定度写成括号的形式<span class=\"mojikumi-line-end\">，</span>只不过实验报告的要求是 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>±</mo></mrow><annotation encoding=\"application/x-tex\">\\pm</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord\">±</span></span></span></span></span> 的形式</li>\n<li><s>只记得单位的字母<span class=\"mojikumi-line-end\">，</span>不记得单位的英文名</s></li>\n</ul>\n<p>例子<span class=\"mojikumi-line-end\">：</span></p>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"TeX 代码块\" data-v-c675dba6>TeX</h4><ile-root id=\"ile-48\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-48--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #111111\">$</span><span style=\"color: #4876D6\">t = \\SI{</span><span style=\"color: #AA0982\">22.5</span><span style=\"color: #4876D6\">}{\\celsius}</span><span style=\"color: #111111\">$</span></span>\n<span></span>\n<span><span style=\"color: #111111\">$</span><span style=\"color: #4876D6\">v = \\SI{</span><span style=\"color: #AA0982\">1.91981</span><span style=\"color: #4876D6\"> \\pm </span><span style=\"color: #AA0982\">0.114514</span><span style=\"color: #4876D6\"> e</span><span style=\"color: #AA0982\">3</span><span style=\"color: #4876D6\">}{\\kilo\\metre / \\hour}</span><span style=\"color: #111111\">$</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #D9F5DD\">$</span><span style=\"color: #C5E478\">t = </span><span style=\"color: #82AAFF\">\\SI</span><span style=\"color: #C5E478\">{</span><span style=\"color: #F78C6C\">22.5</span><span style=\"color: #C5E478\">}{</span><span style=\"color: #82AAFF\">\\celsius</span><span style=\"color: #C5E478\">}</span><span style=\"color: #D9F5DD\">$</span></span>\n<span></span>\n<span><span style=\"color: #D9F5DD\">$</span><span style=\"color: #C5E478\">v = </span><span style=\"color: #82AAFF\">\\SI</span><span style=\"color: #C5E478\">{</span><span style=\"color: #F78C6C\">1.91981</span><span style=\"color: #C5E478\"> </span><span style=\"color: #82AAFF\">\\pm</span><span style=\"color: #C5E478\"> </span><span style=\"color: #F78C6C\">0.114514</span><span style=\"color: #C5E478\"> e</span><span style=\"color: #F78C6C\">3</span><span style=\"color: #C5E478\">}{</span><span style=\"color: #82AAFF\">\\kilo\\metre</span><span style=\"color: #C5E478\"> / </span><span style=\"color: #82AAFF\">\\hour</span><span style=\"color: #C5E478\">}</span><span style=\"color: #D9F5DD\">$</span></span></code></pre></div></section>\n<p>其中下面那个的渲染效果大概是<span class=\"mojikumi-line-start\">（</span>没研究这个包的源码<span class=\"mojikumi-line-end\">，</span>只是看样子大概复刻一下<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">：</span></p>\n<p><span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi><mo>=</mo><mo stretchy=\"false\">(</mo><mn>1.919</mn><mtext> </mtext><mn>810</mn><mo>±</mo><mn>0.114</mn><mtext> </mtext><mn>514</mn><mo stretchy=\"false\">)</mo><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>3</mn></msup><mtext> </mtext><mrow><mi mathvariant=\"normal\">k</mi><mi mathvariant=\"normal\">m</mi><mi mathvariant=\"normal\">/</mi><mi mathvariant=\"normal\">h</mi></mrow></mrow><annotation encoding=\"application/x-tex\">v = (1.919\\,810 \\pm 0.114\\,514) \\times 10^3 \\, \\mathrm{km/h}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord\">1.919</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">810</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">±</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">0.114</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">514</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.0641em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mord\"><span class=\"mord\">0</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\"><span class=\"mord mathrm\">km/h</span></span></span></span></span></span></p>\n<p><code>$<wbr>v<wbr> = (<wbr>1<wbr>.<wbr>919<wbr>\\,<wbr>810<wbr> \\<wbr>pm<wbr> <wbr>0<wbr>.<wbr>114<wbr>\\,<wbr>514<wbr>) \\<wbr>times<wbr> <wbr>10<wbr>^<wbr>3<wbr> \\, \\<wbr>mathrm<wbr>{<wbr>km<wbr>/<wbr>h<wbr>}$</code></p>\n<p>可以用 <code>\\unit</code> 来只有单位没有数字<span class=\"mojikumi-line-end\">，</span>用 <code>\\num</code> 来只有数字没有单位<span class=\"mojikumi-line-end\">，</span>或者用 <code>\\SI</code> 但把一部分留空<span class=\"mojikumi-line-end\">。</span></p>\n<p>可以用 <code>\\<wbr>ang<wbr>{<wbr>1<wbr>;<wbr>02<wbr>;}</code> 来显示 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>1</mn><mo>∘</mo></msup><msup><mn>2</mn><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup></mrow><annotation encoding=\"application/x-tex\">1^\\circ 2'</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7519em;\"></span><span class=\"mord\"><span class=\"mord\">1</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6741em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∘</span></span></span></span></span></span></span></span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mojikumi-line-end\">，</span>用 <code>\\<wbr>ang<wbr>[<wbr>parse<wbr>-<wbr>numbers<wbr>=<wbr>false<wbr>]{<wbr>1<wbr>;<wbr>02<wbr>;}</code> 来显示 <span class=\"math math-inline\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mn>1</mn><mo>∘</mo></msup><mn>0</mn><msup><mn>2</mn><mo mathvariant=\"normal\" lspace=\"0em\" rspace=\"0em\">′</mo></msup></mrow><annotation encoding=\"application/x-tex\">1^\\circ 02'</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7519em;\"></span><span class=\"mord\"><span class=\"mord\">1</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.6741em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mbin mtight\">∘</span></span></span></span></span></span></span></span><span class=\"mord\">0</span><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7519em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class=\"mojikumi-line-end\">，</span>用 <code>\\<wbr>sisetup<wbr>{<wbr>parse<wbr>-<wbr>numbers<wbr>=<wbr>false<wbr>}</code> 来在当前环境<span class=\"mojikumi-line-start\">（</span>例如表格<span class=\"mojikumi-line-end\">）</span>内设置 <code>parse<wbr>-<wbr>numbers<wbr>=<wbr>false</code><span class=\"mojikumi-line-end\">，</span>就不用每条命令单独设置<span class=\"mojikumi-line-end\">。</span></p>\n<p>更多用法可以参考 siunitx 的文档<span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"模板\" class=\"heading\"><a href=\"#模板\" class=\"heading-anchor\" aria-label=\"章节： 模板\" tabindex=\"-1\"></a><span>模板</span></h3>\n<a id=\"实验报告完整模板\" name=\"实验报告完整模板\" aria-hidden=\"true\"></a>\n<aside role=\"note\" data-v-a2ab257f><details class=\"shadow-md rd-1 b-l-6 my-6 bg-blue-1 dark:bg-blue-9 b-blue\" data-v-a2ab257f><summary class=\"p-3 flex justify-between items-center cursor-pointer\" data-v-a2ab257f><h4 class=\"flex items-center gap-1 font-bold\" data-v-a2ab257f><span class=\"text-5 i-mdi-pencil text-blue\" data-v-a2ab257f></span><span class=\"sr-only\" data-v-a2ab257f>Note: </span><span data-v-a2ab257f>实验报告完整模板</span></h4><span class=\"details-icon text-5\" data-v-a2ab257f></span></summary><div class=\"overflow-auto rd-br-1 bg-card px-6 dark:bg-bghover\" data-v-a2ab257f><section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h5 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"TeX 代码块\" data-v-c675dba6>TeX</h5><ile-root id=\"ile-49\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-49--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">\\documentclass</span><span style=\"color: #403F53\">[UTF8, 11pt, fontset=none]{ctexart}</span></span>\n<span><span style=\"color: #4876D6\">\\setCJKmainfont</span><span style=\"color: #403F53\">{Source Han Serif SC}</span></span>\n<span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">[T1]{fontenc}</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\pagestyle</span><span style=\"color: #403F53\">{plain}</span></span>\n<span><span style=\"color: #4876D6\">\\ctexset</span><span style=\"color: #403F53\">{section/format=</span><span style=\"color: #4876D6\">\\Large\\bfseries</span><span style=\"color: #403F53\">}</span></span>\n<span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">[a4paper, hmargin=1.5cm, vmargin=1.9cm]{geometry}</span></span>\n<span><span style=\"color: #4876D6\">\\setlength</span><span style=\"color: #403F53\">{</span><span style=\"color: #4876D6\">\\parskip</span><span style=\"color: #403F53\">}{0.5em}</span></span>\n<span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">{enumitem}</span></span>\n<span><span style=\"color: #4876D6\">\\setlist</span><span style=\"color: #403F53\">{topsep=0pt,itemsep=-4pt}</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">{amsmath}</span></span>\n<span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">[separate-uncertainty=true]{siunitx}[=v2]</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">{multirow}</span></span>\n<span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">{diagbox}</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">[pdfusetitle, hidelinks]{hyperref}</span></span>\n<span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">{graphicx}</span></span>\n<span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">{float}</span></span>\n<span><span style=\"color: #4876D6\">\\usepackage</span><span style=\"color: #403F53\">{cleveref}</span></span>\n<span><span style=\"color: #4876D6\">\\crefname</span><span style=\"color: #403F53\">{figure}{图}{图}</span></span>\n<span><span style=\"color: #4876D6\">\\crefname</span><span style=\"color: #403F53\">{table}{表}{表}</span></span>\n<span><span style=\"color: #4876D6\">\\crefname</span><span style=\"color: #403F53\">{page}{页}{页}</span></span>\n<span><span style=\"color: #4876D6\">\\crefname</span><span style=\"color: #403F53\">{section}{节}{节}</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\begin</span><span style=\"color: #403F53\">{document}</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\title</span><span style=\"color: #403F53\">{XXX</span><span style=\"color: #AA0982\">\\ </span><span style=\"color: #403F53\">实验报告}</span></span>\n<span><span style=\"color: #4876D6\">\\author</span><span style=\"color: #403F53\">{姓名}</span></span>\n<span><span style=\"color: #4876D6\">\\makeatletter</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\begin</span><span style=\"color: #403F53\">{center}</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\LARGE</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\textbf</span><span style=\"color: #403F53\">{</span><span style=\"color: #4876D6\">\\@title</span><span style=\"color: #403F53\">}</span></span>\n<span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\vspace</span><span style=\"color: #403F53\">{0.5cm}</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\normalsize</span></span>\n<span><span style=\"color: #403F53\">    实验者姓名: </span><span style=\"color: #4876D6\">\\@author\\hspace</span><span style=\"color: #403F53\">{15pt}</span></span>\n<span><span style=\"color: #403F53\">    学号: 2021000000</span><span style=\"color: #4876D6\">\\hspace</span><span style=\"color: #403F53\">{15pt}</span></span>\n<span><span style=\"color: #403F53\">    实验日期: 2022年XX月XX日</span><span style=\"color: #4876D6\">\\hspace</span><span style=\"color: #403F53\">{15pt}</span></span>\n<span><span style=\"color: #403F53\">    实验台号: XX</span><span style=\"color: #4876D6\">\\hspace</span><span style=\"color: #403F53\">{15pt}</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\vspace</span><span style=\"color: #403F53\">{0.5cm}</span></span>\n<span><span style=\"color: #4876D6\">\\end</span><span style=\"color: #403F53\">{center}</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\section</span><span style=\"color: #403F53\">{实验目的}</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\begin</span><span style=\"color: #403F53\">{enumerate}</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\item</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\item</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\item</span></span>\n<span><span style=\"color: #4876D6\">\\end</span><span style=\"color: #403F53\">{enumerate}</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\section</span><span style=\"color: #403F53\">{实验仪器}</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\begin</span><span style=\"color: #403F53\">{itemize}</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\item</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">\\item</span></span>\n<span><span style=\"color: #4876D6\">\\end</span><span style=\"color: #403F53\">{itemize}</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\newpage</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\section</span><span style=\"color: #403F53\">{数据处理及结果}</span></span>\n<span></span>\n<span><span style=\"color: #989FB1\">% \\begin{table}[H]</span></span>\n<span><span style=\"color: #989FB1\">%     \\centering</span></span>\n<span><span style=\"color: #989FB1\">%     \\caption{}</span></span>\n<span><span style=\"color: #989FB1\">%     \\vspace{1em}</span></span>\n<span><span style=\"color: #989FB1\">%     \\begin{tabular}{|c|c|c|}</span></span>\n<span><span style=\"color: #989FB1\">%     \\end{tabular}</span></span>\n<span><span style=\"color: #989FB1\">%     \\label{}</span></span>\n<span><span style=\"color: #989FB1\">% \\end{table}</span></span>\n<span></span>\n<span><span style=\"color: #989FB1\">% \\begin{figure}[H]</span></span>\n<span><span style=\"color: #989FB1\">%     \\centering</span></span>\n<span><span style=\"color: #989FB1\">%     \\includegraphics[width=\\textwidth]{.png}</span></span>\n<span><span style=\"color: #989FB1\">%     \\caption{}</span></span>\n<span><span style=\"color: #989FB1\">%     \\label{}</span></span>\n<span><span style=\"color: #989FB1\">% \\end{figure}</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\newpage</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\section</span><span style=\"color: #403F53\">{原始数据记录}</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\begin</span><span style=\"color: #403F53\">{center}</span></span>\n<span><span style=\"color: #4876D6\">\\includegraphics</span><span style=\"color: #403F53\">[width=</span><span style=\"color: #4876D6\">\\textwidth</span><span style=\"color: #403F53\">]{data.jpg}</span></span>\n<span><span style=\"color: #4876D6\">\\end</span><span style=\"color: #403F53\">{center}</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">\\end</span><span style=\"color: #403F53\">{document}</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C5E478\">\\documentclass</span><span style=\"color: #D6DEEB\">[UTF8, 11pt, fontset=none]{ctexart}</span></span>\n<span><span style=\"color: #C5E478\">\\setCJKmainfont</span><span style=\"color: #D6DEEB\">{Source Han Serif SC}</span></span>\n<span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">[T1]{fontenc}</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\pagestyle</span><span style=\"color: #D6DEEB\">{plain}</span></span>\n<span><span style=\"color: #C5E478\">\\ctexset</span><span style=\"color: #D6DEEB\">{section/format=</span><span style=\"color: #C5E478\">\\Large\\bfseries</span><span style=\"color: #D6DEEB\">}</span></span>\n<span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">[a4paper, hmargin=1.5cm, vmargin=1.9cm]{geometry}</span></span>\n<span><span style=\"color: #C5E478\">\\setlength</span><span style=\"color: #D6DEEB\">{</span><span style=\"color: #C5E478\">\\parskip</span><span style=\"color: #D6DEEB\">}{0.5em}</span></span>\n<span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">{enumitem}</span></span>\n<span><span style=\"color: #C5E478\">\\setlist</span><span style=\"color: #D6DEEB\">{topsep=0pt,itemsep=-4pt}</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">{amsmath}</span></span>\n<span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">[separate-uncertainty=true]{siunitx}[=v2]</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">{multirow}</span></span>\n<span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">{diagbox}</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">[pdfusetitle, hidelinks]{hyperref}</span></span>\n<span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">{graphicx}</span></span>\n<span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">{float}</span></span>\n<span><span style=\"color: #C5E478\">\\usepackage</span><span style=\"color: #D6DEEB\">{cleveref}</span></span>\n<span><span style=\"color: #C5E478\">\\crefname</span><span style=\"color: #D6DEEB\">{figure}{图}{图}</span></span>\n<span><span style=\"color: #C5E478\">\\crefname</span><span style=\"color: #D6DEEB\">{table}{表}{表}</span></span>\n<span><span style=\"color: #C5E478\">\\crefname</span><span style=\"color: #D6DEEB\">{page}{页}{页}</span></span>\n<span><span style=\"color: #C5E478\">\\crefname</span><span style=\"color: #D6DEEB\">{section}{节}{节}</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\begin</span><span style=\"color: #D6DEEB\">{document}</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\title</span><span style=\"color: #D6DEEB\">{XXX</span><span style=\"color: #F78C6C\">\\ </span><span style=\"color: #D6DEEB\">实验报告}</span></span>\n<span><span style=\"color: #C5E478\">\\author</span><span style=\"color: #D6DEEB\">{姓名}</span></span>\n<span><span style=\"color: #C5E478\">\\makeatletter</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\begin</span><span style=\"color: #D6DEEB\">{center}</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\LARGE</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\textbf</span><span style=\"color: #D6DEEB\">{</span><span style=\"color: #C5E478\">\\@title</span><span style=\"color: #D6DEEB\">}</span></span>\n<span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\vspace</span><span style=\"color: #D6DEEB\">{0.5cm}</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\normalsize</span></span>\n<span><span style=\"color: #D6DEEB\">    实验者姓名: </span><span style=\"color: #C5E478\">\\@author\\hspace</span><span style=\"color: #D6DEEB\">{15pt}</span></span>\n<span><span style=\"color: #D6DEEB\">    学号: 2021000000</span><span style=\"color: #C5E478\">\\hspace</span><span style=\"color: #D6DEEB\">{15pt}</span></span>\n<span><span style=\"color: #D6DEEB\">    实验日期: 2022年XX月XX日</span><span style=\"color: #C5E478\">\\hspace</span><span style=\"color: #D6DEEB\">{15pt}</span></span>\n<span><span style=\"color: #D6DEEB\">    实验台号: XX</span><span style=\"color: #C5E478\">\\hspace</span><span style=\"color: #D6DEEB\">{15pt}</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\vspace</span><span style=\"color: #D6DEEB\">{0.5cm}</span></span>\n<span><span style=\"color: #C5E478\">\\end</span><span style=\"color: #D6DEEB\">{center}</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\section</span><span style=\"color: #D6DEEB\">{实验目的}</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\begin</span><span style=\"color: #D6DEEB\">{enumerate}</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\item</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\item</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\item</span></span>\n<span><span style=\"color: #C5E478\">\\end</span><span style=\"color: #D6DEEB\">{enumerate}</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\section</span><span style=\"color: #D6DEEB\">{实验仪器}</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\begin</span><span style=\"color: #D6DEEB\">{itemize}</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\item</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">\\item</span></span>\n<span><span style=\"color: #C5E478\">\\end</span><span style=\"color: #D6DEEB\">{itemize}</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\newpage</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\section</span><span style=\"color: #D6DEEB\">{数据处理及结果}</span></span>\n<span></span>\n<span><span style=\"color: #637777\">% \\begin{table}[H]</span></span>\n<span><span style=\"color: #637777\">%     \\centering</span></span>\n<span><span style=\"color: #637777\">%     \\caption{}</span></span>\n<span><span style=\"color: #637777\">%     \\vspace{1em}</span></span>\n<span><span style=\"color: #637777\">%     \\begin{tabular}{|c|c|c|}</span></span>\n<span><span style=\"color: #637777\">%     \\end{tabular}</span></span>\n<span><span style=\"color: #637777\">%     \\label{}</span></span>\n<span><span style=\"color: #637777\">% \\end{table}</span></span>\n<span></span>\n<span><span style=\"color: #637777\">% \\begin{figure}[H]</span></span>\n<span><span style=\"color: #637777\">%     \\centering</span></span>\n<span><span style=\"color: #637777\">%     \\includegraphics[width=\\textwidth]{.png}</span></span>\n<span><span style=\"color: #637777\">%     \\caption{}</span></span>\n<span><span style=\"color: #637777\">%     \\label{}</span></span>\n<span><span style=\"color: #637777\">% \\end{figure}</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\newpage</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\section</span><span style=\"color: #D6DEEB\">{原始数据记录}</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\begin</span><span style=\"color: #D6DEEB\">{center}</span></span>\n<span><span style=\"color: #C5E478\">\\includegraphics</span><span style=\"color: #D6DEEB\">[width=</span><span style=\"color: #C5E478\">\\textwidth</span><span style=\"color: #D6DEEB\">]{data.jpg}</span></span>\n<span><span style=\"color: #C5E478\">\\end</span><span style=\"color: #D6DEEB\">{center}</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">\\end</span><span style=\"color: #D6DEEB\">{document}</span></span></code></pre></div></section></div></details></aside>\n<h2 id=\"r\" class=\"heading\"><a href=\"#r\" class=\"heading-anchor\" aria-label=\"章节： R\" tabindex=\"-1\"></a><span>R</span></h2>\n<h3 id=\"arch-装-r-package\" class=\"heading\"><a href=\"#arch-装-r-package\" class=\"heading-anchor\" aria-label=\"章节： Arch 装 R package\" tabindex=\"-1\"></a><span>Arch 装 R package</span></h3>\n<p><a href=\"https://github.com/arch4edu/arch4edu\">arch4edu</a> 有一些 R package<span class=\"mojikumi-line-end\">，</span>可以减少 AUR 的需求<span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"读取数据\" class=\"heading\"><a href=\"#读取数据\" class=\"heading-anchor\" aria-label=\"章节： 读取数据\" tabindex=\"-1\"></a><span>读取数据</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"R 代码块\" data-v-c675dba6>R</h4><ile-root id=\"ile-50\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-50--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">data</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">&lt;-</span><span style=\"color: #403F53\"> readr</span><span style=\"color: #994CC3\">::</span><span style=\"color: #4876D6\">read_csv(</span><span style=\"color: #403F53\">file</span><span style=\"color: #4876D6\"> </span><span style=\"color: #994CC3\">=</span><span style=\"color: #4876D6\"> </span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">data.csv</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #4876D6\">)</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C5E478\">data</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">&lt;-</span><span style=\"color: #D6DEEB\"> readr</span><span style=\"color: #C792EA\">::</span><span style=\"color: #82AAFF\">read_csv(</span><span style=\"color: #D7DBE0\">file</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">data.csv</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #82AAFF\">)</span></span></code></pre></div></section>\n<h3 id=\"平均数、标准偏差\" class=\"heading\"><a href=\"#平均数、标准偏差\" class=\"heading-anchor\" aria-label=\"章节： 平均数、标准偏差\" tabindex=\"-1\"></a><span>平均数<span class=\"mojikumi-line-end\">、</span>标准偏差</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"R 代码块\" data-v-c675dba6>R</h4><ile-root id=\"ile-51\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-51--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">ybar</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">&lt;-</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">mean</span><span style=\"color: #403F53\">(</span><span style=\"color: #4876D6\">data</span><span style=\"color: #994CC3\">$</span><span style=\"color: #4876D6\">y</span><span style=\"color: #403F53\">)</span></span>\n<span><span style=\"color: #4876D6\">Sy</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">&lt;-</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">sd</span><span style=\"color: #403F53\">(</span><span style=\"color: #4876D6\">data</span><span style=\"color: #994CC3\">$</span><span style=\"color: #4876D6\">y</span><span style=\"color: #403F53\">)</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C5E478\">ybar</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">&lt;-</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">mean</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #C5E478\">data</span><span style=\"color: #C792EA\">$</span><span style=\"color: #C5E478\">y</span><span style=\"color: #D6DEEB\">)</span></span>\n<span><span style=\"color: #C5E478\">Sy</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">&lt;-</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">sd</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #C5E478\">data</span><span style=\"color: #C792EA\">$</span><span style=\"color: #C5E478\">y</span><span style=\"color: #D6DEEB\">)</span></span></code></pre></div></section>\n<h3 id=\"线性回归\" class=\"heading\"><a href=\"#线性回归\" class=\"heading-anchor\" aria-label=\"章节： 线性回归\" tabindex=\"-1\"></a><span>线性回归</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"R 代码块\" data-v-c675dba6>R</h4><ile-root id=\"ile-52\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-52--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">model</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">&lt;-</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">lm</span><span style=\"color: #403F53\">(</span><span style=\"color: #4876D6\">log</span><span style=\"color: #403F53\">(</span><span style=\"color: #4876D6\">y</span><span style=\"color: #403F53\">) </span><span style=\"color: #994CC3\">~</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">x</span><span style=\"color: #403F53\">, </span><span style=\"color: #4876D6\">data</span><span style=\"color: #403F53\">)</span></span>\n<span><span style=\"color: #4876D6\">b</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">&lt;-</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">coefficients</span><span style=\"color: #403F53\">(</span><span style=\"color: #4876D6\">model</span><span style=\"color: #403F53\">)[</span><span style=\"color: #AA0982\">2</span><span style=\"color: #403F53\">]   </span><span style=\"color: #989FB1\"># 线性回归系数</span></span>\n<span><span style=\"color: #4876D6\">r</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">&lt;-</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">cor</span><span style=\"color: #403F53\">(</span><span style=\"color: #4876D6\">log</span><span style=\"color: #403F53\">(</span><span style=\"color: #4876D6\">data</span><span style=\"color: #994CC3\">$</span><span style=\"color: #4876D6\">y</span><span style=\"color: #403F53\">), </span><span style=\"color: #4876D6\">data</span><span style=\"color: #994CC3\">$</span><span style=\"color: #4876D6\">x</span><span style=\"color: #403F53\">) </span><span style=\"color: #989FB1\"># 相关系数</span></span>\n<span><span style=\"color: #4876D6\">nu</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">&lt;-</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">df.residual</span><span style=\"color: #403F53\">(</span><span style=\"color: #4876D6\">model</span><span style=\"color: #403F53\">)      </span><span style=\"color: #989FB1\"># 自由度 (n-2)</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C5E478\">model</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">&lt;-</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">lm</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #C5E478\">log</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #C5E478\">y</span><span style=\"color: #D6DEEB\">) </span><span style=\"color: #C792EA\">~</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">x</span><span style=\"color: #D6DEEB\">, </span><span style=\"color: #C5E478\">data</span><span style=\"color: #D6DEEB\">)</span></span>\n<span><span style=\"color: #C5E478\">b</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">&lt;-</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">coefficients</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #C5E478\">model</span><span style=\"color: #D6DEEB\">)[</span><span style=\"color: #F78C6C\">2</span><span style=\"color: #D6DEEB\">]   </span><span style=\"color: #637777\"># 线性回归系数</span></span>\n<span><span style=\"color: #C5E478\">r</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">&lt;-</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">cor</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #C5E478\">log</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #C5E478\">data</span><span style=\"color: #C792EA\">$</span><span style=\"color: #C5E478\">y</span><span style=\"color: #D6DEEB\">), </span><span style=\"color: #C5E478\">data</span><span style=\"color: #C792EA\">$</span><span style=\"color: #C5E478\">x</span><span style=\"color: #D6DEEB\">) </span><span style=\"color: #637777\"># 相关系数</span></span>\n<span><span style=\"color: #C5E478\">nu</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">&lt;-</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">df.residual</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #C5E478\">model</span><span style=\"color: #D6DEEB\">)      </span><span style=\"color: #637777\"># 自由度 (n-2)</span></span></code></pre></div></section>\n<h3 id=\"t-因子\" class=\"heading\"><a href=\"#t-因子\" class=\"heading-anchor\" aria-label=\"章节： t 因子\" tabindex=\"-1\"></a><span>t 因子</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"R 代码块\" data-v-c675dba6>R</h4><ile-root id=\"ile-53\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-53--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">t</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">&lt;-</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">qt</span><span style=\"color: #403F53\">(p</span><span style=\"color: #994CC3\">=</span><span style=\"color: #AA0982\">0.025</span><span style=\"color: #403F53\">, df</span><span style=\"color: #994CC3\">=</span><span style=\"color: #4876D6\">nu</span><span style=\"color: #403F53\">, lower.tail</span><span style=\"color: #994CC3\">=</span><span style=\"color: #4876D6\">FALSE</span><span style=\"color: #403F53\">)</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C5E478\">t</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">&lt;-</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">qt</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #D7DBE0\">p</span><span style=\"color: #C792EA\">=</span><span style=\"color: #F78C6C\">0.025</span><span style=\"color: #D6DEEB\">, </span><span style=\"color: #D7DBE0\">df</span><span style=\"color: #C792EA\">=</span><span style=\"color: #C5E478\">nu</span><span style=\"color: #D6DEEB\">, </span><span style=\"color: #D7DBE0\">lower.tail</span><span style=\"color: #C792EA\">=</span><span style=\"color: #82AAFF\">FALSE</span><span style=\"color: #D6DEEB\">)</span></span></code></pre></div></section>\n<p>R 里面有好几个和 student 分布相关的函数<span class=\"mojikumi-line-end\">，</span>我猜可能有的东西可以直接用这些函数算出来<span class=\"mojikumi-line-end\">，</span>但我懒得研究了<span class=\"mojikumi-line-end\">，</span>反正能拿到 t 因子自己代公式就是了<span class=\"mojikumi-line-start\">（</span></p>\n<h3 id=\"非线性函数的拟合\" class=\"heading\"><a href=\"#非线性函数的拟合\" class=\"heading-anchor\" aria-label=\"章节： 非线性函数的拟合\" tabindex=\"-1\"></a><span>非线性函数的拟合</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"R 代码块\" data-v-c675dba6>R</h4><ile-root id=\"ile-54\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-54--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">model</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">&lt;-</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">nls</span><span style=\"color: #403F53\">(</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">y</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">~</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">a</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">*</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">cos</span><span style=\"color: #403F53\">(</span><span style=\"color: #AA0982\">2</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">*</span><span style=\"color: #403F53\"> </span><span style=\"color: #0C969B\">pi</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">*</span><span style=\"color: #403F53\"> (</span><span style=\"color: #AA0982\">14.5</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">-</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">x</span><span style=\"color: #403F53\">) </span><span style=\"color: #994CC3\">/</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">lambda</span><span style=\"color: #403F53\">),</span></span>\n<span><span style=\"color: #403F53\">    data </span><span style=\"color: #994CC3\">=</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">data</span><span style=\"color: #403F53\">,</span></span>\n<span><span style=\"color: #403F53\">    start </span><span style=\"color: #994CC3\">=</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">list</span><span style=\"color: #403F53\">(a </span><span style=\"color: #994CC3\">=</span><span style=\"color: #403F53\"> </span><span style=\"color: #AA0982\">200</span><span style=\"color: #403F53\">, lambda </span><span style=\"color: #994CC3\">=</span><span style=\"color: #403F53\"> </span><span style=\"color: #AA0982\">10</span><span style=\"color: #403F53\">)</span></span>\n<span><span style=\"color: #403F53\">)</span></span>\n<span><span style=\"color: #4876D6\">co</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">&lt;-</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">coef</span><span style=\"color: #403F53\">(</span><span style=\"color: #4876D6\">model</span><span style=\"color: #403F53\">)</span></span>\n<span><span style=\"color: #4876D6\">a</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">&lt;-</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">co</span><span style=\"color: #403F53\">[</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">a</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #403F53\">]</span></span>\n<span><span style=\"color: #4876D6\">lambda</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">&lt;-</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">co</span><span style=\"color: #403F53\">[</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">lambda</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #403F53\">]</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C5E478\">model</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">&lt;-</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">nls</span><span style=\"color: #D6DEEB\">(</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #C5E478\">y</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">~</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">a</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">*</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">cos</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #F78C6C\">2</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">*</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #7FDBCA\">pi</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">*</span><span style=\"color: #D6DEEB\"> (</span><span style=\"color: #F78C6C\">14.5</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">-</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">x</span><span style=\"color: #D6DEEB\">) </span><span style=\"color: #C792EA\">/</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">lambda</span><span style=\"color: #D6DEEB\">),</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #D7DBE0\">data</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">data</span><span style=\"color: #D6DEEB\">,</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #D7DBE0\">start</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">list</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #D7DBE0\">a</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #F78C6C\">200</span><span style=\"color: #D6DEEB\">, </span><span style=\"color: #D7DBE0\">lambda</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #F78C6C\">10</span><span style=\"color: #D6DEEB\">)</span></span>\n<span><span style=\"color: #D6DEEB\">)</span></span>\n<span><span style=\"color: #C5E478\">co</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">&lt;-</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">coef</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #C5E478\">model</span><span style=\"color: #D6DEEB\">)</span></span>\n<span><span style=\"color: #C5E478\">a</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">&lt;-</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">co</span><span style=\"color: #D6DEEB\">[</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">a</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #D6DEEB\">]</span></span>\n<span><span style=\"color: #C5E478\">lambda</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">&lt;-</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">co</span><span style=\"color: #D6DEEB\">[</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">lambda</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #D6DEEB\">]</span></span></code></pre></div></section>\n<p>如果一个函数长得很奇怪<span class=\"mojikumi-line-end\">，</span>不能线性拟合<span class=\"mojikumi-line-end\">，</span>可以用 <code>nls</code> (Non-linear Least Squares) 来以减小残差平方和为目标进行拟合<span class=\"mojikumi-line-end\">。</span></p>\n<p><code>nls</code> 需要传入 <code>start</code> 参数作为拟合的起点<span class=\"mojikumi-line-end\">，</span>可以自己大致估计一下参数大概是多少<span class=\"mojikumi-line-end\">，</span>如果估计的偏差太大<span class=\"mojikumi-line-end\">，</span>可能导致最后拟合的结果出错<span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"简陋的函数图像\" class=\"heading\"><a href=\"#简陋的函数图像\" class=\"heading-anchor\" aria-label=\"章节： 简陋的函数图像\" tabindex=\"-1\"></a><span>简陋的函数图像</span></h3>\n<p>画个简陋的图可以用来检查函数拟合的情况<span class=\"mojikumi-line-end\">：</span></p>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"R 代码块\" data-v-c675dba6>R</h4><ile-root id=\"ile-55\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-55--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">plot</span><span style=\"color: #403F53\">(</span><span style=\"color: #4876D6\">data</span><span style=\"color: #403F53\">)</span></span>\n<span><span style=\"color: #4876D6\">curve</span><span style=\"color: #403F53\">(</span><span style=\"color: #4876D6\">a</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">*</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">cos</span><span style=\"color: #403F53\">(</span><span style=\"color: #AA0982\">2</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">*</span><span style=\"color: #403F53\"> </span><span style=\"color: #0C969B\">pi</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">*</span><span style=\"color: #403F53\"> (</span><span style=\"color: #AA0982\">14.5</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">-</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">x</span><span style=\"color: #403F53\">) </span><span style=\"color: #994CC3\">/</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">lambda</span><span style=\"color: #403F53\">), add </span><span style=\"color: #994CC3\">=</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">TRUE</span><span style=\"color: #403F53\">)</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C5E478\">plot</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #C5E478\">data</span><span style=\"color: #D6DEEB\">)</span></span>\n<span><span style=\"color: #C5E478\">curve</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #C5E478\">a</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">*</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">cos</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #F78C6C\">2</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">*</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #7FDBCA\">pi</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">*</span><span style=\"color: #D6DEEB\"> (</span><span style=\"color: #F78C6C\">14.5</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">-</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">x</span><span style=\"color: #D6DEEB\">) </span><span style=\"color: #C792EA\">/</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">lambda</span><span style=\"color: #D6DEEB\">), </span><span style=\"color: #D7DBE0\">add</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #82AAFF\">TRUE</span><span style=\"color: #D6DEEB\">)</span></span></code></pre></div></section>\n<p>如果是在 non-interactive 模式下<span class=\"mojikumi-line-start\">（</span>例如使用 <code>R -f foo.R</code> 运行<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">，</span>生成的图像默认会放在 <code>Rplots.pdf</code> 中<span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"ggplot-画散点-折线图\" class=\"heading\"><a href=\"#ggplot-画散点-折线图\" class=\"heading-anchor\" aria-label=\"章节： ggplot 画散点 / 折线图\" tabindex=\"-1\"></a><span>ggplot 画散点 / 折线图</span></h3>\n<section class=\"code-block relative my-6 shadow\" itemprop=\"hasPart\" itemscope itemtype=\"https://schema.org/SoftwareSourceCode\" data-v-c675dba6><div class=\"h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex\" style=\"display:none;\" data-v-c675dba6><h4 class=\"text-3 text-footer\" itemprop=\"programmingLanguage\" aria-label=\"R 代码块\" data-v-c675dba6>R</h4><ile-root id=\"ile-56\"><button title=\"复制到剪贴板\" class=\"copy-button b-footer text-footer\" data-v-9288569d><span class=\"i-mdi-content-copy\" data-v-9288569d></span><span class=\"sr-only\" role=\"status\" data-v-9288569d></span></button></ile-root><!--ISLAND_HYDRATION_PLACEHOLDER_ile-56--></div><div class=\"dark:hidden\" itemprop=\"text\" data-v-c675dba6><pre class=\"shiki light\" style=\"background-color: #FBFBFB\" tabindex=\"0\"><code><span><span style=\"color: #4876D6\">library</span><span style=\"color: #403F53\">(</span><span style=\"color: #4876D6\">tidyverse</span><span style=\"color: #403F53\">)</span></span>\n<span></span>\n<span><span style=\"color: #989FB1\"># 导入字体</span></span>\n<span><span style=\"color: #4876D6\">library</span><span style=\"color: #403F53\">(</span><span style=\"color: #4876D6\">extrafont</span><span style=\"color: #403F53\">)</span></span>\n<span><span style=\"color: #4876D6\">font_import()</span></span>\n<span><span style=\"color: #4876D6\">loadfonts()</span></span>\n<span><span style=\"color: #4876D6\">fonts()</span></span>\n<span><span style=\"color: #4876D6\">fonttable()</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">data</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">&lt;-</span><span style=\"color: #403F53\"> readr</span><span style=\"color: #994CC3\">::</span><span style=\"color: #4876D6\">read_csv(</span><span style=\"color: #403F53\">file</span><span style=\"color: #4876D6\"> </span><span style=\"color: #994CC3\">=</span><span style=\"color: #4876D6\"> </span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">data.csv</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #4876D6\">)</span></span>\n<span></span>\n<span><span style=\"color: #4876D6\">p</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">&lt;-</span><span style=\"color: #403F53\"> </span><span style=\"color: #4876D6\">data</span><span style=\"color: #403F53\"> </span><span style=\"color: #0C969B\">%&gt;%</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">ggplot(aes(a, b </span><span style=\"color: #994CC3\">+</span><span style=\"color: #4876D6\"> c))</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">+</span><span style=\"color: #403F53\"> </span><span style=\"color: #989FB1\"># 以表中的 a 为横坐标，b + c 为纵坐标</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">geom_point()</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">+</span><span style=\"color: #403F53\"> </span><span style=\"color: #989FB1\"># 散点</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">geom_line()</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">+</span><span style=\"color: #403F53\"> </span><span style=\"color: #989FB1\"># 折线</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">labs(</span><span style=\"color: #403F53\">x</span><span style=\"color: #4876D6\"> </span><span style=\"color: #994CC3\">=</span><span style=\"color: #4876D6\"> </span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">a</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #4876D6\">, </span><span style=\"color: #403F53\">y</span><span style=\"color: #4876D6\"> </span><span style=\"color: #994CC3\">=</span><span style=\"color: #4876D6\"> </span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">b</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #4876D6\">)</span><span style=\"color: #403F53\"> </span><span style=\"color: #994CC3\">+</span><span style=\"color: #403F53\"> </span><span style=\"color: #989FB1\"># 坐标轴标题</span></span>\n<span><span style=\"color: #403F53\">    </span><span style=\"color: #4876D6\">theme(</span><span style=\"color: #403F53\">text</span><span style=\"color: #4876D6\"> </span><span style=\"color: #994CC3\">=</span><span style=\"color: #4876D6\"> element_text(</span><span style=\"color: #403F53\">family</span><span style=\"color: #4876D6\"> </span><span style=\"color: #994CC3\">=</span><span style=\"color: #4876D6\"> </span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">Source Han Serif SC</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #4876D6\">))</span><span style=\"color: #403F53\"> </span><span style=\"color: #989FB1\"># 字体</span></span>\n<span><span style=\"color: #4876D6\">ggsave(</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #C96765\">plot.png</span><span style=\"color: #111111\">&quot;</span><span style=\"color: #4876D6\">, </span><span style=\"color: #403F53\">plot</span><span style=\"color: #4876D6\"> </span><span style=\"color: #994CC3\">=</span><span style=\"color: #4876D6\"> p)</span></span></code></pre></div><div class=\"dark:important-block\" style=\"display:none;\" data-v-c675dba6><pre class=\"shiki dark\" style=\"background-color: #011627\" tabindex=\"0\"><code><span><span style=\"color: #C5E478\">library</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #C5E478\">tidyverse</span><span style=\"color: #D6DEEB\">)</span></span>\n<span></span>\n<span><span style=\"color: #637777\"># 导入字体</span></span>\n<span><span style=\"color: #C5E478\">library</span><span style=\"color: #D6DEEB\">(</span><span style=\"color: #C5E478\">extrafont</span><span style=\"color: #D6DEEB\">)</span></span>\n<span><span style=\"color: #82AAFF\">font_import()</span></span>\n<span><span style=\"color: #82AAFF\">loadfonts()</span></span>\n<span><span style=\"color: #82AAFF\">fonts()</span></span>\n<span><span style=\"color: #82AAFF\">fonttable()</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">data</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">&lt;-</span><span style=\"color: #D6DEEB\"> readr</span><span style=\"color: #C792EA\">::</span><span style=\"color: #82AAFF\">read_csv(</span><span style=\"color: #D7DBE0\">file</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">data.csv</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #82AAFF\">)</span></span>\n<span></span>\n<span><span style=\"color: #C5E478\">p</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">&lt;-</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C5E478\">data</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #7FDBCA\">%&gt;%</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #82AAFF\">ggplot(aes(</span><span style=\"color: #C5E478\">a</span><span style=\"color: #82AAFF\">, </span><span style=\"color: #C5E478\">b</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #C792EA\">+</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #C5E478\">c</span><span style=\"color: #82AAFF\">))</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">+</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #637777\"># 以表中的 a 为横坐标，b + c 为纵坐标</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #82AAFF\">geom_point()</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">+</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #637777\"># 散点</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #82AAFF\">geom_line()</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">+</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #637777\"># 折线</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #82AAFF\">labs(</span><span style=\"color: #D7DBE0\">x</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">a</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #82AAFF\">, </span><span style=\"color: #D7DBE0\">y</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">b</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #82AAFF\">)</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #C792EA\">+</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #637777\"># 坐标轴标题</span></span>\n<span><span style=\"color: #D6DEEB\">    </span><span style=\"color: #82AAFF\">theme(</span><span style=\"color: #D7DBE0\">text</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #82AAFF\"> element_text(</span><span style=\"color: #D7DBE0\">family</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">Source Han Serif SC</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #82AAFF\">))</span><span style=\"color: #D6DEEB\"> </span><span style=\"color: #637777\"># 字体</span></span>\n<span><span style=\"color: #82AAFF\">ggsave(</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #ECC48D\">plot.png</span><span style=\"color: #D9F5DD\">&quot;</span><span style=\"color: #82AAFF\">, </span><span style=\"color: #D7DBE0\">plot</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #C792EA\">=</span><span style=\"color: #82AAFF\"> </span><span style=\"color: #C5E478\">p</span><span style=\"color: #82AAFF\">)</span></span></code></pre></div></section>",
            "url": "https://ouuan.moe/post/2022/10/basic-tex-and-r-for-physics-lab",
            "title": "普物实验 TeX & R 急救指北",
            "summary": "<p>这学期选了物理实验B<span class=\"mojikumi-line-end\">。</span></p>\n<p>以前基本上只在 Markdown 里写 LaTeX<span class=\"mojikumi-line-end\">，</span>没怎么写过 <code>.tex</code><span class=\"mojikumi-line-end\">，</span>R 则完全没有接触过<span class=\"mojikumi-line-end\">。</span>理论上我应该好好学一学再用<span class=\"mojikumi-line-end\">，</span>但实际上没时间好好学<span class=\"mojikumi-line-end\">。</span>总不能用 Word 写实验报告并且手算吧<span class=\"mojikumi-line-start\">（</span></p>\n<p>这里总结一下我写实验报告用到的 TeX 和 R<span class=\"mojikumi-line-end\">。</span></p>\n",
            "date_modified": "2022-10-31T10:15:48.000Z",
            "tags": [
                "TeX",
                "R",
                "物理实验",
                "经验分享"
            ]
        },
        {
            "id": "https://ouuan.moe/post/2022/07/thu-course-selection-tips",
            "content_html": "<p>还记得刚入学的时候<span class=\"mojikumi-line-end\">，</span>我一开始完全没弄明白要怎么选课<span class=\"mojikumi-line-end\">，</span>当时就想着弄明白了要写一篇选课指南<span class=\"mojikumi-line-end\">。</span></p>\n<p>后来<span class=\"mojikumi-line-end\">，</span>我弄明白之后发现不记得自己以前为什么不明白了<span class=\"mojikumi-line-end\">，</span>写不出来了<span class=\"mojikumi-line-start\">（</span></p>\n<p>再后来<span class=\"mojikumi-line-end\">，</span>我发现一些身边的同学到了选大二的课的时候还没弄明白选课流程<span class=\"mojikumi-line-start\">（</span></p>\n\n<aside role=\"note\" data-v-a2ab257f><div class=\"shadow-md rd-1 b-l-6 my-6 bg-orange-1 dark:bg-orange-9 b-orange\" data-v-a2ab257f><div class=\"p-3 flex justify-between items-center\" data-v-a2ab257f><h2 class=\"flex items-center gap-1 font-bold\" data-v-a2ab257f><span class=\"text-5 i-mdi-alert-circle-outline text-orange\" data-v-a2ab257f></span><!--v-if--><span data-v-a2ab257f>Warning</span></h2><!--v-if--></div><div class=\"overflow-auto rd-br-1 bg-card px-6 dark:bg-bghover\" data-v-a2ab257f><p>本文内容仅供参考<span class=\"mojikumi-line-end\">，</span>可能因为规则具有时效性<span class=\"mojikumi-line-end\">、</span>不同院系之间存在差别<span class=\"mojikumi-line-end\">、</span>笔者的认识错误或笔误而与实际选课不符<span class=\"mojikumi-line-end\">，</span>还请以实际的选课规则为准<span class=\"mojikumi-line-end\">，</span>必要时向老师或辅导员咨询<span class=\"mojikumi-line-end\">。</span></p></div></div></aside>\n<p>当然如果发现了什么错误可以评论区告诉我<span class=\"mojikumi-line-end\">。</span></p>\n<h2 id=\"选课入口------在哪选课啊，我找不到\" class=\"heading\"><a href=\"#选课入口------在哪选课啊，我找不到\" class=\"heading-anchor\" aria-label=\"章节： 选课入口 —— 在哪选课啊，我找不到\" tabindex=\"-1\"></a><span>选课入口 —— 在哪选课啊<span class=\"mojikumi-line-end\">，</span>我找不到</span></h2>\n<p><a href=\"https://zhjwxk.cic.tsinghua.edu.cn/xklogin.do\">中文选课入口</a></p>\n<p>反正我是每次在地址栏输入 <code>xk</code><span class=\"mojikumi-line-end\">，</span>然后匹配到的第一个历史记录就是选课入口<span class=\"mojikumi-line-end\">。</span></p>\n<p>也可以在 info 的应用列表中找到<span class=\"mojikumi-line-start\">“</span>本科生选课<span class=\"mojikumi-line-end\">”</span>进入<span class=\"mojikumi-line-end\">。</span></p>\n<p>如果是在校外<span class=\"mojikumi-line-end\">，</span>就要用 VPN 访问<span class=\"mojikumi-line-end\">，</span>一般使用 <a href=\"https://webvpn.tsinghua.edu.cn/\">webvpn</a><span class=\"mojikumi-line-end\">，</span>登录进去后就会有选课入口的链接<span class=\"mojikumi-line-end\">。</span></p>\n<p>在抢课刚开始等热门时段<span class=\"mojikumi-line-end\">，</span>选课系统一般会非常卡<span class=\"mojikumi-line-end\">，</span>据说使用 <a href=\"https://zhjwxkyw.cic.tsinghua.edu.cn/xklogin.do\">英文选课系统</a> 会不卡一些<span class=\"mojikumi-line-end\">，</span>但不确定是不是真的<span class=\"mojikumi-line-end\">。</span></p>\n<p>另外<span class=\"mojikumi-line-end\">，</span>选课系统登录的验证码是大小写敏感的<span class=\"mojikumi-line-end\">。</span>登录会话过期很快<span class=\"mojikumi-line-end\">，</span>可以感觉快要过期了就新开一个页面登录<span class=\"mojikumi-line-end\">，</span>防止原先的页面报错<span class=\"mojikumi-line-end\">，</span>抢课开始前尤其要注意先重新登录一下<span class=\"mojikumi-line-end\">。</span></p>\n<h2 id=\"选课流程------什么是预选、正选、补退选？什么是抽签、抢课？\" class=\"heading\"><a href=\"#选课流程------什么是预选、正选、补退选？什么是抽签、抢课？\" class=\"heading-anchor\" aria-label=\"章节： 选课流程 —— 什么是预选、正选、补退选？什么是抽签、抢课？\" tabindex=\"-1\"></a><span>选课流程 —— 什么是预选<span class=\"mojikumi-line-end\">、</span>正选<span class=\"mojikumi-line-end\">、</span>补退选？什么是抽签<span class=\"mojikumi-line-end\">、</span>抢课？</span></h2>\n<h3 id=\"选课流程\" class=\"heading\"><a href=\"#选课流程\" class=\"heading-anchor\" aria-label=\"章节： 选课流程\" tabindex=\"-1\"></a><span>选课流程</span></h3>\n<h4 id=\"新生选课流程\" class=\"heading\"><a href=\"#新生选课流程\" class=\"heading-anchor\" aria-label=\"章节： 新生选课流程\" tabindex=\"-1\"></a><span>新生选课流程</span></h4>\n<p>刚入学时的第一次选课与后面的选课是有一定差异的<span class=\"mojikumi-line-end\">，</span>如果不意识到这一点<span class=\"mojikumi-line-end\">，</span>看到一个对正常选课流程的描述<span class=\"mojikumi-line-end\">，</span>发现和新生选课不同<span class=\"mojikumi-line-end\">，</span>就可能被搞晕<span class=\"mojikumi-line-end\">。</span></p>\n<p>新生选课主要有这些特点<span class=\"mojikumi-line-end\">：</span></p>\n<ul>\n<li>没有正选环节</li>\n<li>不分一二三志愿</li>\n<li>老生已在上学期末完成了预选和正选<span class=\"mojikumi-line-end\">，</span>而新生在入学时才会进行预选</li>\n<li>一些课程会在老生选课时给新生预留部分课容量<span class=\"mojikumi-line-start\">（</span>若新生没选满<span class=\"mojikumi-line-end\">，</span>老生可以在补退选时再抢课<span class=\"mojikumi-line-end\">）</span></li>\n</ul>\n<h4 id=\"正常选课流程\" class=\"heading\"><a href=\"#正常选课流程\" class=\"heading-anchor\" aria-label=\"章节： 正常选课流程\" tabindex=\"-1\"></a><span>正常选课流程</span></h4>\n<p>在选课系统点击<span class=\"mojikumi-line-start\">“</span>选课时间安排<span class=\"mojikumi-line-end\">”</span>就能看到当前学期的完整选课时间安排<span class=\"mojikumi-line-end\">。</span></p>\n<p>一般来说<span class=\"mojikumi-line-end\">，</span>选课的主体流程为: 预选 → 正选 → 补退选第一阶段 → 补退选第二阶段 &#x26; 特殊原因补选</p>\n<p>除此之外<span class=\"mojikumi-line-end\">，</span>还会有二级选课<span class=\"mojikumi-line-end\">、</span>重修体育课分项等特殊类型选课<span class=\"mojikumi-line-end\">，</span>以及记 P/F 和退课<span class=\"mojikumi-line-end\">。</span></p>\n<a id=\"记得选课！\" name=\"记得选课！\" aria-hidden=\"true\"></a>\n<aside role=\"note\" data-v-a2ab257f><div class=\"shadow-md rd-1 b-l-6 my-6 bg-orange-1 dark:bg-orange-9 b-orange\" data-v-a2ab257f><div class=\"p-3 flex justify-between items-center\" data-v-a2ab257f><h5 class=\"flex items-center gap-1 font-bold\" data-v-a2ab257f><span class=\"text-5 i-mdi-alert-circle-outline text-orange\" data-v-a2ab257f></span><span class=\"sr-only\" data-v-a2ab257f>Warning: </span><span data-v-a2ab257f>记得选课！</span></h5><!--v-if--></div><div class=\"overflow-auto rd-br-1 bg-card px-6 dark:bg-bghover\" data-v-a2ab257f><p><s>你在说啥？我怎么会忘记选课<span class=\"mojikumi-line-end\">，</span>不会有通知吗</s></p><p>可能会和你想象中不同<span class=\"mojikumi-line-end\">，</span>选课经常是没有通知的<span class=\"mojikumi-line-end\">，</span>或者<span class=\"mojikumi-line-end\">，</span>更准确地说<span class=\"mojikumi-line-end\">，</span>你不一定关注了发布通知的渠道<span class=\"mojikumi-line-end\">，</span>以及通知可能发布得比选课时间早很多<span class=\"mojikumi-line-end\">，</span>等到选课时你可能已经忘了<span class=\"mojikumi-line-end\">。</span></p><p>运气好时<span class=\"mojikumi-line-end\">，</span>你可能会收到通知<span class=\"mojikumi-line-end\">，</span>看到群里或者线下有同学在讨论选课相关的话题<span class=\"mojikumi-line-end\">。</span>但是<span class=\"mojikumi-line-end\">，</span>如果你运气不太好<span class=\"mojikumi-line-end\">，</span>或者是你遇到的是 <strong>二级选课<span class=\"mojikumi-line-end\">、</span>补退选<span class=\"mojikumi-line-end\">、</span>记 P/F<span class=\"mojikumi-line-end\">、</span>退课</strong> 等并非人人关注的选课环节<span class=\"mojikumi-line-end\">，</span>可能真的没有任何人会来通知你<span class=\"mojikumi-line-end\">。</span>所以<span class=\"mojikumi-line-end\">，</span>一定要在选课期间关注选课时间安排<span class=\"mojikumi-line-end\">，</span>不要错过选课<span class=\"mojikumi-line-end\">。</span></p></div></div></aside>\n<h4 id=\"夏季学期（小学期）选课流程\" class=\"heading\"><a href=\"#夏季学期（小学期）选课流程\" class=\"heading-anchor\" aria-label=\"章节： 夏季学期（小学期）选课流程\" tabindex=\"-1\"></a><span>夏季学期<span class=\"mojikumi-line-start\">（</span>小学期<span class=\"mojikumi-line-end\">）</span>选课流程</span></h4>\n<p>夏季学期没有预选也没有补退选<span class=\"mojikumi-line-start\">（</span>有特殊原因补选<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">，</span>也就是不抽签直接抢课<span class=\"mojikumi-line-end\">。</span>不同课程的上课时间<span class=\"mojikumi-line-start\">（</span>周数<span class=\"mojikumi-line-end\">）</span>差别很大<span class=\"mojikumi-line-end\">，</span>但退课统一在秋季学期开学前不久<span class=\"mojikumi-line-end\">，</span>此时课程可能已经结束<span class=\"mojikumi-line-end\">。</span>具体差别请在夏季学期选课时查看选课系统中的<span class=\"mojikumi-line-start\">“</span>选课时间安排<span class=\"mojikumi\">”</span><span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"选课环节\" class=\"heading\"><a href=\"#选课环节\" class=\"heading-anchor\" aria-label=\"章节： 选课环节\" tabindex=\"-1\"></a><span>选课环节</span></h3>\n<h4 id=\"预选\" class=\"heading\"><a href=\"#预选\" class=\"heading-anchor\" aria-label=\"章节： 预选\" tabindex=\"-1\"></a><span>预选</span></h4>\n<p>所谓的<span class=\"mojikumi-line-start\">“</span>抽签<span class=\"mojikumi\">”</span> <s><span class=\"mojikumi-line-start\">“</span>赌场<span class=\"mojikumi-line-end\">”</span></s> 指的就是预选了<span class=\"mojikumi-line-end\">。</span></p>\n<p>对于每个课<span class=\"mojikumi-line-end\">，</span>若选课人数超过课容量<span class=\"mojikumi-line-end\">，</span>就会在预选结束后进行抽签<span class=\"mojikumi-line-end\">，</span>在选了这个课的人里随机抽取课容量这么多的人成功选上这门课<span class=\"mojikumi-line-end\">，</span>而其他人则按随机顺序加入 Waiting List<span class=\"mojikumi-line-end\">。</span></p>\n<p>但是<span class=\"mojikumi-line-end\">，</span>这里的<span class=\"mojikumi-line-start\">“</span>随机<span class=\"mojikumi-line-end\">”</span>不是完全的随机<span class=\"mojikumi-line-end\">，</span>而是有优先级的 —— 先看课程属性<span class=\"mojikumi-line-end\">，</span>再看志愿优先级<span class=\"mojikumi-line-end\">。</span>课程属性分为必修<span class=\"mojikumi-line-end\">、</span>限选<span class=\"mojikumi-line-end\">、</span>任选<span class=\"mojikumi-line-end\">，</span>除新生选课外志愿分为一二三三档<span class=\"mojikumi-line-end\">，</span>满足特殊条件的话还可以在任选课中拿到<span class=\"mojikumi-line-start\">“</span>优先志愿<span class=\"mojikumi\">”</span><span class=\"mojikumi-line-end\">，</span>总的排序就是: 必修一志愿 > 必修二志愿 > 必修三志愿 > 限选一志愿 > 限选二志愿 > 限选三志愿 > 任选优先志愿 > 任选一志愿 > 任选二志愿 > 任选三志愿<span class=\"mojikumi-line-end\">。</span></p>\n<p>抽签时<span class=\"mojikumi-line-end\">，</span>会先依次让每个优先级的所有人选上课<span class=\"mojikumi-line-end\">，</span>如果一个优先级的人数大于当前课余量<span class=\"mojikumi-line-end\">，</span>就会在这一优先级内随机抽取课余量这么多人选上课<span class=\"mojikumi-line-end\">，</span>而没有抽到的人以及更低优先级的人则会落选<span class=\"mojikumi-line-end\">，</span>并按优先级顺序加入 Waiting List<span class=\"mojikumi-line-end\">。</span>也可以理解为以优先级为第一关键字<span class=\"mojikumi-line-end\">、</span>随机数为第二关键字进行排序<span class=\"mojikumi-line-end\">，</span>然后取前课容量这么多的人选上课<span class=\"mojikumi-line-end\">，</span>余下的人按原序加入 Waiting List<span class=\"mojikumi-line-end\">。</span></p>\n<a id=\"waiting-list-顺序与志愿优先级\" name=\"waiting-list-顺序与志愿优先级\" aria-hidden=\"true\"></a>\n<aside role=\"note\" data-v-a2ab257f><div class=\"shadow-md rd-1 b-l-6 my-6 bg-blue-1 dark:bg-blue-9 b-blue\" data-v-a2ab257f><div class=\"p-3 flex justify-between items-center\" data-v-a2ab257f><h5 class=\"flex items-center gap-1 font-bold\" data-v-a2ab257f><span class=\"text-5 i-mdi-pencil text-blue\" data-v-a2ab257f></span><span class=\"sr-only\" data-v-a2ab257f>Note: </span><span data-v-a2ab257f>Waiting List 顺序与志愿优先级</span></h5><!--v-if--></div><div class=\"overflow-auto rd-br-1 bg-card px-6 dark:bg-bghover\" data-v-a2ab257f><p>有一个流传甚广的传言<span class=\"mojikumi-line-end\">，</span>是 Waiting List 顺序与志愿优先级无关<span class=\"mojikumi-line-end\">。</span>这个传言能流传开来<span class=\"mojikumi-line-end\">，</span>大概是因为实际抽到的 WL 位置不能 100% 证伪这个传言<span class=\"mojikumi-line-end\">，</span>而每学期又只有最多那么几门课会进入 WL<span class=\"mojikumi-line-end\">，</span>也很难收集足够多的数据以在大概率上证伪<span class=\"mojikumi-line-end\">。</span>而一旦把中午 12:00 的志愿当作最终志愿<span class=\"mojikumi-line-end\">，</span>把有人退出队列后的队列位置当作抽到的队列位置<span class=\"mojikumi-line-end\">，</span>或者是怎么算错了<span class=\"mojikumi-line-end\">，</span>就可能误以为<span class=\"mojikumi-line-start\">“</span>证实<span class=\"mojikumi-line-end\">”</span>了这个传言<span class=\"mojikumi-line-end\">。</span></p><p>实际上 <a href=\"https://announce.cic.tsinghua.edu.cn/node/26766\">本科生选课系统Waiting List方案介绍</a> 就明确说了<span class=\"mojikumi-line-end\">：</span></p><blockquote>\n<p>未中签的学生<span class=\"mojikumi-line-end\">，</span>系统根据抽签级别顺序进入该课程的WL中候选<span class=\"mojikumi-line-end\">。</span>同一级别的学生随机排序<span class=\"mojikumi-line-end\">。</span></p>\n</blockquote><p>但大家看起来都没有看到这个方案介绍<span class=\"mojikumi-line-end\">，</span>都靠口口相传来了解选课规则<span class=\"mojikumi-line-start\">（</span></p></div></div></aside>\n<p>一二三志愿是选课者自行选择的<span class=\"mojikumi-line-end\">，</span><strong>每个课程属性</strong>分别可以选择至多 1 门一志愿<span class=\"mojikumi-line-end\">、</span>至多 2 门二志愿<span class=\"mojikumi-line-end\">、</span>任意门三志愿<span class=\"mojikumi-line-end\">，</span>而不同课程属性的志愿之间互不影响<span class=\"mojikumi-line-end\">，</span>也就是说必修一志愿和任选一志愿可以各有一个<span class=\"mojikumi-line-end\">。</span>优先志愿一般是给相关院系/专业的学生<span class=\"mojikumi-line-end\">，</span>需要满足的条件会写在<span class=\"mojikumi-line-start\">“</span>选课文字说明<span class=\"mojikumi-line-end\">”</span>中<span class=\"mojikumi-line-end\">，</span>例如<span class=\"mojikumi-line-end\">，</span>课程<span class=\"mojikumi-line-start\">“</span>计算机科学基础<span class=\"mojikumi-line-end\">”</span>的选课文字说明为<span class=\"mojikumi-line-start\">“</span>优先:计算机类<span class=\"mojikumi-line-end\">、</span>信息与计算科学专业学生选课<span class=\"mojikumi\">”</span><span class=\"mojikumi-line-end\">。</span></p>\n<p>在预选期间<span class=\"mojikumi-line-end\">，</span>可以多次修改所选的课程或志愿等级<span class=\"mojikumi-line-end\">，</span>也可以在<span class=\"mojikumi-line-start\">“</span>选课查询 → 志愿填报情况查询<span class=\"mojikumi-line-end\">”</span>中查到所有课的志愿填报情况<span class=\"mojikumi-line-end\">。</span>但是<span class=\"mojikumi-line-end\">，</span>这个志愿填报情况并非实时更新<span class=\"mojikumi-line-end\">，</span>而是只会在每天 8<span class=\"mojikumi-line-end\">、</span>12<span class=\"mojikumi-line-end\">、</span>16<span class=\"mojikumi-line-end\">、</span>20 点更新<span class=\"mojikumi-line-end\">，</span>且预选阶段的最后一次更新会在预选结束前四小时左右<span class=\"mojikumi-line-end\">，</span>所以<span class=\"mojikumi-line-end\">，</span>你查到的志愿填报情况可能和最终的真实情况差别极大<span class=\"mojikumi-line-end\">。</span>如何选择填报志愿的时机<span class=\"mojikumi-line-end\">、</span>如何根据情报调整自己的志愿等级<span class=\"mojikumi-line-end\">、</span>教师乃至课程选择<span class=\"mojikumi-line-end\">，</span>都是一场惊心动魄的博弈 <s><span class=\"mojikumi-line-end\">，</span>这也是预选被称作<span class=\"mojikumi-line-start\">“</span>赌场<span class=\"mojikumi-line-end\">”</span>的重要原因之一</s><span class=\"mojikumi\">。</span><wbr><span class=\"mojikumi-line-start\">（</span>博弈有风险<span class=\"mojikumi-line-end\">，</span>推荐同学们尽早填报真实志愿<span class=\"mojikumi-line-end\">，</span>瞒报志愿可能害人害己<span class=\"mojikumi\">。</span><span class=\"mojikumi-line-end\">）</span></p>\n<p>抽签结果一般大约在预选结束三天后<span class=\"mojikumi-line-end\">、</span>正选开始前一天公布<span class=\"mojikumi-line-start\">（</span>可能是要安排教室<span class=\"mojikumi-line-end\">、</span>必要时调整课容量之类的？<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">。</span></p>\n<p>在抽签完成后<span class=\"mojikumi-line-end\">，</span>可以在选课系统的课表查询中查看中签情况<span class=\"mojikumi-line-end\">，</span>选上的课会和预选时一样是 <span style=\"color:#855512;\">棕色</span> 的<span class=\"mojikumi-line-end\">，</span>而掉了的课则会显示为<span class=\"mojikumi-line-start\">“</span>候选<span class=\"mojikumi-line-end\">”</span>并且是 <span style=\"color:#6684A5;\">蓝色</span> 的<span class=\"mojikumi-line-end\">。</span></p>\n<h4 id=\"正选、补退选、waiting-list\" class=\"heading\"><a href=\"#正选、补退选、waiting-list\" class=\"heading-anchor\" aria-label=\"章节： 正选、补退选、Waiting List\" tabindex=\"-1\"></a><span>正选<span class=\"mojikumi-line-end\">、</span>补退选<span class=\"mojikumi-line-end\">、</span>Waiting List</span></h4>\n<p>所谓的<span class=\"mojikumi-line-start\">“</span>抢课<span class=\"mojikumi-line-end\">”</span>主要指的就是正选<span class=\"mojikumi-line-end\">，</span>以及补退选<span class=\"mojikumi-line-end\">。</span></p>\n<p>这两者在选课操作上基本上是一样的<span class=\"mojikumi-line-end\">，</span>最大的区别就是正选在上学期末<span class=\"mojikumi-line-end\">、</span>预选结束约四天后进行<span class=\"mojikumi-line-end\">，</span>而补退选在新学期开始上课后进行<span class=\"mojikumi-line-end\">，</span>新生选课则没有正选环节<span class=\"mojikumi-line-end\">。</span></p>\n<p>在这一环节中<span class=\"mojikumi-line-end\">，</span>选课不再以抽签进行<span class=\"mojikumi-line-end\">，</span>而是先到先得<span class=\"mojikumi-line-end\">。</span></p>\n<p>在这一阶段中<span class=\"mojikumi-line-end\">，</span>除了选课<span class=\"mojikumi-line-end\">，</span>还可以退选<span class=\"mojikumi-line-end\">。</span>这里就涉及到了 <i>Waiting List</i> 的概念<span class=\"mojikumi-line-end\">。</span>顾名思义<span class=\"mojikumi-line-end\">，</span>Waiting List<span class=\"mojikumi-line-start\">（</span>简称 WL<span class=\"mojikumi-line-end\">）</span>就是排队等待课程坑位空出来<span class=\"mojikumi-line-end\">，</span>而空出坑位一般就是有人退选了<span class=\"mojikumi-line-start\">（</span>也可能是课程扩容了<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">。</span>当出现新的课余量时<span class=\"mojikumi-line-end\">，</span>排在 WL 最前端的人就会递补选上这门课<span class=\"mojikumi-line-end\">。</span>可以选择退出 WL<span class=\"mojikumi-line-end\">，</span>这也可以看作是退选的一种<span class=\"mojikumi-line-end\">。</span></p>\n<p>特别地<span class=\"mojikumi-line-end\">，</span>补退选分为两个阶段<span class=\"mojikumi-line-end\">，</span>分别位于上课第一周和上课第二周<span class=\"mojikumi-line-end\">，</span>在第二阶段中只能退选不能补选<span class=\"mojikumi-line-end\">。</span></p>\n<a id=\"退出-wl\" name=\"退出-wl\" aria-hidden=\"true\"></a>\n<aside role=\"note\" data-v-a2ab257f><div class=\"shadow-md rd-1 b-l-6 my-6 bg-blue-1 dark:bg-blue-9 b-blue\" data-v-a2ab257f><div class=\"p-3 flex justify-between items-center\" data-v-a2ab257f><h5 class=\"flex items-center gap-1 font-bold\" data-v-a2ab257f><span class=\"text-5 i-mdi-pencil text-blue\" data-v-a2ab257f></span><span class=\"sr-only\" data-v-a2ab257f>Note: </span><span data-v-a2ab257f>退出 WL</span></h5><!--v-if--></div><div class=\"overflow-auto rd-br-1 bg-card px-6 dark:bg-bghover\" data-v-a2ab257f><p>想选的课只要苦苦等待就可能有机会选上<span class=\"mojikumi-line-end\">，</span>为什么要退出呢？主要有两个原因<span class=\"mojikumi-line-end\">：</span></p><ol>\n<li>\n<p>同一个课程号的课只能选一个<span class=\"mojikumi-line-end\">。</span>例如<span class=\"mojikumi-line-end\">，</span>你选了 A 老师的数学分析<span class=\"mojikumi-line-end\">，</span>不幸进入 WL<span class=\"mojikumi-line-end\">，</span>只有退出 WL 才能再选 B 老师的数学分析<span class=\"mojikumi-line-end\">。</span></p>\n</li>\n<li>\n<p>WL 中的课程不受学分限制<span class=\"mojikumi-line-end\">，</span>但递补时受学分限制<span class=\"mojikumi-line-end\">。</span>例如<span class=\"mojikumi-line-end\">，</span>你已经选择了 24 学分的课程<span class=\"mojikumi-line-end\">，</span>学分限制为 26<span class=\"mojikumi-line-end\">，</span>你还有两门 2 学分的课程 A 和 B 在 WL 中<span class=\"mojikumi-line-end\">，</span>你比起 B 更想选上 A<span class=\"mojikumi-line-end\">，</span>并且两门课都排在 WL 前端<span class=\"mojikumi-line-end\">，</span>有希望成功递补<span class=\"mojikumi-line-end\">。</span>第二天早上<span class=\"mojikumi-line-end\">，</span>你起来一看<span class=\"mojikumi-line-end\">，</span>两门课都递补了<span class=\"mojikumi-line-end\">，</span>但 B 先递补上<span class=\"mojikumi-line-end\">，</span>占满了学分限制<span class=\"mojikumi-line-end\">，</span>所以后递补的 A 就直接退出了 WL<span class=\"mojikumi-line-end\">，</span>如果想选就得再排在 WL 尾部了<span class=\"mojikumi-line-end\">。</span>所以<span class=\"mojikumi-line-end\">，</span>如果学分总数可能受限而 WL 中的课程递补希望大<span class=\"mojikumi-line-end\">，</span>应当考虑退选已选上的课或其他 WL 中的课来留出学分<span class=\"mojikumi-line-end\">。</span></p>\n</li>\n</ol><p>如何退出 WL 也是困扰很多同学的一大难题<span class=\"mojikumi-line-start\">（</span><s>选课系统的 UI 是谁设计的</s><span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">。</span>在<span class=\"mojikumi-line-start\">“</span>选课查询 → 队列系统查询<span class=\"mojikumi-line-end\">”</span>中只能查询队列信息而不能退出队列<span class=\"mojikumi-line-end\">，</span>要在<span class=\"mojikumi-line-start\">“</span>选课操作 → 一级选课 → 队列信息<span class=\"mojikumi-line-end\">”</span>里退出<span class=\"mojikumi\">。</span><wbr><span class=\"mojikumi-line-start\">（</span>知道在哪退 WL 可能让你在新生第一次补退选中抢占先机<span class=\"mojikumi-line-start\">（</span><s>也可能不止新生那一次<span class=\"mojikumi-line-end\">，</span>直到选大二的课的时候我室友还在问我怎么退 WL</s></p></div></div></aside>\n<h4 id=\"二级选课\" class=\"heading\"><a href=\"#二级选课\" class=\"heading-anchor\" aria-label=\"章节： 二级选课\" tabindex=\"-1\"></a><span>二级选课</span></h4>\n<p>二级选课也是先到先得<span class=\"mojikumi-line-end\">，</span>分为两次<span class=\"mojikumi-line-end\">，</span>第一次一般位于上学期正选结束后不久<span class=\"mojikumi-line-end\">，</span>第二次一般和补退选一样位于新学期第一周<span class=\"mojikumi-line-end\">。</span></p>\n<p>一般来说大部分课不需要二级选课<span class=\"mojikumi-line-end\">，</span>实验课可能会有二级选课<span class=\"mojikumi-line-end\">。</span>在课程信息中会标明一个课是否有二级选课<span class=\"mojikumi-line-end\">，</span>但选课前不一定会告诉你有哪些时间段可以选<span class=\"mojikumi-line-end\">，</span>所以可能需要预留出一些时间给二级课<span class=\"mojikumi-line-end\">，</span>不能选太满或者太分散以至于没有大段的空余时间<span class=\"mojikumi-line-start\">（</span>依具体课程而定<span class=\"mojikumi-line-end\">，</span>可以考虑咨询学长学姐或者老师<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">。</span>数学课的习题课也可能会被标注成有二级选课<span class=\"mojikumi-line-end\">，</span>但我目前上过的数学课都不会真的进行二级选课<span class=\"mojikumi-line-end\">，</span>而是会和同学们一起协商出习题课的时间<span class=\"mojikumi-line-end\">。</span></p>\n<p>另外<span class=\"mojikumi-line-end\">，</span>游泳测试需要二级选课<span class=\"mojikumi-line-end\">，</span>且只能在开学后的第二次二级选课选<span class=\"mojikumi-line-end\">。</span></p>\n<h4 id=\"特殊原因补选（手选）\" class=\"heading\"><a href=\"#特殊原因补选（手选）\" class=\"heading-anchor\" aria-label=\"章节： 特殊原因补选（手选）\" tabindex=\"-1\"></a><span>特殊原因补选<span class=\"mojikumi-line-start\">（</span>手选<span class=\"mojikumi-line-end\">）</span></span></h4>\n<p>特殊原因补选<span class=\"mojikumi-line-end\">，</span>也称手选<span class=\"mojikumi-line-start\">（</span>手动选课<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">，</span>可以无视各种选课规则<span class=\"mojikumi-line-start\">（</span>不受课程容量<span class=\"mojikumi-line-end\">、</span>院系专业等限制<span class=\"mojikumi-line-end\">，</span>甚至可以同时选上课时间冲突的两门课<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">，</span>只要任课教师和开课院系同意<span class=\"mojikumi-line-start\">（</span>如果课容量满了<span class=\"mojikumi-line-end\">，</span>可能需要说明具体原因<span class=\"mojikumi-line-end\">，</span>但如果只是受到专业限制之类的<span class=\"mojikumi-line-end\">，</span>还是很容易申请通过的<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">，</span>就能选上课<span class=\"mojikumi-line-end\">。</span>申请流程详见 <a href=\"https://jwcbg.cic.tsinghua.edu.cn/download.jsp?attachSeq=2962\">网上特殊原因补选课申请系统操作说明<span class=\"mojikumi-line-start\">（</span>学生篇<span class=\"mojikumi\">）</span>.docx</a></p>\n<p>由于手选一般安排在开学后第二周<span class=\"mojikumi-line-end\">，</span>最好是通过提前和老师发邮件等方式确定能否手选上<span class=\"mojikumi-line-end\">，</span>也可以一并了解上课地点以及发布给选上课的同学的相关通知<span class=\"mojikumi-line-end\">。</span></p>\n<h4 id=\"记-pf\" class=\"heading\"><a href=\"#记-pf\" class=\"heading-anchor\" aria-label=\"章节： 记 P/F\" tabindex=\"-1\"></a><span>记 P/F</span></h4>\n<p>记 P/F 即成绩以 P(ass) 或 F(ailure) 记录<span class=\"mojikumi-line-end\">，</span>不记录具体等级<span class=\"mojikumi-line-end\">，</span>只要过了就都一样<span class=\"mojikumi-line-end\">。</span>记 P/F 的课不会有绩点<span class=\"mojikumi-line-end\">，</span>也不会计入 GPA<span class=\"mojikumi-line-end\">。</span></p>\n<p>一般情况下<span class=\"mojikumi-line-end\">，</span>只有任选课可以记 P/F<span class=\"mojikumi-line-end\">，</span>必修和限选课不能记<span class=\"mojikumi-line-end\">，</span>并且每学期最多只能选择一门课记 P/F<span class=\"mojikumi-line-end\">。</span>实际操作中<span class=\"mojikumi-line-end\">，</span>如果想记 P/F 的课完全是自己感兴趣而选的<span class=\"mojikumi-line-end\">、</span>不在培养方案中<span class=\"mojikumi-line-end\">，</span>应该就可以放心记 P/F<span class=\"mojikumi-line-end\">；</span>而如果在培养方案中的话<span class=\"mojikumi-line-end\">，</span>最好咨询一下<span class=\"mojikumi-line-start\">（</span>教务<span class=\"mojikumi-line-end\">）</span>老师或者辅导员<span class=\"mojikumi-line-end\">，</span>以免对培养方案的完成或者保研等造成影响<span class=\"mojikumi-line-end\">。</span></p>\n<p>除了在记 P/F 阶段在选课系统中主动记 P/F<span class=\"mojikumi-line-end\">，</span>有的课程<span class=\"mojikumi-line-start\">（</span>一般是通识课<span class=\"mojikumi-line-end\">、</span>选修课<span class=\"mojikumi-line-end\">）</span>会自带 P/F<span class=\"mojikumi-line-end\">，</span>即无需手动选择就以 P/F 记录成绩<span class=\"mojikumi-line-end\">，</span>这样的 P/F 不会占用每学期一门课的名额<span class=\"mojikumi-line-end\">，</span>也不会对培养方案的完成造成影响<span class=\"mojikumi-line-end\">。</span>有的课程会在课程介绍中说明是否自带 P/F<span class=\"mojikumi-line-end\">，</span>而有的课就需要咨询学长学姐或者等开课后才知道了<span class=\"mojikumi-line-end\">。</span></p>\n<h4 id=\"退课\" class=\"heading\"><a href=\"#退课\" class=\"heading-anchor\" aria-label=\"章节： 退课\" tabindex=\"-1\"></a><span>退课</span></h4>\n<p>每学期会有两次退课阶段<span class=\"mojikumi-line-end\">，</span>一般安排在期中附近以及期中后一个月左右<span class=\"mojikumi-line-end\">。</span>在退课阶段退课<span class=\"mojikumi-line-end\">，</span>除非退掉的是还没开课的课程<span class=\"mojikumi-line-start\">（</span>一般是在第一次退课时退掉后八周开课的课程<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">，</span>会在成绩单上记一个 <span class=\"mojikumi\">“</span>W<span class=\"mojikumi\">”</span><wbr><span class=\"mojikumi-line-start\">（</span>W <s>onderful</s> ithdrew<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">。</span>这个 <span class=\"mojikumi\">“</span>W<span class=\"mojikumi\">”</span> 貌似不会有什么实际的影响<span class=\"mojikumi-line-end\">，</span>但总之会显示在你的成绩单上<span class=\"mojikumi-line-end\">。</span></p>\n<p>大家一般会因为对课程不感兴趣<span class=\"mojikumi-line-end\">、</span>对自己前半学期的学习情况不满意 <del><span class=\"mojikumi-line-end\">、</span>对期中考试的成绩不满意</del> 等原因而选择退课<span class=\"mojikumi-line-end\">。</span>退课是一件需要慎重考虑的事<span class=\"mojikumi-line-end\">，</span>如果退掉的是比较重要的课<span class=\"mojikumi-line-end\">，</span>就要考虑到重修带来的各方面的影响<span class=\"mojikumi-line-end\">。</span></p>\n<a id=\"第二次退课\" name=\"第二次退课\" aria-hidden=\"true\"></a>\n<aside role=\"note\" data-v-a2ab257f><div class=\"shadow-md rd-1 b-l-6 my-6 bg-blue-1 dark:bg-blue-9 b-blue\" data-v-a2ab257f><div class=\"p-3 flex justify-between items-center\" data-v-a2ab257f><h5 class=\"flex items-center gap-1 font-bold\" data-v-a2ab257f><span class=\"text-5 i-mdi-info-circle-outline text-blue\" data-v-a2ab257f></span><span class=\"sr-only\" data-v-a2ab257f>Info: </span><span data-v-a2ab257f>第二次退课</span></h5><!--v-if--></div><div class=\"overflow-auto rd-br-1 bg-card px-6 dark:bg-bghover\" data-v-a2ab257f><p>自 2023-2024 秋季学期起<span class=\"mojikumi-line-end\">，</span>位于期中后的第二次退课只能退后八周开设的课程<span class=\"mojikumi-line-end\">。</span></p></div></div></aside>\n<a id=\"我到底是在退课，退课，还是退课------删课-vs-退选-vs-退课\" name=\"我到底是在退课，退课，还是退课------删课-vs-退选-vs-退课\" aria-hidden=\"true\"></a>\n<aside role=\"note\" data-v-a2ab257f><div class=\"shadow-md rd-1 b-l-6 my-6 bg-blue-1 dark:bg-blue-9 b-blue\" data-v-a2ab257f><div class=\"p-3 flex justify-between items-center\" data-v-a2ab257f><h5 class=\"flex items-center gap-1 font-bold\" data-v-a2ab257f><span class=\"text-5 i-mdi-pencil text-blue\" data-v-a2ab257f></span><span class=\"sr-only\" data-v-a2ab257f>Note: </span><span data-v-a2ab257f>我到底是在退课，退课，还是退课 😵 —— 删课 vs 退选 vs 退课</span></h5><!--v-if--></div><div class=\"overflow-auto rd-br-1 bg-card px-6 dark:bg-bghover\" data-v-a2ab257f><p>在预选<span class=\"mojikumi-line-end\">、</span>正选/补退选<span class=\"mojikumi-line-end\">、</span>退课三个不同的阶段<span class=\"mojikumi-line-end\">，</span>都有类似<span class=\"mojikumi-line-start\">“</span>退课<span class=\"mojikumi-line-end\">”</span>的操作<span class=\"mojikumi-line-end\">。</span>其实我也不知道这三个阶段中的<span class=\"mojikumi-line-start\">“</span>退课<span class=\"mojikumi-line-end\">”</span>分别应当叫做什么<span class=\"mojikumi-line-end\">，</span>而在实际交谈中<span class=\"mojikumi-line-end\">，</span>同学们可能会把这三种<span class=\"mojikumi-line-start\">“</span>退课<span class=\"mojikumi-line-end\">”</span>混为一谈<span class=\"mojikumi-line-end\">。</span></p><p>在预选阶段<span class=\"mojikumi-line-end\">，</span>删除一门课是不会有任何负面影响的<span class=\"mojikumi-line-end\">，</span>选一门课再删掉和从来没选过完全一样<span class=\"mojikumi-line-end\">，</span>删掉再选和不删也完全一样<span class=\"mojikumi-line-start\">（</span>当然<span class=\"mojikumi-line-end\">，</span>你会需要多操作两次<span class=\"mojikumi-line-end\">，</span>而且别人看到的志愿填报情况可能会不一样<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">。</span></p><p>在正选/补退选阶段<span class=\"mojikumi-line-end\">，</span>如果退选一门课<span class=\"mojikumi-line-end\">，</span>空出来的位置就随时可能被他人抢走<span class=\"mojikumi-line-end\">，</span>如果 WL 中有其他同学则会立刻递补<span class=\"mojikumi-line-end\">，</span>但成绩单上不会有 <span class=\"mojikumi\">“</span>W<span class=\"mojikumi\">”</span><span class=\"mojikumi-line-end\">，</span>也可以再次选课<span class=\"mojikumi-line-start\">（</span>除了补退选第二阶段<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">。</span></p><p>在退课阶段退课<span class=\"mojikumi-line-end\">，</span>就是真正的退课了<span class=\"mojikumi-line-end\">，</span>没有再选课的机会<span class=\"mojikumi-line-end\">，</span>并且成绩单上会有一个 <span class=\"mojikumi\">“</span>W<span class=\"mojikumi\">”</span><wbr><span class=\"mojikumi-line-start\">（</span>除非后八周课程尚未开课<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">。</span></p></div></div></aside>\n<h2 id=\"课程信息与选课操作------怎么找不到要选的课？怎么知道课在哪上呢？\" class=\"heading\"><a href=\"#课程信息与选课操作------怎么找不到要选的课？怎么知道课在哪上呢？\" class=\"heading-anchor\" aria-label=\"章节： 课程信息与选课操作 —— 怎么找不到要选的课？怎么知道课在哪上呢？\" tabindex=\"-1\"></a><span>课程信息与选课操作 —— 怎么找不到要选的课？怎么知道课在哪上呢？</span></h2>\n<h3 id=\"切换学期\" class=\"heading\"><a href=\"#切换学期\" class=\"heading-anchor\" aria-label=\"章节： 切换学期\" tabindex=\"-1\"></a><span>切换学期</span></h3>\n<p>选课系统的左上角可以选择学期<span class=\"mojikumi-line-end\">，</span>选课前需要先确认选择的是正确的学期<span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"查看课程信息\" class=\"heading\"><a href=\"#查看课程信息\" class=\"heading-anchor\" aria-label=\"章节： 查看课程信息\" tabindex=\"-1\"></a><span>查看课程信息</span></h3>\n<p>在选课系统的<span class=\"mojikumi-line-start\">“</span>开课信息 → 一级课开课信息<span class=\"mojikumi-line-end\">”</span>中可以找到当前学期所有课程的信息<span class=\"mojikumi-line-end\">，</span>可以在这搜索你想上的通识选修课有没有开课<span class=\"mojikumi-line-end\">，</span>查看课程简介<span class=\"mojikumi-line-end\">、</span>上课时间<span class=\"mojikumi-line-end\">、</span>选课要求<span class=\"mojikumi-line-end\">，</span>查看教师信息<span class=\"mojikumi-line-start\">（</span>包括邮箱<span class=\"mojikumi\">）</span><span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"选课操作与课程属性\" class=\"heading\"><a href=\"#选课操作与课程属性\" class=\"heading-anchor\" aria-label=\"章节： 选课操作与课程属性\" tabindex=\"-1\"></a><span>选课操作与课程属性</span></h3>\n<p>在<span class=\"mojikumi-line-start\">“</span>选课操作 → 一级选课<span class=\"mojikumi-line-end\">”</span>中<span class=\"mojikumi-line-end\">，</span>首先看到的会是当前学期的必修课<span class=\"mojikumi-line-end\">。</span>如果在必修课和限选课<span class=\"mojikumi-line-start\">（</span>以及体育课<span class=\"mojikumi-line-end\">）</span>中都没有看到想报的课<span class=\"mojikumi-line-end\">，</span>就要在任选课中手动搜索<span class=\"mojikumi-line-end\">。</span></p>\n<p><s>这不是废话吗</s> 但是<span class=\"mojikumi-line-end\">，</span>这里的课程属性可能和你想像中不一样<span class=\"mojikumi-line-end\">，</span>因为同一个课程在不同地方会有不同的属性<span class=\"mojikumi-line-end\">：</span></p>\n<ul>\n<li>在培养方案中会有课程属性<span class=\"mojikumi-line-end\">，</span>你认为的课程该有的属性很可能是培养方案中的课程属性<span class=\"mojikumi-line-end\">。</span></li>\n<li>选课系统中的课程属性取决于当前学期的指导性教学计划<span class=\"mojikumi-line-end\">，</span>一门课很可能只在一个学期是必修<span class=\"mojikumi-line-end\">，</span>而在别的学期就只是任选<span class=\"mojikumi-line-end\">。</span>特别地<span class=\"mojikumi-line-end\">，</span>外语课总是任选<span class=\"mojikumi-line-end\">。</span></li>\n<li>info 上的成绩单以及培养方案完成情况中会另有一套课程属性<span class=\"mojikumi-line-end\">，</span>大致是限选课变成了必修<span class=\"mojikumi-line-end\">，</span>任选课变成了限选<span class=\"mojikumi-line-end\">，</span>培养方案外的课才是任选<span class=\"mojikumi-line-end\">。</span></li>\n</ul>\n<p>需要注意的是<span class=\"mojikumi-line-end\">，</span>决定志愿优先级的课程属性是由教学计划决定的<span class=\"mojikumi-line-end\">，</span>这也是鼓励大家按教学计划选择必修课<span class=\"mojikumi-line-end\">，</span>如果错过了必修课在教学计划的学期<span class=\"mojikumi-line-end\">，</span>之后的志愿等级可能就是任选了<span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"教室位置查看\" class=\"heading\"><a href=\"#教室位置查看\" class=\"heading-anchor\" aria-label=\"章节： 教室位置查看\" tabindex=\"-1\"></a><span>教室位置查看</span></h3>\n<p>教室的位置在预选时是尚未安排好的<span class=\"mojikumi-line-end\">，</span>要在预选结果出来后才能在课表等位置看到教室在哪<span class=\"mojikumi-line-end\">。</span></p>\n<p>在 <a href=\"https://tsinghua.app/courses\">courseX</a> 上可以看到他人分享的教室位置信息<span class=\"mojikumi-line-end\">，</span>但不一定全<span class=\"mojikumi-line-end\">。</span>这些信息主要是 <a href=\"https://tsinghua.app/learnX\">learnX</a> 在用户主动同意后自动收集的<span class=\"mojikumi-line-end\">，</span>learnX 是对 <a href=\"https://learn.tsinghua.edu.cn\">网络学堂</a> 非常好的补充<span class=\"mojikumi-line-end\">，</span>推荐使用<span class=\"mojikumi-line-end\">，</span>也希望大家能在设置中开启课程信息共享<span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"关于上课时间\" class=\"heading\"><a href=\"#关于上课时间\" class=\"heading-anchor\" aria-label=\"章节： 关于上课时间\" tabindex=\"-1\"></a><span>关于上课时间</span></h3>\n<p>上课时间一般会以大节编号和周数的形式呈现<span class=\"mojikumi-line-end\">，</span>例如 <code>1<wbr>-<wbr>1<wbr>(全周),<wbr>3<wbr>-<wbr>4<wbr>(全周)</code> 表示每周一第一大节和每周三第四大节上课<span class=\"mojikumi-line-end\">，</span><code>4-6(前八周)</code> 表示前八周周四第六大节上课<span class=\"mojikumi-line-end\">。</span></p>\n<p>每大节的具体时间可以在课表中查看<span class=\"mojikumi-line-end\">。</span>一大节一般是两小节课各 45min 中间有 5min 休息<span class=\"mojikumi-line-end\">，</span>但第二大节和第六大节都有三小节<span class=\"mojikumi-line-end\">，</span>有的课会上满三小节<span class=\"mojikumi-line-end\">，</span>而有的课会只上两小节<span class=\"mojikumi-line-end\">，</span>而这一般可以通过课程的学分看出来<span class=\"mojikumi-line-end\">，</span>每一学分对应全周的一小节课<span class=\"mojikumi-line-end\">，</span>也就是八周的两小节课<span class=\"mojikumi-line-end\">。</span>如果一个 4 学分的课在全周的一个第二大节和一个第三大节上<span class=\"mojikumi-line-end\">，</span>那很有可能就是第二大节只上两小节<span class=\"mojikumi-line-end\">。</span>特别地<span class=\"mojikumi-line-end\">，</span>思想道德与法治<span class=\"mojikumi-line-end\">、</span>中国近现代史纲要<span class=\"mojikumi-line-end\">、</span>马克思主义基本原理等课程会比学时对应的学分多一分<span class=\"mojikumi-line-end\">，</span>这三节课分别是 3<span class=\"mojikumi-line-end\">、</span>3<span class=\"mojikumi-line-end\">、</span>4 学分<span class=\"mojikumi-line-end\">，</span>但分别对应全周上 2<span class=\"mojikumi-line-end\">、</span>2<span class=\"mojikumi-line-end\">、</span>3 小节<span class=\"mojikumi-line-end\">。</span></p>\n<h3 id=\"往年开课信息\" class=\"heading\"><a href=\"#往年开课信息\" class=\"heading-anchor\" aria-label=\"章节： 往年开课信息\" tabindex=\"-1\"></a><span>往年开课信息</span></h3>\n<ul>\n<li>开放选课时选课系统中可以查询上一学年的课程评价信息</li>\n<li>选课系统中切换学期可能可以查看上学期的课程信息</li>\n<li>网络学堂上可以搜索往年课程信息</li>\n<li><a href=\"https://announce.cic.tsinghua.edu.cn/node/25833\">历年本科生开课目录</a></li>\n</ul>\n<h2 id=\"体育课------为什么-26-分的限制-ta-可以报-28-分还不用申请特批学分？\" class=\"heading\"><a href=\"#体育课------为什么-26-分的限制-ta-可以报-28-分还不用申请特批学分？\" class=\"heading-anchor\" aria-label=\"章节： 体育课 —— 为什么 26 分的限制 TA 可以报 28 分还不用申请特批学分？\" tabindex=\"-1\"></a><span>体育课 —— 为什么 26 分的限制 TA 可以报 28 分还不用申请特批学分？</span></h2>\n<p>体育课在选课中有一些特殊之处<span class=\"mojikumi-line-end\">：</span></p>\n<ol>\n<li>体育课是不占用学分限制的</li>\n<li>体育课在选课时具有单独的课程属性<span class=\"mojikumi-line-end\">，</span>算在必限任之外<span class=\"mojikumi-line-start\">（</span>这也是有人找不到或者忘记报体育课的一大原因<span class=\"mojikumi-line-end\">）</span></li>\n<li>体育课虽然只能上一门<span class=\"mojikumi-line-end\">，</span>但预选时可以报很多门<span class=\"mojikumi-line-end\">，</span>等级高的志愿优先选上<span class=\"mojikumi-line-end\">，</span>等级低的志愿就会自动取消</li>\n<li>如果体育课挂科了<span class=\"mojikumi-line-end\">，</span>重修选课时会有特殊的流程<span class=\"mojikumi-line-end\">，</span>详见<span class=\"mojikumi-line-start\">“</span>选课时间安排<span class=\"mojikumi-line-end\">”</span></li>\n</ol>\n<p>正因为前三点<span class=\"mojikumi-line-end\">，</span>可以多报几门体育课<span class=\"mojikumi-line-end\">，</span>提高选上想上的课的概率<span class=\"mojikumi-line-end\">，</span>既不会占用学分限制也不会浪费一二志愿<span class=\"mojikumi-line-end\">。</span></p>",
            "url": "https://ouuan.moe/post/2022/07/thu-course-selection-tips",
            "title": "有关 THU 选课的一些常见问题与注意事项",
            "summary": "<p>还记得刚入学的时候<span class=\"mojikumi-line-end\">，</span>我一开始完全没弄明白要怎么选课<span class=\"mojikumi-line-end\">，</span>当时就想着弄明白了要写一篇选课指南<span class=\"mojikumi-line-end\">。</span></p>\n<p>后来<span class=\"mojikumi-line-end\">，</span>我弄明白之后发现不记得自己以前为什么不明白了<span class=\"mojikumi-line-end\">，</span>写不出来了<span class=\"mojikumi-line-start\">（</span></p>\n<p>再后来<span class=\"mojikumi-line-end\">，</span>我发现一些身边的同学到了选大二的课的时候还没弄明白选课流程<span class=\"mojikumi-line-start\">（</span></p>\n",
            "date_modified": "2022-07-25T13:05:32.000Z",
            "tags": [
                "选课",
                "THU",
                "经验分享"
            ]
        }
    ]
}