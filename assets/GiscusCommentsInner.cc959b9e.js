import{d as k,r as f,o as a,e as i,f as s,m as g,_ as I,p as R,q as S,s as $,x as w,i as o,y as z,z as B,F as C,A as T}from"./vendor-vue.f543892e.js";import{a as j}from"./vite.5ce4fca4.js";import{u as q}from"./useTheme.84274661.js";import{s as m}from"./site.0440d0dc.js";const H=function(e,t){return[{type:"image/webp",srcset:"/assets/wechat-donate.d6163079.webp"},{type:void 0,srcset:e,loading:"lazy",src:e,width:t,height:t}]}("/assets/wechat-donate.4318dd04.png",1037),N=function(e,t){return[{type:"image/webp",srcset:"/assets/alipay-donate.4b8654e6.webp"},{type:void 0,srcset:e,loading:"lazy",src:e,width:t,height:t}]}("/assets/alipay-donate.9afdaaf8.png",732),d=e=>(R("data-v-551ca45a"),e=e(),S(),e),O={class:"my-6 flex justify-center"},A=d(()=>s("span",{class:"i-mdi-gift"},null,-1)),E=d(()=>s("span",null,"打赏作者",-1)),P=[A,E],U={key:1,class:"relative flex justify-center gap-6"},V={class:"flex flex-1 flex-col items-center gap-3"},L=d(()=>s("figcaption",null,"微信打赏",-1)),G={class:"flex flex-1 flex-col items-center gap-3"},K=d(()=>s("figcaption",null,"支付宝打赏",-1)),M=k({__name:"SponsorRequest",props:{clickToOpen:{type:Boolean,default:!1}},setup(e){const t=f(!1);return(u,c)=>{const r=I;return a(),i("div",O,[u.clickToOpen&&!t.value?(a(),i("button",{key:0,class:"btn gap-1 px-2 btn-normal",onClick:c[0]||(c[0]=h=>t.value=!0)},P)):(a(),i("div",U,[s("figure",V,[g(r,{alt:"微信赞赏码",src:H}),L]),s("figure",G,[g(r,{alt:"支付宝收款码",src:N}),K])]))])}}});const Y=j(M,[["__scopeId","data-v-551ca45a"]]),D={key:1,class:"flex items-center justify-center gap-2"},J=["href"],Q=s("span",{class:"i-mdi-loading motion-safe:animate-spin"},null,-1),te=k({__name:"GiscusCommentsInner",props:{term:{},lang:{default:"zh-CN"}},setup(e){const t=m.repo,u=m.giscusRepoId,c=m.giscusCategoryId,r=e,h=new URLSearchParams({discussions_q:r.term}),F=q(),p=f(!0),y=f(!1);return window.addEventListener("message",n=>{var v,x;if(n.origin!=="https://giscus.app")return;const _=(v=n.data)==null?void 0:v.giscus;if(typeof _!="object")return;p.value=!1;const l=(x=_.discussion)==null?void 0:x.reactions;typeof l=="object"&&(y.value=Boolean(["THUMBS_UP","LAUGH","HOORAY","HEART","ROCKET"].find(b=>l[b].viewerHasReacted)))}),(n,_)=>{const l=Y;return a(),i(C,null,[y.value?(a(),$(l,{key:0,"click-to-open":""})):w("v-if",!0),p.value?(a(),i("div",D,[s("span",null,[s("a",{class:"text-link active:text-active hover:text-hover",href:`https://github.com/${o(t)}/discussions/categories/comments?${o(h)}`},"评论",8,J),z("加载中… ")]),Q])):w("v-if",!0),g(o(T),{style:B(p.value&&{opacity:0,position:"absolute",zIndex:-1,width:0,height:0}),"aria-hidden":p.value,repo:o(t),"repo-id":o(u),"category-id":o(c),mapping:"specific",term:n.term,"reactions-enabled":"1","emit-metadata":"1","input-position":"top",theme:o(F),lang:n.lang,loading:"lazy",strict:"1"},null,8,["style","aria-hidden","repo","repo-id","category-id","term","theme","lang"])],64)}}});export{te as _};
