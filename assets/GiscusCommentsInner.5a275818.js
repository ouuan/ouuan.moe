import{d as k,r as f,o as a,e as n,f as s,m as h,_ as I,p as R,q as S,s as $,x as w,i as o,y as z,z as B,F as C,A as T}from"./vendor-vue.3a7ab4d7.js";import{a as j}from"./vite.5ce4fca4.js";import{u as q}from"./useTheme.b0f77f45.js";import{s as m}from"./site.0440d0dc.js";const H=function(e,t){return[{type:"image/webp",srcset:"/assets/wechat-donate.d6163079.webp"},{type:void 0,srcset:e,loading:"lazy",src:e,width:t,height:t}]}("/assets/wechat-donate.4318dd04.png",1037),N=function(e,t){return[{type:"image/webp",srcset:"/assets/alipay-donate.4b8654e6.webp"},{type:void 0,srcset:e,loading:"lazy",src:e,width:t,height:t}]}("/assets/alipay-donate.9afdaaf8.png",732),d=e=>(R("data-v-551ca45a"),e=e(),S(),e),O={class:"my-6 flex justify-center"},A=d(()=>s("span",{class:"i-mdi-gift"},null,-1)),E=d(()=>s("span",null,"打赏作者",-1)),P=[A,E],U={key:1,class:"relative flex justify-center gap-6"},V={class:"flex flex-1 flex-col items-center gap-3"},L=d(()=>s("figcaption",null,"微信打赏",-1)),G={class:"flex flex-1 flex-col items-center gap-3"},K=d(()=>s("figcaption",null,"支付宝打赏",-1)),M=k({__name:"SponsorRequest",props:{clickToOpen:{type:Boolean,default:!1}},setup(e){const t=f(!1);return(u,i)=>{const c=I;return a(),n("div",O,[u.clickToOpen&&!t.value?(a(),n("button",{key:0,class:"btn gap-1 px-2 btn-normal",onClick:i[0]||(i[0]=g=>t.value=!0)},P)):(a(),n("div",U,[s("figure",V,[h(c,{alt:"微信赞赏码",src:H}),L]),s("figure",G,[h(c,{alt:"支付宝收款码",src:N}),K])]))])}}});const Y=j(M,[["__scopeId","data-v-551ca45a"]]),D={key:1,class:"flex items-center justify-center gap-2"},J=["href"],Q=s("span",{class:"i-mdi-loading motion-safe:animate-spin"},null,-1),te=k({__name:"GiscusCommentsInner",props:{term:{}},setup(e){const t=m.repo,u=m.giscusRepoId,i=m.giscusCategoryId,c=e,g=new URLSearchParams({discussions_q:c.term}),F=q(),r=f(!0),y=f(!1);return window.addEventListener("message",p=>{var v,x;if(p.origin!=="https://giscus.app")return;const _=(v=p.data)==null?void 0:v.giscus;if(typeof _!="object")return;r.value=!1;const l=(x=_.discussion)==null?void 0:x.reactions;typeof l=="object"&&(y.value=Boolean(["THUMBS_UP","LAUGH","HOORAY","HEART","ROCKET"].find(b=>l[b].viewerHasReacted)))}),(p,_)=>{const l=Y;return a(),n(C,null,[y.value?(a(),$(l,{key:0,"click-to-open":""})):w("v-if",!0),r.value?(a(),n("div",D,[s("span",null,[s("a",{class:"text-link active:text-active hover:text-hover",href:`https://github.com/${o(t)}/discussions/categories/comments?${o(g)}`},"评论",8,J),z("加载中… ")]),Q])):w("v-if",!0),h(o(T),{style:B(r.value&&{opacity:0,position:"absolute",zIndex:-1,width:0,height:0}),"aria-hidden":r.value,repo:o(t),"repo-id":o(u),"category-id":o(i),mapping:"specific",term:p.term,"reactions-enabled":"1","emit-metadata":"1","input-position":"top",theme:o(F),lang:"zh-CN",loading:"lazy",strict:"1"},null,8,["style","aria-hidden","repo","repo-id","category-id","term","theme"])],64)}}});export{te as _};
