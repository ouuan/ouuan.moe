var u=(i,s,t)=>new Promise((n,o)=>{var m=e=>{try{a(t.next(e))}catch(r){o(r)}},_=e=>{try{a(t.throw(e))}catch(r){o(r)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(m,_);a((t=t.apply(i,s)).next())});import{d as f,r as h,H as d,o as c,e as l,t as p}from"./vendor-vue.74273b34.js";const v={key:0},y={key:1},g={key:2,class:"i-mdi-loading motion-safe:animate-spin","aria-label":"加载中"},C=f({__name:"VisitorCount",props:{href:null,init:null},setup(i){const s=i,t=h(null);return d(()=>u(this,null,function*(){try{const n=yield fetch(new URL(s.href?`/api/visitors/${encodeURIComponent(s.href.slice(1))}`:"/api/visitors","https://blog-visitor-count.ouuan.moe").href);if(n.status===200){const o=yield n.json();t.value=o.visitors}}catch(n){t.value=null}})),(n,o)=>Number.isInteger(t.value)?(c(),l("span",v,p(t.value),1)):Number.isInteger(s.init)?(c(),l("span",y,p(s.init),1)):(c(),l("span",g))}});export{C as _};
