var p=(i,e,s)=>new Promise((o,n)=>{var d=t=>{try{a(s.next(t))}catch(r){n(r)}},h=t=>{try{a(s.throw(t))}catch(r){n(r)}},a=t=>t.done?o(t.value):Promise.resolve(t.value).then(d,h);a((s=s.apply(i,e)).next())});import{d as m,r as f,l as v,o as c,e as l,t as u,f as _}from"./vendor-vue.8e27fa9d.js";const y={key:0},g={key:1},k={key:2},C=_("span",{class:"i-mdi-loading motion-safe:animate-spin"},null,-1),b=_("span",{class:"sr-only"},"加载中",-1),w=[C,b],N=m({__name:"VisitorCount",props:{href:{},init:{}},setup(i){const e=i,s=f(null);return v(()=>p(this,null,function*(){try{const o=yield fetch(new URL(e.href?`/api/visitors/${encodeURIComponent(e.href.slice(1))}`:"/api/visitors","https://blog-visitor-count.ouuan.moe").href);if(o.status===200){const n=yield o.json();s.value=n.visitors}}catch(o){s.value=null}})),(o,n)=>Number.isInteger(s.value)?(c(),l("span",y,u(s.value),1)):Number.isInteger(e.init)?(c(),l("span",g,u(e.init),1)):(c(),l("span",k,w))}});export{N as _};
