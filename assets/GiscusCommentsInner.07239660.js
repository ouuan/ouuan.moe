import{d as w,r as f,o as a,e as i,f as s,y as m,_ as I,p as C,i as R,K as $,l as B,C as S,g as k,j as o,E as T,L as j,F as z,M as E}from"./vendor-vue.075573a8.js";import{a as H}from"./vite.5ce4fca4.js";import{u as N}from"./useTheme.f1d4e689.js";import{s as _}from"./site.330e516b.js";const O=function(e,t){return[{type:"image/webp",srcset:"/assets/wechat-donate.95d51001.webp"},{type:void 0,srcset:e,loading:"lazy",src:e,width:t,height:t}]}("/assets/wechat-donate.110f1f3a.png",1037),q=function(e,t){return[{type:"image/webp",srcset:"/assets/alipay-donate.d5fff7b3.webp"},{type:void 0,srcset:e,loading:"lazy",src:e,width:t,height:t}]}("/assets/alipay-donate.df7ccf7d.png",690),p=e=>(C("data-v-81a63aaa"),e=e(),R(),e),V={class:"my-6 flex justify-center"},A=p(()=>s("span",{class:"i-mdi-gift"},null,-1)),L=p(()=>s("span",null,"赞赏支持",-1)),M=[A,L],P={key:1,class:"flex justify-center gap-6 relative"},U={class:"flex-1 flex flex-col gap-3 items-center"},D=p(()=>s("figcaption",null,"微信打赏",-1)),G={class:"flex-1 flex flex-col gap-3 items-center"},K=p(()=>s("figcaption",null,"支付宝打赏",-1)),Y=w({__name:"SponsorRequest",props:{clickToOpen:{type:Boolean,default:!1}},setup(e){const t=f(!1);return(g,c)=>{const n=I;return a(),i("div",V,[e.clickToOpen&&!t.value?(a(),i("button",{key:0,class:"btn btn-normal px-2 gap-1",onClick:c[0]||(c[0]=h=>t.value=!0)},M)):(a(),i("div",P,[s("figure",U,[m(n,{alt:"微信赞赏码",src:O}),D]),s("figure",G,[m(n,{alt:"支付宝收款码",src:q}),K])]))])}}});const J=H(Y,[["__scopeId","data-v-81a63aaa"]]),Q={key:1,class:"flex justify-center items-center gap-2"},W=["href"],X=s("span",{class:"i-mdi-loading motion-safe:animate-spin"},null,-1),oe=w({__name:"GiscusCommentsInner",props:{term:null},setup(e){const t=_.repo,g=_.giscusRepoId,c=_.giscusCategoryId,n=N(),h=$(),F=B(()=>n.value==="auto"?h.value?"dark":"light":n.value),r=f(!0),y=f(!1);return window.addEventListener("message",u=>{var v,x;if(u.origin!=="https://giscus.app")return;const d=(v=u.data)==null?void 0:v.giscus;if(typeof d!="object")return;r.value=!1;const l=(x=d.discussion)==null?void 0:x.reactions;typeof l=="object"&&(y.value=Boolean(["THUMBS_UP","LAUGH","HOORAY","HEART","ROCKET"].find(b=>l[b].viewerHasReacted)))}),(u,d)=>{const l=J;return a(),i(z,null,[y.value?(a(),S(l,{key:0,"click-to-open":""})):k("v-if",!0),r.value?(a(),i("div",Q,[s("span",null,[s("a",{class:"text-link hover:text-hover active:text-active",href:`https://github.com/${o(t)}/discussions/categories/comments?discussions_q=${e.term}`},"评论",8,W),T("加载中… ")]),X])):k("v-if",!0),m(o(E),{style:j(r.value&&{opacity:0,position:"absolute",zIndex:-1,width:0,height:0}),"aria-hidden":r.value,repo:o(t),"repo-id":o(g),"category-id":o(c),mapping:"specific",term:e.term,"reactions-enabled":"1","emit-metadata":"1","input-position":"top",theme:o(F),lang:"zh-CN",loading:"lazy",strict:"1"},null,8,["style","aria-hidden","repo","repo-id","category-id","term","theme"])],64)}}});export{oe as _};
