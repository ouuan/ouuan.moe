var m=(_,n,e)=>new Promise((c,a)=>{var u=o=>{try{r(e.next(o))}catch(s){a(s)}},i=o=>{try{r(e.throw(o))}catch(s){a(s)}},r=o=>o.done?c(o.value):Promise.resolve(o.value).then(u,i);r((e=e.apply(_,n)).next())});import{d as v,r as d,o as b,e as x,f,n as y,g as l,t as h}from"./vendor-vue.1a7e0cc5.js";import{a as C}from"./vite.5ce4fca4.js";const k=["title"],B={class:"sr-only",role:"status"},g=v({__name:"CopyButton",setup(_){const n=d(null),e=d("normal");let c;const a={normal:"复制到剪贴板",success:"复制成功",error:"复制失败"},u={normal:"b-footer text-footer",success:"b-success text-success",error:"b-error text-error"},i={normal:"i-mdi-content-copy",success:"i-mdi-check",error:"i-mdi-alert-circle-outline"},r={normal:"",success:"复制成功",error:"复制失败"};function o(){return m(this,null,function*(){var s;try{let t=n.value;for(;t&&!t.classList.contains("code-block");)t=t.parentElement;const p=(s=t==null?void 0:t.querySelector("pre.shiki"))==null?void 0:s.textContent;if(typeof p!="string")throw new Error("Code not found");yield navigator.clipboard.writeText(p),e.value="success"}catch(t){e.value="error",alert(`复制失败: ${t}`)}finally{clearTimeout(c),c=setTimeout(()=>{e.value="normal"},2e3)}})}return(s,t)=>(b(),x("button",{ref_key:"buttonRef",ref:n,title:l(a)[e.value],class:y(["copy-button",l(u)[e.value]]),onClick:o},[f("span",{class:y(l(i)[e.value])},null,2),f("span",B,h(l(r)[e.value]),1)],10,k))}});const R=C(g,[["__scopeId","data-v-9288569d"]]);export{R as default};
