import{d as b,r as f,o as n,e as i,f as s,x as m,_ as k,G as F,H as I,A as R,z as x,g as o,I as $,K as z,F as B,L as C}from"./vendor-vue.1a7e0cc5.js";import{a as S}from"./vite.5ce4fca4.js";import{u as T}from"./useTheme.015bbb13.js";import{s as _}from"./site.b21fb919.js";const H=function(e,t){return[{type:"image/webp",srcset:"/assets/wechat-donate.95d51001.webp"},{type:void 0,srcset:e,loading:"lazy",src:e,width:t,height:t}]}("/assets/wechat-donate.110f1f3a.png",1037),j=function(e,t){return[{type:"image/webp",srcset:"/assets/alipay-donate.d5fff7b3.webp"},{type:void 0,srcset:e,loading:"lazy",src:e,width:t,height:t}]}("/assets/alipay-donate.df7ccf7d.png",690),p=e=>(F("data-v-f598337b"),e=e(),I(),e),N={class:"my-6 flex justify-center"},O=p(()=>s("span",{class:"i-mdi-gift"},null,-1)),q=p(()=>s("span",null,"赞赏支持",-1)),A=[O,q],E={key:1,class:"relative flex justify-center gap-6"},V={class:"flex flex-1 flex-col items-center gap-3"},G=p(()=>s("figcaption",null,"微信打赏",-1)),L={class:"flex flex-1 flex-col items-center gap-3"},U=p(()=>s("figcaption",null,"支付宝打赏",-1)),K=b({__name:"SponsorRequest",props:{clickToOpen:{type:Boolean,default:!1}},setup(e){const t=f(!1);return(g,c)=>{const r=k;return n(),i("div",N,[e.clickToOpen&&!t.value?(n(),i("button",{key:0,class:"btn gap-1 px-2 btn-normal",onClick:c[0]||(c[0]=a=>t.value=!0)},A)):(n(),i("div",E,[s("figure",V,[m(r,{alt:"微信赞赏码",src:H}),G]),s("figure",L,[m(r,{alt:"支付宝收款码",src:j}),U])]))])}}});const P=S(K,[["__scopeId","data-v-f598337b"]]),M={key:1,class:"flex items-center justify-center gap-2"},Y=["href"],D=s("span",{class:"i-mdi-loading motion-safe:animate-spin"},null,-1),Z=b({__name:"GiscusCommentsInner",props:{term:null},setup(e){const t=_.repo,g=_.giscusRepoId,c=_.giscusCategoryId,r=T(),a=f(!0),h=f(!1);return window.addEventListener("message",d=>{var y,v;if(d.origin!=="https://giscus.app")return;const u=(y=d.data)==null?void 0:y.giscus;if(typeof u!="object")return;a.value=!1;const l=(v=u.discussion)==null?void 0:v.reactions;typeof l=="object"&&(h.value=Boolean(["THUMBS_UP","LAUGH","HOORAY","HEART","ROCKET"].find(w=>l[w].viewerHasReacted)))}),(d,u)=>{const l=P;return n(),i(B,null,[h.value?(n(),R(l,{key:0,"click-to-open":""})):x("v-if",!0),a.value?(n(),i("div",M,[s("span",null,[s("a",{class:"text-link active:text-active hover:text-hover",href:`https://github.com/${o(t)}/discussions/categories/comments?discussions_q=${e.term}`},"评论",8,Y),$("加载中… ")]),D])):x("v-if",!0),m(o(C),{style:z(a.value&&{opacity:0,position:"absolute",zIndex:-1,width:0,height:0}),"aria-hidden":a.value,repo:o(t),"repo-id":o(g),"category-id":o(c),mapping:"specific",term:e.term,"reactions-enabled":"1","emit-metadata":"1","input-position":"top",theme:o(r),lang:"zh-CN",loading:"lazy",strict:"1"},null,8,["style","aria-hidden","repo","repo-id","category-id","term","theme"])],64)}}});export{Z as _};
