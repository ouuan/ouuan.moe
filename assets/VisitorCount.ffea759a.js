var u=(i,e,s)=>new Promise((n,o)=>{var d=t=>{try{a(s.next(t))}catch(r){o(r)}},h=t=>{try{a(s.throw(t))}catch(r){o(r)}},a=t=>t.done?n(t.value):Promise.resolve(t.value).then(d,h);a((s=s.apply(i,e)).next())});import{d as m,r as f,J as v,o as c,e as l,t as p,f as _}from"./vendor-vue.b65e9905.js";const y={key:0},g={key:1},k={key:2},C=_("span",{class:"i-mdi-loading motion-safe:animate-spin"},null,-1),b=_("span",{class:"sr-only"},"加载中",-1),w=[C,b],N=m({__name:"VisitorCount",props:{href:null,init:null},setup(i){const e=i,s=f(null);return v(()=>u(this,null,function*(){try{const n=yield fetch(new URL(e.href?`/api/visitors/${encodeURIComponent(e.href.slice(1))}`:"/api/visitors","https://blog-visitor-count.ouuan.moe").href);if(n.status===200){const o=yield n.json();s.value=o.visitors}}catch(n){s.value=null}})),(n,o)=>Number.isInteger(s.value)?(c(),l("span",y,p(s.value),1)):Number.isInteger(e.init)?(c(),l("span",g,p(e.init),1)):(c(),l("span",k,w))}});export{N as _};
