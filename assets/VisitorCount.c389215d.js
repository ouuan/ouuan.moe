var c=(a,n,t)=>new Promise((e,o)=>{var p=s=>{try{i(t.next(s))}catch(r){o(r)}},m=s=>{try{i(t.throw(s))}catch(r){o(r)}},i=s=>s.done?e(s.value):Promise.resolve(s.value).then(p,m);i((t=t.apply(a,n)).next())});import{d as f,r as _,J as h,o as l,e as u,t as d}from"./vendor-vue.075573a8.js";const v={key:0},y={key:1,class:"i-mdi-loading motion-safe:animate-spin"},C=f({__name:"VisitorCount",props:{href:null},setup(a){const n=a,t=_(null);return h(()=>c(this,null,function*(){try{const e=yield fetch(new URL(n.href?`/api/visitors/${encodeURIComponent(n.href.slice(1))}`:"/api/visitors","https://blog-visitor-count.ouuan.moe").href);if(e.status===200){const o=yield e.json();t.value=o.visitors}}catch(e){t.value=null}})),(e,o)=>Number.isInteger(t.value)?(l(),u("span",v,d(t.value),1)):(l(),u("span",y))}});export{C as _};
