<!DOCTYPE html><html lang="zh-CN"><head>
    <meta charset="UTF-8">
<title>CNATDA 第七章学习笔记 - ouuan's blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="《Computer Networking: A Top-Down Approach (8th Edition)》第七章 “Wireless and Mobile Networks” 的学习笔记。">
<meta property="og:url" content="https://ouuan.moe/post/2023/09/cnatda-7">
<meta property="og:site_name" content="ouuan's blog">
<meta property="og:title" content="CNATDA 第七章学习笔记 · ouuan's blog">
<meta property="og:description" content="《Computer Networking: A Top-Down Approach (8th Edition)》第七章 “Wireless and Mobile Networks” 的学习笔记。">
<meta property="twitter:domain" content="ouuan.moe">
<meta property="twitter:title" content="CNATDA 第七章学习笔记 · ouuan's blog">
<meta property="twitter:description" content="《Computer Networking: A Top-Down Approach (8th Edition)》第七章 “Wireless and Mobile Networks” 的学习笔记。">
<meta property="twitter:url" content="https://ouuan.moe/post/2023/09/cnatda-7">
<style>html:not(.dark):not(.light) { visibility: hidden; } body { visibility: hidden; }</style>
<script>(() => { let dark; try { const theme = localStorage && localStorage.getItem('vueuse-color-scheme'); if (theme === 'dark') dark = true; else if (theme === 'light') dark = false; else dark = window.matchMedia('(prefers-color-scheme: dark)').matches; } catch (e) { dark = false; } document.documentElement.classList.add(dark ? 'dark' : 'light'); })()</script>
<noscript><style>@media (prefers-color-scheme: light) { :root:not(.dark):not(.light) { color-scheme: light; --text-color: #232637; --bg-color: #DEE6EE; --card-color: #EFF3F7; --link-color: #1E66B8; --hover-color: #2E80DD; --active-color: #164C89; --bghover-color: #D6E0EA; --popup-color: #F7F9FB; --footer-color: #5F627B; --area-color: #E1E2E8; --nested-color: #F0F0F3; } } @media (prefers-color-scheme: dark) { :root:not(.dark):not(.light) { color-scheme: dark; --text-color: #E6EDF2; --bg-color: #0D0E15; --card-color: #1F2130; --link-color: #8BB8EC; --hover-color: #A2C6F0; --active-color: #74AAE8; --bghover-color: #353853; --popup-color: #2C2F45; --footer-color: #9699AE; --area-color: #2F313D; --nested-color: #3C3E4E; } } html { visibility:visible !important; }</style></noscript>
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="canonical" href="https://ouuan.moe/post/2023/09/cnatda-7">
<link rel="alternate" type="application/rss+xml" href="/feed.xml" title="RSS Feed - ouuan's blog">
<link rel="alternate" type="application/atom+xml" href="/feed.atom" title="Atom Feed - ouuan's blog">
<link rel="alternate" type="application/json" href="/feed.json" title="JSON Feed - ouuan's blog">
<link rel="dns-prefetch" href="https://plausible.ouuan.moe">
<link rel="preconnect" href="https://blog-visitor-count.ouuan.moe">
<link rel="stylesheet" href="/vendors/katex/katex.css">
<link rel="sitemap" href="https://ouuan.moe/sitemap.xml">
<meta name="author" content="ouuan">
<meta name="twitter:creator" content="@ouuan">
<meta name="twitter:card" content="summary">
<meta property="og:image" content="https://ouuan.moe/images/2023/09/cnatda-7.png">
<meta property="generator" content="îles">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-10-08T09:32:15.000Z">
<meta property="article:modified_time" content="2023-10-08T09:32:15.000Z">
<meta property="article:author" content="ouuan">
<meta property="article:tag" content="cnatda">
<meta property="article:tag" content="学习笔记">
<link rel="preconnect" href="https://giscus.app">
<link rel="dns-prefetch" href="https://avatars.githubusercontent.com">
    <link rel="stylesheet" href="/assets/style-167972a4.css">
    
  <link rel="modulepreload" href="/assets/iles.5d187450.js" crossorigin=""><link rel="modulepreload" href="/assets/vendor-vue.196b627b.js" crossorigin=""><link rel="modulepreload" href="/assets/vite.5ce4fca4.js" crossorigin=""><link rel="modulepreload" href="/assets/SearchBar.775ef7aa.js" crossorigin=""><link rel="modulepreload" href="/assets/PostHead.78b113a4.js" crossorigin=""><link rel="modulepreload" href="/assets/VisitorCount.8ea9f53a.js" crossorigin=""><link rel="modulepreload" href="/assets/site.0440d0dc.js" crossorigin=""><link rel="modulepreload" href="/assets/GiscusCommentsInner.244b88fd.js" crossorigin=""><link rel="modulepreload" href="/assets/useTheme.2f87a670.js" crossorigin=""><link rel="modulepreload" href="/assets/TableOfContents.fc6616e4.js" crossorigin=""><style>@font-face { font-family: "Noto Serif SC Web Font"; font-weight: 400; font-style: normal; font-display: swap; src: url('/assets/fonts/NotoSerifSC-Regular.unique.aa8ca6e4.woff2') format('woff2'), url('/assets/fonts/NotoSerifSC-Regular.unique.78e403b5.woff') format('woff'); unicode-range: U+0-9884; } @font-face { font-family: "Noto Serif SC Web Font"; font-weight: 400; font-style: normal; font-display: swap; src: url('/assets/fonts/NotoSerifSC-Regular.common.050e7b1a.woff2') format('woff2'), url('/assets/fonts/NotoSerifSC-Regular.common.9df1965b.woff') format('woff'); unicode-range: U+0-ff1b; } @font-face { font-family: "Noto Serif SC Web Font"; font-weight: 700; font-style: normal; font-display: swap; src: url('/assets/fonts/NotoSerifSC-Bold.common.c5285db9.woff2') format('woff2'), url('/assets/fonts/NotoSerifSC-Bold.common.bc3fc7f5.woff') format('woff'); unicode-range: U+0-7684; }</style><link rel="preload" href="/assets/fonts/NotoSerifSC-Regular.unique.aa8ca6e4.woff2" as="font" type="font/woff2" crossorigin=""><link rel="preload" href="/assets/fonts/NotoSerifSC-Regular.common.050e7b1a.woff2" as="font" type="font/woff2" crossorigin=""><link rel="preload" href="/assets/fonts/NotoSerifSC-Bold.common.c5285db9.woff2" as="font" type="font/woff2" crossorigin=""></head>
  <body itemscope="" itemtype="https://schema.org/ItemPage">
    <div id="app"><header class="bg-card shadow print:hidden" itemprop="hasPart" itemscope="" itemtype="https://schema.org/WPHeader"><div class="flex flex-wrap justify-center whitespace-nowrap px-4 page-container sm:flex-nowrap"><div class="flex basis-full items-stretch justify-center sm:mr-3 sm:basis-auto"><a class="flex items-center p-3 text-xl font-serif bghover" href="/"><span>ouuan<span class="mojikumi-narrow-left">’</span>s blog</span></a></div><nav class="flex"><ul class="flex"><li class="flex flex-1 items-stretch justify-center"><a class="flex items-center p-3 bghover" href="/"><span>首页</span></a></li><li class="flex flex-1 items-stretch justify-center"><a class="flex items-center p-3 bghover" href="/posts"><span>文章</span></a></li><li class="flex flex-1 items-stretch justify-center"><a class="flex items-center p-3 bghover" href="/tags"><span>标签</span></a></li><li class="flex flex-1 items-stretch justify-center"><a class="flex items-center p-3 bghover" href="/about"><span>关于</span></a></li></ul></nav><div class="sm:basis-full"></div><ul class="flex"><li class="flex"><ile-root id="ile-1"><div class="flex items-stretch lg:hidden"><a class="flex items-center p-2 bghover" href="/search" title="全站搜索"><span class="i-mdi-magnify text-xl"></span></a></div><form role="search" class="hidden items-stretch justify-center lg:flex"><div class="flex items-center"><input value="" class="w-48 rd-full bg-area px-3 py-1" type="search" placeholder="关键词" aria-label="全站搜索"></div><a class="flex items-center p-2 bghover" href="/search?q=" title="全站搜索"><span class="i-mdi-magnify text-xl"></span></a></form></ile-root><script></script><script type="module" async="">import{h as r,c as a}from"/assets/iles.5d187450.js";import{_ as m}from"/assets/SearchBar.775ef7aa.js";import"/assets/vendor-vue.196b627b.js";import"/assets/vite.5ce4fca4.js";r(a,m,"ile-1",{},{});
</script></li><li class="flex items-stretch"><a class="flex items-center p-2 bghover" href="/feed.xml" title="RSS 订阅"><span class="i-mdi-rss text-xl"></span></a></li><li class="flex"><ile-root id="ile-2"><div class="relative flex items-stretch"><button title="暗色模式设置" class="flex items-center p-2 bghover" aria-haspopup="menu" aria-controls="__theme-switcher" aria-expanded="false"><span class="i-mdi-theme-light-dark text-xl"></span></button><ul style="display:none;" id="__theme-switcher" class="absolute right-0 top-full z-20 whitespace-nowrap rd-1 bg-popup shadow-md" role="menu" aria-label="暗色模式选项"><li class="bghover" role="menuitemradio" aria-checked="true"><button class="flex items-center p-1 text-hover"><span class="i-mdi-cellphone md:i-mdi-tablet lg:i-mdi-monitor mr-1"></span><span>跟随系统</span></button></li><li class="bghover" role="menuitemradio" aria-checked="false"><button class="flex items-center p-1"><span class="i-mdi-white-balance-sunny mr-1"></span><span>总是亮色</span></button></li><li class="bghover" role="menuitemradio" aria-checked="false"><button class="flex items-center p-1"><span class="i-mdi-weather-night mr-1"></span><span>总是暗色</span></button></li></ul></div></ile-root><script></script><script type="module" async="">var p=(o,a)=>()=>(a||o((a={exports:{}}).exports,a),a.exports);var r=(o,a,_)=>new Promise((c,n)=>{var f=t=>{try{e(_.next(t))}catch(i){n(i)}},l=t=>{try{e(_.throw(t))}catch(i){n(i)}},e=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);e((_=_.apply(o,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{a as s}from"/assets/iles.5d187450.js";import"/assets/vendor-vue.196b627b.js";var E=p(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.5d187450.js").then(o=>o.v),["assets/iles.5d187450.js","assets/vendor-vue.196b627b.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/ThemeSwitcher.746a16cf.js"),["assets/ThemeSwitcher.746a16cf.js","assets/vendor-vue.196b627b.js","assets/vite.5ce4fca4.js","assets/useTheme.2f87a670.js"])).default});s(u,v,"ile-2",{},{})});export default E();
</script></li></ul></div></header><main class="min-h-100vh py-6 page-container" itemprop="mainContentOfPage" itemscope="" itemtype="https://schema.org/WebPageElement"><div class="flex justify-center"><div class="grow m-4 standard-card max-w-200"><article itemprop="mainEntity" itemscope="" itemtype="https://schema.org/BlogPosting"><div class="hidden" itemscope="" itemtype="https://schema.org/Person" itemprop="author"><meta itemprop="name" content="ouuan"><meta itemprop="givenName" content="Yufan"><meta itemprop="familyName" content="You"><meta itemprop="url" content="https://github.com/ouuan"><link itemprop="gender" href="https://schema.org/Male"><meta itemprop="image" content="/android-chrome-512x512.png"></div><meta itemprop="inLanguage" content="zh-CN"><meta itemprop="mainEntityOfPage" content="https://ouuan.moe/post/2023/09/cnatda-7"><meta itemprop="image" content="https://ouuan.moe/images/2023/09/cnatda-7.png"><ile-root id="ile-3" class="my-12"><header class="my-12" data-v-2045e486=""><h1 class="mb-3 mt-6 text-center text-8" itemprop="headline" data-v-2045e486=""><span class="inline-block font-serif break-anywhere" data-v-2045e486=""><span data-v-2045e486="" data-v-6544d8e8="">CNATDA 第七章学习笔记</span></span></h1><div class="flex flex-wrap justify-center gap-x-4 gap-y-1 text-footer md:text-sm" data-v-2045e486=""><span class="flex items-center" title="创建于 2023-09-20 11:08:47 GMT+8" data-v-2045e486=""><span class="i-mdi-folder-plus-outline mr-1" data-v-2045e486=""></span><span class="sr-only" data-v-2045e486="">创建于</span><a class="hover:underline" href="https://github.com/ouuan/iles-blog/blob/master/src/pages/post/2023/09/cnatda-7.mdx?plain=1" data-v-2045e486=""><time datetime="2023-09-20T11:08:47+08:00" itemprop="dateCreated" data-v-2045e486="">2023-09-20</time></a></span><span class="flex items-center" title="修改于 2023-10-08 17:32:15 GMT+8" data-v-2045e486=""><span class="i-mdi-update mr-1" data-v-2045e486=""></span><span class="sr-only" data-v-2045e486="">修改于</span><a class="hover:underline" href="https://github.com/ouuan/iles-blog/commits/master/src/pages/post/2023/09/cnatda-7.mdx" data-v-2045e486=""><time datetime="2023-10-08T17:32:15+08:00" itemprop="dateModified" data-v-2045e486="">2023-10-08</time></a></span><span class="flex items-center" title="访问量" data-v-2045e486=""><span class="i-mdi-eye-outline mr-1" data-v-2045e486=""></span><span class="sr-only" data-v-2045e486="">访问量</span><span data-v-2045e486="">54</span></span><span class="flex flex-wrap justify-center gap-x-2 gap-y-1" data-v-2045e486=""><span title="标签: cnatda" class="flex items-center" data-v-2045e486=""><span class="i-mdi-tag-outline mr-1" data-v-2045e486=""></span><span class="sr-only" data-v-2045e486="">标签</span><a href="/tag/cnatda" class="hover:underline" data-v-2045e486=""><span itemprop="keywords" data-v-2045e486="" data-v-6544d8e8="">cnatda</span></a></span><span title="标签: 学习笔记" class="flex items-center" data-v-2045e486=""><span class="i-mdi-tag-outline mr-1" data-v-2045e486=""></span><span class="sr-only" data-v-2045e486="">标签</span><a href="/tag/学习笔记" class="hover:underline" data-v-2045e486=""><span itemprop="keywords" data-v-2045e486="" data-v-6544d8e8="">学习笔记</span></a></span></span></div></header></ile-root><script></script><script type="module" async="">import{h as t,c as e}from"/assets/iles.5d187450.js";import{c as a}from"/assets/PostHead.78b113a4.js";import"/assets/vendor-vue.196b627b.js";import"/assets/vite.5ce4fca4.js";import"/assets/VisitorCount.8ea9f53a.js";import"/assets/site.0440d0dc.js";t(e,a,"ile-3",{class:"my-12",href:"/post/2023/09/cnatda-7",filename:"src/pages/post/2023/09/cnatda-7.mdx",frontmatter:{title:"CNATDA 第七章学习笔记",date:new Date(1695179327e3),image:"/images/2023/09/cnatda-7.png",tags:["cnatda","学习笔记"],lastUpdated:new Date(1696757535e3),published:new Date(1696757535e3),visitor:54,description:"《Computer Networking: A Top-Down Approach (8th Edition)》第七章 “Wireless and Mobile Networks” 的学习笔记。"}},{});
</script><section class="article-style" itemprop="articleBody">
<p><span class="mojikumi-line-start">《</span>Computer Networking: A Top-Down Approach (8th Edition)<span class="mojikumi-line-end">》</span>第七章 <span class="mojikumi">“</span>Wireless and Mobile Networks<span class="mojikumi">”</span> 的学习笔记<span class="mojikumi-line-end">。</span></p>

<h2 id="introduction" class="heading"><a href="#introduction" class="heading-anchor" aria-label="章节： Introduction" tabindex="-1"></a><span>Introduction</span></h2>
<p><span class="mojikumi-line-start">“</span>wireless<span class="mojikumi">”</span> 和 <span class="mojikumi">“</span>mobile<span class="mojikumi">”</span> 往往是密不可分的<span class="mojikumi-line-end">，</span>但它们实际上面临着不同的挑战<span class="mojikumi-line-end">，</span>需要不同的解决方案<span class="mojikumi-line-end">。</span></p>
<p>wireless network 一般包含 wireless host<span class="mojikumi-line-end">、</span>wireless link 和 base station<span class="mojikumi-line-end">，</span>但不是所有 wireless network 都有 base station<span class="mojikumi-line-end">。</span></p>
<p>根据 wireless hop 的次数<span class="mojikumi-line-end">、</span>是否有 base station (infrastructure)<span class="mojikumi-line-end">，</span>wireless network 可以大致分为四种<span class="mojikumi-line-end">：</span></p>
<ul>
<li>single-hop, infrastructure-based: 大部分 wireless network<span class="mojikumi-line-end">，</span>例如 802.11 和 4G LTE</li>
<li>single-hop, infrastructure-less: 例如 Bluetooth</li>
<li>multi-hop, infrastructure-based: 例如 wireless mesh network</li>
<li>multi-hop, infrastructure-less: 例如 mobile ad hoc network (MANET)<span class="mojikumi-line-end">、</span>vehicular ad hoc network (VANET)</li>
</ul>
<h2 id="wireless-links-and-network-characteristics" class="heading"><a href="#wireless-links-and-network-characteristics" class="heading-anchor" aria-label="章节： Wireless Links and Network Characteristics" tabindex="-1"></a><span>Wireless Links and Network Characteristics</span></h2>
<p>wireless network 面临着几个主要问题<span class="mojikumi-line-end">：</span></p>
<ul>
<li>信号衰减<span class="mojikumi-line-end">：</span>长距离传输<span class="mojikumi-line-end">、</span>穿越障碍</li>
<li>信号干扰<span class="mojikumi-line-end">：</span>其他同频段信号<span class="mojikumi-line-end">、</span>环境噪音</li>
<li>multipath propagation<span class="mojikumi-line-end">：</span>同一信号的多个部分从 sender 到 receiver 可能会走不同的路径</li>
</ul>
<p>总之<span class="mojikumi-line-end">，</span>wireless network 通常有更多 bit error<span class="mojikumi-line-end">，</span>所以往往除了 wired network 也会使用的 CRC error detection codes<span class="mojikumi-line-end">，</span>还会使用 link-layer reliable-data-transfer protocol<span class="mojikumi-line-end">。</span></p>
<p><i>signal-to-noise ratio</i> (SNR) 是接收到的信号强度与噪音之比<span class="mojikumi-line-end">，</span><i>bit error rate</i> (BER) 是 bit error 发生的概率<span class="mojikumi-line-end">。</span></p>
<p>wireless network 通过 modulation scheme 来决定如何 encoding 和 transmission<span class="mojikumi-line-end">。</span>对于同一个 modulation scheme<span class="mojikumi-line-end">，</span>SNR 越高 BER 越低<span class="mojikumi-line-end">；</span>对于同样的 SNR<span class="mojikumi-line-end">，</span>transmission rate 越高的 modulation scheme BER 越高<span class="mojikumi-line-end">。</span>所以<span class="mojikumi-line-end">，</span>往往会根据实际的 channel condition 动态选用 modulation scheme<span class="mojikumi-line-start">（</span>例如在 BER 满足一定限制的情况下尽可能提高 transmission rate<span class="mojikumi">）</span><span class="mojikumi-line-end">。</span></p>
<p>wireless network 中的 multiple access 也更加复杂<span class="mojikumi-line-end">，</span>例如<span class="mojikumi-line-end">，</span>A 和 C 分别能传输信号到 B<span class="mojikumi-line-end">，</span>但因为障碍物或距离等原因<span class="mojikumi-line-end">，</span>A 和 C 接收不到彼此发送的信号<span class="mojikumi-line-end">，</span>这可能导致 undetectable collision<span class="mojikumi-line-end">。</span></p>
<h2 id="cdma" class="heading"><a href="#cdma" class="heading-anchor" aria-label="章节： CDMA" tabindex="-1"></a><span>CDMA</span></h2>
<p>CDMA (code division multiple access) 是一种常用于 wireless network 的 multiple access protocol<span class="mojikumi-line-end">，</span>属于 <a href="/post/2023/07/cnatda-6#channel-partitioning-protocols">channel partitioning protocol</a><span class="mojikumi-line-end">。</span></p>
<p>在 CDMA 中<span class="mojikumi-line-end">，</span>每个装有 1 bit 的 time slot 会被再分为多个 mini-slot<span class="mojikumi-line-end">，</span>sender 将每个 slot 内的 data<span class="mojikumi-line-start">（</span>mini-slot 全 0 / 全 1<span class="mojikumi-line-end">）</span>异或上一个 code<span class="mojikumi-line-end">，</span>理想状态下<span class="mojikumi-line-end">，</span>receiver 再异或上这个 code 就可以得到 data<span class="mojikumi-line-end">。</span>实际上<span class="mojikumi-line-end">，</span>会有其他信号产生干扰<span class="mojikumi-line-end">，</span>而合适地选取 code 可以在有干扰的情况下依然能够读取出 data<span class="mojikumi-line-end">。</span>这相当于是在 code space 而非 time / frequency 上进行 channel partitioning<span class="mojikumi-line-end">。</span></p>
<p><span class="mojikumi-line-start">（</span>书中没有说明具体细节<span class="mojikumi-line-end">，</span>例如如何选取 code<span class="mojikumi-line-end">，</span>如何处理不同 sender 的信号强度不同<span class="mojikumi">。</span><span class="mojikumi-line-end">）</span></p>
<h2 id="wi-fi-802-11-wireless-lans" class="heading"><a href="#wi-fi-802-11-wireless-lans" class="heading-anchor" aria-label="章节： Wi-Fi: 802.11 Wireless LANs" tabindex="-1"></a><span>Wi-Fi: 802.11 Wireless LANs</span></h2>
<p>Wi-Fi 的全称为 <span class="mojikumi">“</span>IEEE 802.11 wireless LAN<span class="mojikumi">”</span><span class="mojikumi-line-end">，</span>有 802.11b/g/n/ac/ax/af/ah 等版本<span class="mojikumi-line-end">，</span>不同版本有不同的最大传输速率<span class="mojikumi-line-end">、</span>传输距离以及使用的频段<span class="mojikumi-line-end">。</span></p>
<h3 id="the-802-11-wireless-lan-architecture" class="heading"><a href="#the-802-11-wireless-lan-architecture" class="heading-anchor" aria-label="章节： The 802.11 Wireless LAN Architecture" tabindex="-1"></a><span>The 802.11 Wireless LAN Architecture</span></h3>
<p>802.11 architecture 的 building block 是 <i>basic service set</i> (BSS)<span class="mojikumi-line-end">，</span>每个 BSS 包含一个被称作 <i>access point</i> (AP) 的 base station 以及连接到 AP 的若干 wireless station<span class="mojikumi-line-start">（</span>即 host<span class="mojikumi">）</span><span class="mojikumi-line-end">。</span></p>
<p>802.11 可以通过 AP 连接为 infrastructure wireless LAN<span class="mojikumi-line-end">，</span>也可以没有 AP 而只由几个 host 互相连接成 ad hoc network<span class="mojikumi-line-start">（</span>不对外连接到 Internet<span class="mojikumi">）</span><span class="mojikumi-line-end">。</span>本书只讨论 infrastructure wireless LAN<span class="mojikumi-line-end">。</span></p>
<p>每个 AP 有一个 <i>service set identifier</i> (SSID)<span class="mojikumi-line-end">，</span>即 Wi-Fi 的名称<span class="mojikumi-line-end">。</span>可以为 AP 设置 channel number<span class="mojikumi-line-end">，</span>2.4GHz 频段共有 11 个 channel number<span class="mojikumi-line-end">，</span>但相差不到 5 的 channel 会相交<span class="mojikumi-line-end">，</span>彼此不相交的 channel 最多只能有 3 个<span class="mojikumi-line-start">（</span>1<span class="mojikumi-line-end">、</span>6<span class="mojikumi-line-end">、</span>11<span class="mojikumi">）</span><span class="mojikumi-line-end">。</span></p>
<p>AP 会周期性地广播 <i>beacon frame</i> 来告诉 wireless device 自己的存在<span class="mojikumi-line-end">，</span>wireless device 可以监听 beacon frame 来进行 <i>passive scanning</i><span class="mojikumi-line-end">。</span>除此之外<span class="mojikumi-line-end">，</span>也可以主动发送 probe frame 来进行 <i>active scanning</i><span class="mojikumi-line-end">。</span></p>
<p>找到 AP 后<span class="mojikumi-line-end">，</span>wireless device 需要在可用的 AP 中选择一个<span class="mojikumi-line-start">（</span>802.11 standard 中没有规定选择 AP 的算法<span class="mojikumi">）</span><span class="mojikumi-line-end">，</span>发送 association request<span class="mojikumi-line-end">，</span>AP 返回 association response<span class="mojikumi-line-end">，</span>就建立了连接<span class="mojikumi-line-end">。</span></p>
<h3 id="the-802-11-mac-protocol" class="heading"><a href="#the-802-11-mac-protocol" class="heading-anchor" aria-label="章节： The 802.11 MAC Protocol" tabindex="-1"></a><span>The 802.11 MAC Protocol</span></h3>
<h4 id="csmaca" class="heading"><a href="#csmaca" class="heading-anchor" aria-label="章节： CSMA/CA" tabindex="-1"></a><span>CSMA/CA</span></h4>
<p>802.11 使用的 <a href="/post/2023/07/cnatda-6#multiple-access-links-and-protocols">MAC protocol</a> 是称作 <i>CSMA with collision avoidance</i> (CSMA/CA) 的 <a href="/post/2023/07/cnatda-6#random-access-protocols">random access protocol</a><span class="mojikumi-line-end">，</span>和 Ethernet 使用的 <a href="/post/2023/07/cnatda-6#csmacd">CSMA/CD</a> 类似<span class="mojikumi-line-end">，</span>但又有很大不同<span class="mojikumi-line-end">：</span></p>
<ul>
<li>CSMA/CA 是 <span class="mojikumi">“</span>collision avoidance<span class="mojikumi">”</span> 而非 CSMA/CD 的 <span class="mojikumi">“</span>collision detection<span class="mojikumi">”</span><span class="mojikumi-line-end">，</span>这意味着它不是在检测 collision 时中断传输<span class="mojikumi-line-end">，</span>而是不进行检测<span class="mojikumi-line-end">，</span>通过其他机制尽量避免 collision<span class="mojikumi-line-end">。</span>这是因为 wireless network 中很难进行 collision detection<span class="mojikumi-line-end">：</span>
<ul>
<li><a href="#wireless-links-and-network-characteristics">前文</a>中提到过<span class="mojikumi-line-end">，</span>wireless network 中可能存在 undetectable collision<span class="mojikumi-line-end">；</span></li>
<li>collision detection 需要在发送的同时接收信号<span class="mojikumi-line-end">，</span>而无线信号在发送端的强度会远高于接收端的强度<span class="mojikumi-line-end">，</span>这也加大了 collision detection 的难度<span class="mojikumi-line-end">。</span></li>
</ul>
</li>
<li>802.11 引入了 link-layer <a href="/post/2023/06/cnatda-3#principles-of-reliable-data-transfer">reliable-data-transfer</a><span class="mojikumi-line-end">。</span></li>
</ul>
<p>其完整流程为<span class="mojikumi-line-end">：</span></p>
<ol>
<li>等待一小段时间<span class="mojikumi-line-start">（</span>distributed inter-frame space, DIFS) 来看 channel 是否 idle<span class="mojikumi-line-end">。</span></li>
<li>如果 channel buzy<span class="mojikumi-line-end">，</span>进入 binary exponential backoff<span class="mojikumi-line-start">（</span>只在 channel idle 时 countdown<span class="mojikumi-line-end">，</span>channel buzy 则不计入等待时间<span class="mojikumi">）</span><span class="mojikumi-line-end">。</span></li>
<li>经历了足够长的 channel idle 后<span class="mojikumi-line-end">，</span>发送整个 frame<span class="mojikumi-line-start">（</span>不检测 collision<span class="mojikumi">）</span><span class="mojikumi-line-end">。</span></li>
<li>AP 接收到 frame 后<span class="mojikumi-line-end">，</span>等待一小段时间<span class="mojikumi-line-start">（</span>short inter-frame space, SIFS<span class="mojikumi">）</span><span class="mojikumi-line-end">，</span>然后发送 ACK<span class="mojikumi-line-end">。</span></li>
<li>如果 sender 接收到了 ACK<span class="mojikumi-line-end">，</span>则结束或继续发送下一个 frame<span class="mojikumi-line-end">；</span>否则进入 binary exponential backoff<span class="mojikumi-line-end">，</span>进行 retransmission<span class="mojikumi-line-end">。</span></li>
</ol>
<p>其中<span class="mojikumi-line-end">，</span>检测到 channel buzy 时直接进入 backoff<span class="mojikumi-line-end">，</span>是为了避免 channel 变为 idle 时多个 sender 同时发送而产生 collision<span class="mojikumi-line-end">。</span>这与 CSMA/CD 不同<span class="mojikumi-line-end">，</span>因为如果有 collision detection 的话<span class="mojikumi-line-end">，</span>即使发生了这样的 collision 也代价不大<span class="mojikumi-line-end">，</span>就无需通过 backoff 来避免<span class="mojikumi-line-end">。</span></p>
<h4 id="rtscts" class="heading"><a href="#rtscts" class="heading-anchor" aria-label="章节： RTS/CTS" tabindex="-1"></a><span>RTS/CTS</span></h4>
<p>wireless network 中不仅 collision detection 非常困难<span class="mojikumi-line-end">，</span>carrier sense 也比较困难<span class="mojikumi-line-end">，</span>光靠上面这些机制还是很可能出现 collision<span class="mojikumi-line-end">，</span>所以 802.11 还提供了另一种可选的机制<span class="mojikumi-line-end">：</span>使用 <i>request to send</i> (RTS) frame 和 <i>clear to send</i> (CTS) frame 来显式地预留出通信权<span class="mojikumi-line-end">：</span></p>
<ol>
<li>sender 发送 RTS<span class="mojikumi-line-end">，</span>告诉 AP 需要预留出的时长<span class="mojikumi-line-start">（</span>传输 data 和 ACK 的用时<span class="mojikumi">）</span><span class="mojikumi-line-end">。</span></li>
<li>AP 发送 CTS<span class="mojikumi-line-end">，</span>告诉 sender 可以发送<span class="mojikumi-line-end">，</span>以及告诉其他 station 一段时间内不要发送<span class="mojikumi-line-end">。</span></li>
<li>sender 发送 data<span class="mojikumi-line-end">。</span></li>
<li>AP 发送 ACK<span class="mojikumi-line-end">，</span>除了普通的 ACK<span class="mojikumi-line-end">，</span>也是告诉其他 station 可以发送了<span class="mojikumi-line-end">。</span></li>
</ol>
<p>使用 RTS/CTS 可以保证 data 和 ACK 的传输不会出现 collision<span class="mojikumi-line-end">，</span>而 RTS/CTS frame 自身非常短<span class="mojikumi-line-end">，</span>如果产生 collision 代价是较小的<span class="mojikumi-line-end">。</span>然而<span class="mojikumi-line-end">，</span>RTS/CTS 自身会消耗资源<span class="mojikumi-line-end">、</span>产生延时<span class="mojikumi-line-end">，</span>所以一般只有在 data 较大时才会使用<span class="mojikumi-line-end">，</span>wireless station 一般会设置一个发送 RTS 的 frame length threshold<span class="mojikumi-line-end">，</span>很多时候这个 threshold 比 maximum frame length 还大<span class="mojikumi-line-end">，</span>实际上就是禁用了 RTS<span class="mojikumi-line-end">。</span></p>
<h4 id="use-802-11-as-point-to-point-link" class="heading"><a href="#use-802-11-as-point-to-point-link" class="heading-anchor" aria-label="章节： Use 802.11 as Point-to-Point Link" tabindex="-1"></a><span>Use 802.11 as Point-to-Point Link</span></h4>
<p>上面说的是常见的 802.11 对 multiple access 的处理<span class="mojikumi-line-end">，</span>除此之外<span class="mojikumi-line-end">，</span>802.11 也可以通过 directional antenna 作为 point-to-point link 使用<span class="mojikumi-line-end">。</span></p>
<h3 id="the-ieee-802-11-frame" class="heading"><a href="#the-ieee-802-11-frame" class="heading-anchor" aria-label="章节： The IEEE 802.11 Frame" tabindex="-1"></a><span>The IEEE 802.11 Frame</span></h3>
<p>802.11 frame 的结构如下图所示<span class="mojikumi-line-end">：</span><sup><a href="#user-content-fn-fig-7.13" id="user-content-fnref-fig-7.13" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup></p>
<ul>
<li>
<p>type<span class="mojikumi-line-end">、</span>subtype<span class="mojikumi-line-end">：</span>这决定了 association<span class="mojikumi-line-end">、</span>RTS<span class="mojikumi-line-end">、</span>CTS<span class="mojikumi-line-end">、</span>ACK<span class="mojikumi-line-end">、</span>data 等 frame 类型<span class="mojikumi-line-end">。</span></p>
</li>
<li>
<p>duration: 这是 RTS/CTS<span class="mojikumi-line-start">（</span>预留一段时长<span class="mojikumi-line-end">）</span>所需的<span class="mojikumi-line-end">。</span></p>
</li>
<li>
<p>address: 由于 AP 起到中介的作用<span class="mojikumi-line-end">，</span>在 infrastructure wireless LAN 中 frame 需要包含三个 address<span class="mojikumi-line-start">（</span>在 ad hoc mode 中需要四个<span class="mojikumi-line-end">，</span>此处不讨论<span class="mojikumi">）</span><span class="mojikumi-line-end">：</span></p>
<ul>
<li>前两个是 802.11 收发双方<span class="mojikumi-line-start">（</span>station 和 AP<span class="mojikumi-line-end">）</span>的 MAC address<span class="mojikumi-line-end">：</span>这是 802.11 通信所需的<span class="mojikumi-line-end">。</span></li>
<li>第三个是 AP 连接到的 router interface 的 MAC address<span class="mojikumi-line-end">：</span>AP 工作在 link layer<span class="mojikumi-line-end">，</span>router 感知不到 AP 的存在<span class="mojikumi-line-end">；</span>在 AP 向 station 发送时<span class="mojikumi-line-end">，</span>station 可以从 address 3 得到 router 的 MAC address<span class="mojikumi-line-end">；</span>在 station 向 AP 发送时<span class="mojikumi-line-end">，</span>AP 可以从 address 3 知道 Ethernet frame 需要发给谁<span class="mojikumi-line-end">。</span>总之<span class="mojikumi-line-end">，</span>address 3 是 Ethernet 通信所需的<span class="mojikumi-line-end">。</span></li>
</ul>
<p>不同场合下每个 address 分别代表什么是不同的<span class="mojikumi-line-end">，</span>这由 frame control 中的 <span class="mojikumi">“</span>to AP<span class="mojikumi">”</span> 和 <span class="mojikumi">“</span>from AP<span class="mojikumi">”</span> 决定<span class="mojikumi-line-end">。</span></p>
</li>
<li>
<p>sequence number: 这是 link-layer reliable-data-transfer 所需的<span class="mojikumi-line-end">。</span></p>
</li>
<li>
<p>payload: 802.11 允许 2312 bytes 的 payload<span class="mojikumi-line-end">，</span>但由于 Ethernet 的限制<span class="mojikumi-line-end">，</span>一般不会超过 1500<span class="mojikumi-line-end">。</span></p>
</li>
</ul>
<p><picture><source type="image/webp" srcset="/assets/cnatda-fig-7.13.5949ac2a.webp"><img srcset="/assets/cnatda-fig-7.13.7c70fcfe.png" loading="lazy" src="/assets/cnatda-fig-7.13.7c70fcfe.png" width="1006" height="307" alt="The 802.11 frame"></picture></p>
<h3 id="mobility-in-the-same-ip-subnet" class="heading"><a href="#mobility-in-the-same-ip-subnet" class="heading-anchor" aria-label="章节： Mobility in the Same IP Subnet" tabindex="-1"></a><span>Mobility in the Same IP Subnet</span></h3>
<p>当 host 从一个 BSS 移动到另一个 BSS 时<span class="mojikumi-line-end">，</span>如果两个 BSS 处于同一个 IP subnet 中<span class="mojikumi-line-end">，</span>mobility issue 就比较容易解决<span class="mojikumi-line-end">：</span>直接保持 IP address 不变即可<span class="mojikumi-line-end">。</span>而如果两个 AP 由 <a href="/post/2023/07/cnatda-6#link-layer-switches">switch</a> 连接<span class="mojikumi-line-end">，</span>还需要处理 switch interface 改变的问题<span class="mojikumi-line-end">，</span>由于 switch 的 self-learning<span class="mojikumi-line-end">，</span>一个处理方式是在和新的 AP 建立 association 后立刻发送一个 broadcast Ethernet frame 来告诉 switch 换了一个 interface<span class="mojikumi-line-end">。</span></p>
<p>如果使用 <a href="/post/2023/07/cnatda-6#virtual-local-area-networks-vlans">VLAN</a><span class="mojikumi-line-end">，</span>可以将很多<span class="mojikumi-line-start">（</span>地理位置不同的<span class="mojikumi-line-end">）</span>AP 放在同一个 IP subnet 中<span class="mojikumi-line-end">，</span>从而较为轻松地解决 mobility issue<span class="mojikumi-line-end">。</span></p>
<h3 id="advanced-features-in-802-11" class="heading"><a href="#advanced-features-in-802-11" class="heading-anchor" aria-label="章节： Advanced Features in 802.11" tabindex="-1"></a><span>Advanced Features in 802.11</span></h3>
<h4 id="802-11-rate-adaptation" class="heading"><a href="#802-11-rate-adaptation" class="heading-anchor" aria-label="章节： 802.11 Rate Adaptation" tabindex="-1"></a><span>802.11 Rate Adaptation</span></h4>
<p>如<a href="#wireless-links-and-network-characteristics">上文</a>所述<span class="mojikumi-line-end">，</span>不同环境下 SNR 不同会导致最佳的 transmission rate 不同<span class="mojikumi-line-end">。</span>在 802.11 中<span class="mojikumi-line-end">，</span>ACK 可以用作 rate adaptation 的 hint<span class="mojikumi-line-end">，</span>在没收到 ACK 时降低 transmission rate<span class="mojikumi-line-end">，</span>在连续收到很多 ACK 时提高 transmission rate<span class="mojikumi-line-end">，</span>这与 <a href="/post/2023/06/cnatda-3#classic-tcp-congestion-control">TCP 的 congestion control</a> 类似<span class="mojikumi-line-end">。</span></p>
<h4 id="802-11-power-management" class="heading"><a href="#802-11-power-management" class="heading-anchor" aria-label="章节： 802.11 Power Management" tabindex="-1"></a><span>802.11 Power Management</span></h4>
<p>一个 802.11 node 往往不需要一直通信<span class="mojikumi-line-end">，</span>在不进行通信的时候可以 sleep 来 save power<span class="mojikumi-line-end">：</span></p>
<ol>
<li>node 可以在 header 中设置 power management flag 来告诉 AP 自己即将 sleep<span class="mojikumi-line-end">。</span></li>
<li>如果 AP 接收到一个发送给正在 sleep 的 node 的 frame<span class="mojikumi-line-end">，</span>会将其存在 buffer 中<span class="mojikumi-line-end">。</span></li>
<li>AP 发送的 beacon frame 中包含一个有 buffered frame 的 node list<span class="mojikumi-line-end">，</span>node 会在 AP 发送 beacon frame 前 wake up<span class="mojikumi-line-end">，</span>根据自己是否有 buffered frame 来请求 AP 发送这些 buffered frame 或继续 sleep<span class="mojikumi-line-end">。</span></li>
</ol>
<p>一般来说<span class="mojikumi-line-end">，</span>AP 会周期性地每 100ms 发送一次 beacon frame<span class="mojikumi-line-end">，</span>而一次 wakeup 只需 250μs<span class="mojikumi-line-end">，</span>所以不进行通信的 station 可以在 99% 的时间内 sleep<span class="mojikumi-line-end">。</span></p>
<h2 id="personal-area-networks-bluetooth" class="heading"><a href="#personal-area-networks-bluetooth" class="heading-anchor" aria-label="章节： Personal Area Networks: Bluetooth" tabindex="-1"></a><span>Personal Area Networks: Bluetooth</span></h2>
<p>Bluetooth 使用 TDM 进行 channel partitioning<span class="mojikumi-line-end">，</span>同时在 79 个 frequency channel 中进行 pseudo-random 的 channel hopping (<i>frequency-hopping spread spectrum</i>, FHSS) 来降低外界干扰的影响<span class="mojikumi-line-end">。</span></p>
<p>Bluetooth network 是 ad hoc (infrastructure-less) 的<span class="mojikumi-line-end">，</span>一个 Bluetooth network 包含最多 8 个 active device<span class="mojikumi-line-end">，</span>其中一个是 master device<span class="mojikumi-line-end">，</span>它决定传输的 clock<span class="mojikumi-line-end">、</span>frequency-hopping pattern<span class="mojikumi-line-end">、</span>power<span class="mojikumi-line-end">，</span>邀请 client 进入 Bluetooth network<span class="mojikumi-line-end">，</span>通过 polling 来控制 client 何时通信<span class="mojikumi-line-end">。</span>network 中还可以有最多 255 个 parked device<span class="mojikumi-line-end">，</span>会长期处于 sleep mode<span class="mojikumi-line-end">，</span>周期性地接收 beacon message<span class="mojikumi-line-end">，</span>只有切换为 active 才能进行通信<span class="mojikumi-line-end">。</span></p>
<p>Bluetooth network 的建立过程为<span class="mojikumi-line-end">：</span></p>
<ol>
<li>neighbor discovery:
<ol>
<li>master 广播 inquiry message<span class="mojikumi-line-end">，</span>在 32 个不同的 frequency 发送至多 128 遍<span class="mojikumi-line-end">，</span>因为此时还没有协商好 frequency-hopping pattern<span class="mojikumi-line-end">。</span></li>
<li>client 收到 inquiry message 后<span class="mojikumi-line-end">，</span>随机等待 0~300ms 来避免 collision<span class="mojikumi-line-end">，</span>然后发送 response<span class="mojikumi-line-end">，</span>包含 client 的 device ID<span class="mojikumi-line-end">。</span></li>
</ol>
</li>
<li>Bluetooth paging:
<ol>
<li>master 向特定的 client 发送 paging invitation<span class="mojikumi-line-end">，</span>依然是在 32 个不同的 frequency<span class="mojikumi-line-end">。</span></li>
<li>client 收到 paging invitation 后返回 acknowledgment<span class="mojikumi-line-end">。</span></li>
<li>master 向 client 发送 frequency-hopping pattern<span class="mojikumi-line-end">、</span>clock synchronization information 以及 active member address<span class="mojikumi-line-end">。</span></li>
<li>使用 frequency-hopping pattern 来 poll client<span class="mojikumi-line-end">，</span>以确认 client 连上了<span class="mojikumi-line-end">。</span></li>
</ol>
</li>
</ol>
<h2 id="mobility-management-principles" class="heading"><a href="#mobility-management-principles" class="heading-anchor" aria-label="章节： Mobility Management: Principles" tabindex="-1"></a><span>Mobility Management: Principles</span></h2>
<a id="7-4-cellular-networks-4g-and-5g" name="7-4-cellular-networks-4g-and-5g" aria-hidden="true"></a>
<aside role="note" data-v-a2ab257f=""><div class="shadow-md rd-1 b-l-6 my-6 bg-green-2 dark:bg-green-9 b-green-5" data-v-a2ab257f=""><div class="p-3 flex justify-between items-center" data-v-a2ab257f=""><h3 class="flex items-center gap-1 font-bold" data-v-a2ab257f=""><span class="text-5 i-mdi-lightbulb-outline text-green" data-v-a2ab257f=""></span><span class="sr-only" data-v-a2ab257f="">Hint: </span><span data-v-a2ab257f="">7.4 Cellular Networks: 4G and 5G</span></h3><!--v-if--></div><div class="overflow-auto rd-br-1 bg-card px-6 dark:bg-bghover" data-v-a2ab257f=""><p>7.4 这一节<span class="mojikumi-line-end">，</span>感觉可以直接跳过<span class="mojikumi-line-end">，</span>或者简单扫一眼<span class="mojikumi-line-end">。</span></p><ul>
<li>7.4.1<span class="mojikumi-line-end">：</span>没看 7.5<span class="mojikumi-line-end">、</span>7.6 的话感觉会完全不知道它在说什么<span class="mojikumi-line-end">，</span>看了 7.6 之后也不太需要回过头来看这里了<span class="mojikumi-line-end">。</span></li>
<li>7.4.2~7.4.5<span class="mojikumi-line-end">：</span>非常简略<span class="mojikumi-line-end">，</span>没什么东西<span class="mojikumi-line-end">。</span></li>
<li>7.4.6<span class="mojikumi-line-end">：</span>5G 的科普<span class="mojikumi-line-end">，</span>除了大家耳熟能详的以及过于简略的<span class="mojikumi-line-end">，</span>感觉就一条<span class="mojikumi-line-end">：</span>5G 为了提升 transmission rate<span class="mojikumi-line-end">，</span>base station 需要建得更密集<span class="mojikumi-line-end">。</span></li>
</ul><p>说到底<span class="mojikumi-line-end">，</span>这样编排说是为了将 <span class="mojikumi">“</span>wireless<span class="mojikumi">”</span> 和 <span class="mojikumi">“</span>mobility<span class="mojikumi">”</span> 这两方面的问题分开讨论<span class="mojikumi-line-end">。</span>但是<span class="mojikumi">，</span><wbr><span class="mojikumi-line-start">“</span>wireless<span class="mojikumi">”</span> 的部分在 802.11 已经讲得差不多了<span class="mojikumi-line-end">，</span>细节上会有差异但书上也没有细讲<span class="mojikumi-line-end">。</span>其实讲 cellular network 主要就是要讲它的 mobility<span class="mojikumi-line-end">，</span>所以 7.5<span class="mojikumi-line-end">、</span>7.6 就够了<span class="mojikumi-line-end">。</span></p></div></div></aside>
<p>mobility 指的是 mobile device 到网络的接入点发生变化<span class="mojikumi-line-end">，</span>而从 network layer 的角度来看<span class="mojikumi-line-end">，</span>只有 access network 发生了变化且需要保持连接<span class="mojikumi-line-start">（</span>例如 TCP connection<span class="mojikumi-line-end">）</span>不中断<span class="mojikumi-line-end">，</span>才会带来 mobility issue<span class="mojikumi-line-end">。</span>如果设备在每个 session 只连到同一个接入点<span class="mojikumi-line-end">，</span>则不需要特殊处理<span class="mojikumi-line-end">。</span></p>
<p>在 cellular network 中<span class="mojikumi-line-end">，</span>有两方面的 mobility issue:</p>
<ul>
<li>handover: cellular network 中有很多 base station<span class="mojikumi-line-end">，</span>每个 base station 覆盖一个 cell 提供服务<span class="mojikumi-line-end">。</span>从一个 base station 移动到另一个 base station 时<span class="mojikumi-line-end">，</span>需要进行 handover 来改变 mobile device 连接到的 base station<span class="mojikumi-line-end">。</span></li>
<li>roaming on visited networks: 每个 cellular subscriber 会有一个 <i>home network</i><span class="mojikumi-line-end">，</span>提供了 subscriber 信息的集中管理<span class="mojikumi-line-end">。</span>home network 提供服务的范围是有限的<span class="mojikumi-line-end">，</span>如果 mobile device 移动到了 home network 之外<span class="mojikumi-line-end">，</span>可能就需要连接到由其他 cellular provider 提供的 <i>visited network</i><span class="mojikumi-line-end">，</span>此时需要特别的机制来处理 routing<span class="mojikumi-line-end">。</span></li>
</ul>
<p>mobile device 的接入点随时可能发生变化<span class="mojikumi-line-end">，</span>而 home network 会跟踪 device 当前接入的 visited network<span class="mojikumi-line-end">，</span>所以外界可以通过 home network 来找到 mobile device 当前的位置从而进行通信<span class="mojikumi-line-end">。</span></p>
<p>具体的 routing 有两种方式<span class="mojikumi-line-end">：</span></p>
<ul>
<li>indirect: mobile device 有一个固定的 IP<span class="mojikumi-line-end">，</span>外界向这个 IP 发送消息会发到 home network 的 gateway<span class="mojikumi-line-end">，</span>而 home network 与 visited network 的 gateway 之间建立了 tunnel<span class="mojikumi-line-end">，</span>最后由 visited network 的 gateway 与 mobile device 通信<span class="mojikumi-line-end">。</span>也就是说<span class="mojikumi-line-end">，</span>外界与 mobile device 通信需要经过 home network 中转<span class="mojikumi-line-end">。</span></li>
<li>direct: 向 mobile device 发送消息时<span class="mojikumi-line-end">，</span>一开始先查询 mobile device 所在的 visited network<span class="mojikumi-line-end">，</span>后续则直接与 visited network 通信<span class="mojikumi-line-end">。</span></li>
</ul>
<p>indirect routing 的缺点在于 <i>triangle routing problem</i><span class="mojikumi-line-end">，</span>即通过 home network 中转可能带来很大的浪费<span class="mojikumi-line-end">。</span>direct routing 的问题在于<span class="mojikumi-line-end">，</span>需要特殊的机制来完成一开始的 visited network 查询以及后续 visited network 变更时的通知<span class="mojikumi-line-end">，</span>也就是说需要通信另一方的配合<span class="mojikumi-line-end">。</span></p>
<h2 id="mobility-management-in-4g5g-networks" class="heading"><a href="#mobility-management-in-4g5g-networks" class="heading-anchor" aria-label="章节： Mobility Management in 4G/5G Networks" tabindex="-1"></a><span>Mobility Management in 4G/5G Networks</span></h2>
<h3 id="attach-to-visited-network" class="heading"><a href="#attach-to-visited-network" class="heading-anchor" aria-label="章节： Attach to Visited Network" tabindex="-1"></a><span>Attach to Visited Network</span></h3>
<p>连接到 base station 时<span class="mojikumi-line-end">，</span>mobile device 会提供自己的 IMSI (<i>international mobile subscriber identity</i>)<span class="mojikumi-line-end">。</span>visited network 的 MME (<i>mobility management entity</i>) 会从 local cache 或 home network 的 HSS (<i>home subscriber server</i>) 获取到 mobile device 的 authentication<span class="mojikumi-line-end">、</span>encryption<span class="mojikumi-line-end">、</span>quality of service 等信息<span class="mojikumi-line-end">，</span>并通知 home network 的 HSS<span class="mojikumi-line-end">，</span>mobile device 现在位于这个 visited network<span class="mojikumi-line-end">。</span></p>
<p>然后<span class="mojikumi-line-end">，</span>会建立两个 tunnel<span class="mojikumi-line-end">，</span>从 mobile device 到 visited network 的 <i>serving gateway</i><span class="mojikumi-line-end">，</span>再从 serving gateway 到 home network 的 PDN (<i>packet data network</i>) gateway<span class="mojikumi-line-end">。</span>这两个 tunnel 使用 <i>GPRS tunneling protocol</i> (GTP)<span class="mojikumi-line-end">，</span>原理类似于 <a href="/post/2023/06/cnatda-4#ipv6">IPv6 tunneling</a><span class="mojikumi-line-end">。</span></p>
<a id="local-breakout" name="local-breakout" aria-hidden="true"></a>
<aside role="note" data-v-a2ab257f=""><div class="shadow-md rd-1 b-l-6 my-6 bg-purple-2 dark:bg-purple-9 b-purple-5" data-v-a2ab257f=""><div class="p-3 flex justify-between items-center" data-v-a2ab257f=""><h4 class="flex items-center gap-1 font-bold" data-v-a2ab257f=""><span class="text-5 i-mdi-help-circle-outline text-purple" data-v-a2ab257f=""></span><span class="sr-only" data-v-a2ab257f="">Question: </span><span data-v-a2ab257f="">local breakout</span></h4><!--v-if--></div><div class="overflow-auto rd-br-1 bg-card px-6 dark:bg-bghover" data-v-a2ab257f=""><p>书上前后提到两次 local breakout<span class="mojikumi-line-end">，</span>给我整懵了<span class="mojikumi-line-end">，</span>它到底是 direct 还是 indirect<span class="mojikumi-line-start">（</span><span class="mojikumi-line-end">；</span>好像也不重要<span class="mojikumi-line-end">，</span>当它不存在就好<span class="mojikumi-line-start">（</span></p></div></div></aside>
<h3 id="handover-management" class="heading"><a href="#handover-management" class="heading-anchor" aria-label="章节： Handover Management" tabindex="-1"></a><span>Handover Management</span></h3>
<p>handover 是 mobile device 从一个 base station 转移到邻近的另一个 base station 的过程<span class="mojikumi-line-end">。</span>这可能是从信号差的 base station 转到信号好的<span class="mojikumi-line-end">，</span>或者是从拥挤的转到畅通的<span class="mojikumi-line-end">。</span>mobile device 会周期性地向当前连接到的 base station (称作 <i>source</i> base station) 报告它接收到的各个 base station 的信号强度等信息<span class="mojikumi-line-end">，</span>而 source base station 可以根据它掌握的信息来做出 handover 的决定<span class="mojikumi-line-end">。</span></p>
<p><span class="mojikumi-line-start">（</span>在同一个 network 中<span class="mojikumi-line-end">）</span>handover 的过程如下<span class="mojikumi-line-end">：</span></p>
<ol>
<li>source base station 选择一个 <i>target</i> base station<span class="mojikumi-line-end">，</span>发送 handover request<span class="mojikumi-line-end">。</span></li>
<li>如果 target base station 同意<span class="mojikumi-line-end">，</span>会提前分配好连接所需的资源<span class="mojikumi-line-start">（</span>从而让 handover 能够尽快完成<span class="mojikumi">）</span><span class="mojikumi-line-end">，</span>然后发送 handover request acknowledge<span class="mojikumi-line-end">，</span>包含连接所需的各项信息<span class="mojikumi-line-end">。</span></li>
<li>source base station 告诉 mobile device 连接到 target base station 所需的信息<span class="mojikumi-line-end">。</span>此时在 mobile device 看来 handover 已经结束了<span class="mojikumi-line-end">，</span>可以和 target base station 进行通信<span class="mojikumi-line-end">。</span></li>
<li>source base station 停止向 mobile device 转发<span class="mojikumi-line-end">，</span>而是转发给 target base station<span class="mojikumi-line-end">。</span></li>
<li>target base station 告诉 MME 自己是这个 mobile device 新连接到的 base station<span class="mojikumi-line-end">，</span>MME 会更新 serving gateway 到 base station 的 tunnel 的 end point<span class="mojikumi-line-end">。</span></li>
<li>target base station 告诉 source base station<span class="mojikumi-line-end">，</span>新的 tunnel 已经配置好了<span class="mojikumi-line-end">，</span>source base station 可以释放为这个 mobile device 提供的资源了<span class="mojikumi-line-end">。</span></li>
<li>target base station 向 mobile device 发送之前由 source base station 转发来的 datagram<span class="mojikumi-line-end">，</span>之后就可以正常通信了<span class="mojikumi-line-end">。</span></li>
</ol>
<h2 id="wireless-and-mobility-impact-on-higher-layer-protocols" class="heading"><a href="#wireless-and-mobility-impact-on-higher-layer-protocols" class="heading-anchor" aria-label="章节： Wireless and Mobility: Impact on Higher-Layer Protocols" tabindex="-1"></a><span>Wireless and Mobility: Impact on Higher-Layer Protocols</span></h2>
<h3 id="impact-on-tcp" class="heading"><a href="#impact-on-tcp" class="heading-anchor" aria-label="章节： Impact on TCP" tabindex="-1"></a><span>Impact on TCP</span></h3>
<p>TCP 以 retransmission 作为 congestion 的标志进行 congestion control<span class="mojikumi-line-end">，</span>但在 wireless network 中<span class="mojikumi-line-end">，</span>bit error 更加常见<span class="mojikumi-line-end">，</span>而 handover 时也会带来 delay 或丢包<span class="mojikumi-line-end">，</span>所以 retransmission 不一定意味着 network congestion<span class="mojikumi-line-end">，</span>如果在 wireless network 中沿用一般的 TCP congestion control 可能会有性能问题<span class="mojikumi-line-end">。</span></p>
<p>目前的解决途径有<span class="mojikumi-line-end">：</span></p>
<ul>
<li>local recovery<span class="mojikumi-line-end">：</span>在 link layer 提供 reliable data transfer<span class="mojikumi-line-end">，</span>减少 bit error 的影响<span class="mojikumi-line-end">。</span></li>
<li>split-connection<span class="mojikumi-line-end">：</span>在 sender 到 base station<span class="mojikumi-line-end">、</span>base station 到 receiver 分别建立连接<span class="mojikumi-line-end">。</span>base station 到 mobile host 的连接可以是标准的 TCP 连接<span class="mojikumi-line-end">，</span>也可以是其他连接<span class="mojikumi-line-end">。</span></li>
<li>让通信双方意识到 wireless link 的存在<span class="mojikumi-line-end">，</span>并区分出 retransmission 是否由 congestion 引起<span class="mojikumi-line-end">。</span></li>
</ul>
<h3 id="impact-on-applications" class="heading"><a href="#impact-on-applications" class="heading-anchor" aria-label="章节： Impact on Applications" tabindex="-1"></a><span>Impact on Applications</span></h3>
<ul>
<li>wireless network 的 bandwidth 通常较小<span class="mojikumi-line-end">，</span>所以为 mobile device 提供服务时更需要减少传输的数据量<span class="mojikumi-line-end">。</span></li>
<li>mobility 使得 location-aware / context-aware application 成为可能<span class="mojikumi-line-end">。</span></li>
</ul>
<section data-footnotes="" class="footnotes"><h2 class="sr-only" id="footnote-label">Footnotes</h2>
<ol>
<li id="user-content-fn-fig-7.13">
<p>p554, Figure 7.13: The 802.11 frame <a href="#user-content-fnref-fig-7.13" data-footnote-backref="" class="data-footnote-backref" aria-label="Back to content">↩</a></p>
</li>
</ol>
</section></section><div class="article-style my-9"><hr></div><footer><div class="my-6 b-l-6 b-gray-4 bg-area p-6 shadow dark:b-gray-11" itemprop="copyrightNotice"><ul class="flex flex-col gap-1"><li class="flex gap-1"><span class="shrink-0">文章作者:</span><a href="https://github.com/ouuan" rel="author">ouuan</a></li><li class="flex gap-1"><span class="shrink-0">原文链接:</span><a href="https://ouuan.moe/post/2023/09/cnatda-7" rel="canonical" class="break-all">https://ouuan.moe/post/2023/09/cnatda-7</a></li><li class="flex gap-1"><span class="shrink-0">许可协议:</span><span> 本文采用 <span class="article-style"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.zh" class="font-sans" itemprop="license">CC BY-SA 4.0</a></span> 许可协议进行授权，未满足 <span class="underline decoration-dotted" title="简而言之，转载时必须标明出处（本文的链接），标明是转载而非原创，标明作了哪些修改，并使用相同的许可协议，但无需私信征求许可">许可协议要求</span> 不得转载。 </span></li></ul></div></footer></article><div class="my-6 print:hidden" itemprop="comment" itemscope="" itemtype="https://schema.org/Comment"><ile-root id="ile-4"></ile-root><script></script><script type="module" async="">import{h as r,c as m}from"/assets/iles.5d187450.js";import{_ as o}from"/assets/GiscusCommentsInner.244b88fd.js";import"/assets/vendor-vue.196b627b.js";import"/assets/vite.5ce4fca4.js";import"/assets/useTheme.2f87a670.js";import"/assets/site.0440d0dc.js";r(m,o,"ile-4",{term:"CNATDA 第七章学习笔记",lang:void 0},{});
</script></div><nav class="my-6 flex justify-between gap-6 print:hidden lg:text-justify"><div class="flex flex-1"><a class="flex items-center gap-1 hover:text-hover" href="/post/2023/09/cve-2023-41054"><span class="i-mdi-chevron-left"></span><span class="sr-only">上一篇</span><span class="break-anywhere">CVE-2023-41054 漏洞分析</span></a></div><div class="flex flex-1 justify-end"><a class="flex flex-row-reverse items-center gap-1 hover:text-hover" href="/post/2023/09/cod-2"><span class="i-mdi-chevron-right"></span><span class="sr-only">下一篇</span><span class="break-anywhere">Computer Organization and Design 第二章学习笔记</span></a></div></nav></div><ile-root id="ile-5"><div class="flex print:hidden"><aside style="max-height:calc(100vh - 10rem);" id="__toc" class="sticky top-16 m-4 hidden w-72 rd-2 bg-card py-6 shadow xl:block 2xl:w-84 3xl:w-96" aria-label="文章目录" itemprop="hasPart" itemscope="" itemtype="https://schema.org/WPSideBar"><div class="mb-3 flex flex-wrap items-center justify-between gap-2 pl-8 pr-4"><div class="flex items-center"><h2 class="text-xl font-bold"> 文章目录 </h2><button id="__toc-close" class="flex items-center px-1 text-xl" title="关闭目录" aria-controls="__toc" aria-expanded="true"><span class="i-mdi-close"></span></button></div><div><label class="ml-auto flex items-center gap-1"><span>展开全部</span><input type="checkbox"></label></div></div><div style="max-height:calc(100% - 2rem);" class="overflow-auto overscroll-contain pl-8 pr-4"><ol data-v-c5806953=""><li id="__toc-item-introduction" class="relative my-1" data-v-c5806953=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-circle-medium" data-v-c5806953=""></span><a class="transition-color ease-out" href="#introduction" data-v-c5806953=""><span data-v-c5806953="">Introduction</span></a></li><li id="__toc-item-wireless-links-and-network-characteristics" class="relative my-1" data-v-c5806953=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-circle-medium" data-v-c5806953=""></span><a class="transition-color ease-out" href="#wireless-links-and-network-characteristics" data-v-c5806953=""><span data-v-c5806953="">Wireless Links and Network Characteristics</span></a></li><li id="__toc-item-cdma" class="relative my-1" data-v-c5806953=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-circle-medium" data-v-c5806953=""></span><a class="transition-color ease-out" href="#cdma" data-v-c5806953=""><span data-v-c5806953="">CDMA</span></a></li><li id="__toc-item-wi-fi-802-11-wireless-lans" class="relative my-1" data-v-c5806953=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-chevron-right" data-v-c5806953=""></span><span class="sr-only" data-v-c5806953="">已折叠</span><a class="transition-color ease-out" href="#wi-fi-802-11-wireless-lans" data-v-c5806953=""><span data-v-c5806953="">Wi-Fi: 802.11 Wireless LANs</span></a></li><li id="__toc-item-personal-area-networks-bluetooth" class="relative my-1" data-v-c5806953=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-circle-medium" data-v-c5806953=""></span><a class="transition-color ease-out" href="#personal-area-networks-bluetooth" data-v-c5806953=""><span data-v-c5806953="">Personal Area Networks: Bluetooth</span></a></li><li id="__toc-item-mobility-management-principles" class="relative my-1" data-v-c5806953=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-chevron-right" data-v-c5806953=""></span><span class="sr-only" data-v-c5806953="">已折叠</span><a class="transition-color ease-out" href="#mobility-management-principles" data-v-c5806953=""><span data-v-c5806953="">Mobility Management: Principles</span></a></li><li id="__toc-item-mobility-management-in-4g5g-networks" class="relative my-1" data-v-c5806953=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-chevron-right" data-v-c5806953=""></span><span class="sr-only" data-v-c5806953="">已折叠</span><a class="transition-color ease-out" href="#mobility-management-in-4g5g-networks" data-v-c5806953=""><span data-v-c5806953="">Mobility Management in 4G/5G Networks</span></a></li><li id="__toc-item-wireless-and-mobility-impact-on-higher-layer-protocols" class="relative my-1" data-v-c5806953=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-chevron-right" data-v-c5806953=""></span><span class="sr-only" data-v-c5806953="">已折叠</span><a class="transition-color ease-out" href="#wireless-and-mobility-impact-on-higher-layer-protocols" data-v-c5806953=""><span data-v-c5806953="">Wireless and Mobility: Impact on Higher-Layer Protocols</span></a></li></ol></div></aside><button style="display:none;" id="__toc-open" title="显示文章目录" class="bottom-24 text-lg floating-button" aria-haspopup="dialog" aria-controls="__toc" aria-expanded="true"><span class="i-mdi-menu"></span></button></div></ile-root><script></script><script type="module" async="">import{h as s,c as a}from"/assets/iles.5d187450.js";import{_ as o}from"/assets/TableOfContents.fc6616e4.js";import"/assets/vendor-vue.196b627b.js";import"/assets/vite.5ce4fca4.js";s(a,o,"ile-5",function(e,t,l,i){return{headings:[{level:t,title:"Introduction",slug:"introduction"},{level:t,title:"Wireless Links and Network Characteristics",slug:"wireless-links-and-network-characteristics"},{level:t,title:"CDMA",slug:"cdma"},{level:t,title:"Wi-Fi: 802.11 Wireless LANs",slug:"wi-fi-802-11-wireless-lans"},{level:e,title:"The 802.11 Wireless LAN Architecture",slug:"the-802-11-wireless-lan-architecture"},{level:e,title:"The 802.11 MAC Protocol",slug:"the-802-11-mac-protocol"},{level:l,title:"CSMA/CA",slug:"csmaca"},{level:l,title:"RTS/CTS",slug:"rtscts"},{level:l,title:"Use 802.11 as Point-to-Point Link",slug:"use-802-11-as-point-to-point-link"},{level:e,title:"The IEEE 802.11 Frame",slug:"the-ieee-802-11-frame"},{level:e,title:"Mobility in the Same IP Subnet",slug:"mobility-in-the-same-ip-subnet"},{level:e,title:"Advanced Features in 802.11",slug:"advanced-features-in-802-11"},{level:l,title:"802.11 Rate Adaptation",slug:"802-11-rate-adaptation"},{level:l,title:"802.11 Power Management",slug:"802-11-power-management"},{level:t,title:"Personal Area Networks: Bluetooth",slug:"personal-area-networks-bluetooth"},{level:t,title:"Mobility Management: Principles",slug:"mobility-management-principles"},{level:i,title:"7.4 Cellular Networks: 4G and 5G",slug:"7-4-cellular-networks-4g-and-5g"},{level:t,title:"Mobility Management in 4G/5G Networks",slug:"mobility-management-in-4g5g-networks"},{level:e,title:"Attach to Visited Network",slug:"attach-to-visited-network"},{level:i,title:"local breakout",slug:"local-breakout"},{level:e,title:"Handover Management",slug:"handover-management"},{level:t,title:"Wireless and Mobility: Impact on Higher-Layer Protocols",slug:"wireless-and-mobility-impact-on-higher-layer-protocols"},{level:e,title:"Impact on TCP",slug:"impact-on-tcp"},{level:e,title:"Impact on Applications",slug:"impact-on-applications"}]}}(3,2,4,6),{});
</script></div></main><footer class="flex flex-col gap-1 bg-card p-6 text-footer" itemprop="hasPart" itemscope="" itemtype="https://schema.org/WPFooter"><div class="flex flex-wrap items-center justify-center gap-x-1" itemprop="copyrightNotice"><span>Copyright ©</span><span>2022 - 2024</span><a class="flex items-center" href="/sponsor" title="赞赏支持"><span class="i-mdi-heart text-red dark:text-red-7"></span></a><span>ouuan</span></div><div class="flex flex-wrap items-center justify-center gap-x-1 print:hidden"><span> 当前有 <ile-root id="ile-6"><span><span class="i-mdi-loading motion-safe:animate-spin"></span><span class="sr-only">加载中</span></span></ile-root><script></script><script type="module" async="">var p=(o,a)=>()=>(a||o((a={exports:{}}).exports,a),a.exports);var r=(o,a,_)=>new Promise((c,n)=>{var f=t=>{try{e(_.next(t))}catch(i){n(i)}},l=t=>{try{e(_.throw(t))}catch(i){n(i)}},e=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);e((_=_.apply(o,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{a as s}from"/assets/iles.5d187450.js";import"/assets/vendor-vue.196b627b.js";var E=p(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.5d187450.js").then(o=>o.v),["assets/iles.5d187450.js","assets/vendor-vue.196b627b.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/VisitorCountRealtime.2f4e80fc.js"),["assets/VisitorCountRealtime.2f4e80fc.js","assets/vendor-vue.196b627b.js","assets/vite.5ce4fca4.js"])).default});s(u,v,"ile-6",{},{})});export default E();
</script> 人在线 </span><span class="i-mdi-circle-small"></span><span title="实际上，为了保护用户隐私，同一用户的多次访问只有在同一天内使用同一浏览器在同一ip下才会被算作同一人"> 共有 <ile-root id="ile-7"><span><span class="i-mdi-loading motion-safe:animate-spin"></span><span class="sr-only">加载中</span></span></ile-root><script></script><script type="module" async="">var p=(o,a)=>()=>(a||o((a={exports:{}}).exports,a),a.exports);var r=(o,a,_)=>new Promise((c,n)=>{var f=t=>{try{e(_.next(t))}catch(i){n(i)}},l=t=>{try{e(_.throw(t))}catch(i){n(i)}},e=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);e((_=_.apply(o,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{a as s}from"/assets/iles.5d187450.js";import"/assets/vendor-vue.196b627b.js";var E=p(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.5d187450.js").then(o=>o.v),["assets/iles.5d187450.js","assets/vendor-vue.196b627b.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/VisitorCount.52c3e178.js"),["assets/VisitorCount.52c3e178.js","assets/VisitorCount.8ea9f53a.js","assets/vendor-vue.196b627b.js","assets/vite.5ce4fca4.js"])).default});s(u,v,"ile-7",{},{})});export default E();
</script> 人到访过这里 </span></div><div class="flex flex-wrap items-center justify-center gap-x-1 print:hidden"> 基于 <a class="underline" href="https://github.com/ElMassimo/iles">îles</a><a class="underline" href="https://github.com/ouuan/iles-blog/blob/master/package.json">等项目</a><span class="i-mdi-circle-small"></span><span>由 ouuan 设计/制作</span><span class="i-mdi-circle-small"></span><a class="underline" href="https://github.com/ouuan/iles-blog">源代码</a></div></footer><meta itemprop="copyrightYear" content="2022"><meta itemprop="copyrightYear" content="2023"><meta itemprop="copyrightYear" content="2024"><div class="hidden" itemscope="" itemtype="https://schema.org/Person" itemprop="copyrightHolder"><meta itemprop="name" content="ouuan"><meta itemprop="givenName" content="Yufan"><meta itemprop="familyName" content="You"><meta itemprop="url" content="https://github.com/ouuan"><link itemprop="gender" href="https://schema.org/Male"><meta itemprop="image" content="/android-chrome-512x512.png"></div><ile-root id="ile-8"><button class="group bottom-10 flex-col floating-button" title="前往底部"><div aria-hidden="true" class="flex justify-center"><span class="i-mdi-chevron-double-up motion-safe:transition-font-size text-0"></span></div><div aria-hidden="true" class="text-0 group-hover:text-3.5 motion-safe:transition-font-size"></div><div aria-hidden="false" class="flex justify-center"><span class="i-mdi-chevron-double-down motion-safe:transition-font-size text-5 group-hover:text-3"></span></div></button></ile-root><script></script><script type="module" async="">var p=(o,a)=>()=>(a||o((a={exports:{}}).exports,a),a.exports);var r=(o,a,_)=>new Promise((c,n)=>{var f=t=>{try{e(_.next(t))}catch(i){n(i)}},l=t=>{try{e(_.throw(t))}catch(i){n(i)}},e=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);e((_=_.apply(o,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{a as s}from"/assets/iles.5d187450.js";import"/assets/vendor-vue.196b627b.js";var E=p(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.5d187450.js").then(o=>o.v),["assets/iles.5d187450.js","assets/vendor-vue.196b627b.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/BackToTop.23a36767.js"),["assets/BackToTop.23a36767.js","assets/vendor-vue.196b627b.js","assets/vite.5ce4fca4.js"])).default});s(u,v,"ile-8",{},{})});export default E();
</script><div class="hidden"></div><ile-root id="ile-9"></ile-root><script></script><script type="module" async="">var p=(t,a)=>()=>(a||t((a={exports:{}}).exports,a),a.exports);var e=(t,a,_)=>new Promise((c,n)=>{var f=o=>{try{i(_.next(o))}catch(r){n(r)}},l=o=>{try{i(_.throw(o))}catch(r){n(r)}},i=o=>o.done?c(o.value):Promise.resolve(o.value).then(f,l);i((_=_.apply(t,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{a as s}from"/assets/iles.5d187450.js";import"/assets/vendor-vue.196b627b.js";var u=p(m=>{const E=()=>e(m,null,function*(){return(yield d(()=>import("/assets/iles.5d187450.js").then(t=>t.d),["assets/iles.5d187450.js","assets/vendor-vue.196b627b.js","assets/vite.5ce4fca4.js"])).default}),h=()=>e(m,null,function*(){return(yield d(()=>import("/assets/PlausibleTrigger.4aff65c1.js"),["assets/PlausibleTrigger.4aff65c1.js","assets/plausible.a460982f.js","assets/vendor-vue.196b627b.js","assets/vite.5ce4fca4.js"])).onLoad});s(E,h,"ile-9",{},{})});export default u();
</script><div></div><ile-root id="ile-10"></ile-root><script></script><script type="module" async="">var p=(t,a)=>()=>(a||t((a={exports:{}}).exports,a),a.exports);var e=(t,a,_)=>new Promise((c,n)=>{var f=o=>{try{i(_.next(o))}catch(r){n(r)}},l=o=>{try{i(_.throw(o))}catch(r){n(r)}},i=o=>o.done?c(o.value):Promise.resolve(o.value).then(f,l);i((_=_.apply(t,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{a as s}from"/assets/iles.5d187450.js";import"/assets/vendor-vue.196b627b.js";var u=p(m=>{const E=()=>e(m,null,function*(){return(yield d(()=>import("/assets/iles.5d187450.js").then(t=>t.d),["assets/iles.5d187450.js","assets/vendor-vue.196b627b.js","assets/vite.5ce4fca4.js"])).default}),h=()=>e(m,null,function*(){return(yield d(()=>import("/assets/TextJustifyFix.4fa5e997.js"),[])).onLoad});s(E,h,"ile-10",{},{})});export default u();
</script></div>
  
</body></html>