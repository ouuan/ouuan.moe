<!DOCTYPE html><html lang="zh-CN"><head>
    <meta charset="UTF-8">
<title>CNATDA ç¬¬äºŒç« å­¦ä¹ ç¬”è®° - ouuan's blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="


ã€ŠComputer Networking: A Top-Down Approach (8th Edition)ã€‹ç¬¬äºŒç«  â€œApplication Layerâ€ çš„å­¦ä¹ ç¬”è®°ã€‚
">
<meta property="og:url" content="https://ouuan.moe/post/2023/06/cnatda-2">
<meta property="og:site_name" content="ouuan's blog">
<meta property="og:title" content="CNATDA ç¬¬äºŒç« å­¦ä¹ ç¬”è®° Â· ouuan's blog">
<meta property="og:description" content="


ã€ŠComputer Networking: A Top-Down Approach (8th Edition)ã€‹ç¬¬äºŒç«  â€œApplication Layerâ€ çš„å­¦ä¹ ç¬”è®°ã€‚
">
<meta property="twitter:domain" content="ouuan.moe">
<meta property="twitter:title" content="CNATDA ç¬¬äºŒç« å­¦ä¹ ç¬”è®° Â· ouuan's blog">
<meta property="twitter:description" content="


ã€ŠComputer Networking: A Top-Down Approach (8th Edition)ã€‹ç¬¬äºŒç«  â€œApplication Layerâ€ çš„å­¦ä¹ ç¬”è®°ã€‚
">
<meta property="twitter:url" content="https://ouuan.moe/post/2023/06/cnatda-2">
<style>html:not(.dark):not(.light) { visibility: hidden; } body { visibility: hidden; }</style>
<script>(() => { let dark; try { const theme = localStorage && localStorage.getItem('vueuse-color-scheme'); if (theme === 'dark') dark = true; else if (theme === 'light') dark = false; else dark = window.matchMedia('(prefers-color-scheme: dark)').matches; } catch (e) { dark = false; } document.documentElement.classList.add(dark ? 'dark' : 'light'); })()</script>
<noscript><style>@media (prefers-color-scheme: light) { :root:not(.dark):not(.light) { color-scheme: light; --text-color: #232637; --bg-color: #DEE6EE; --card-color: #EFF3F7; --link-color: #1E66B8; --hover-color: #2E80DD; --active-color: #164C89; --bghover-color: #D6E0EA; --popup-color: #F7F9FB; --footer-color: #5F627B; --area-color: #E1E2E8; --nested-color: #F0F0F3; } } @media (prefers-color-scheme: dark) { :root:not(.dark):not(.light) { color-scheme: dark; --text-color: #E6EDF2; --bg-color: #0D0E15; --card-color: #1F2130; --link-color: #8BB8EC; --hover-color: #A2C6F0; --active-color: #74AAE8; --bghover-color: #353853; --popup-color: #2C2F45; --footer-color: #9699AE; --area-color: #2F313D; --nested-color: #3C3E4E; } } html { visibility:visible !important; }</style></noscript>
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="canonical" href="https://ouuan.moe/post/2023/06/cnatda-2">
<link rel="alternate" type="application/rss+xml" href="/feed.xml" title="RSS Feed - ouuan's blog">
<link rel="alternate" type="application/atom+xml" href="/feed.atom" title="Atom Feed - ouuan's blog">
<link rel="alternate" type="application/json" href="/feed.json" title="JSON Feed - ouuan's blog">
<link rel="dns-prefetch" href="https://plausible.ouuan.moe">
<link rel="preconnect" href="https://blog-visitor-count.ouuan.moe">
<link rel="stylesheet" href="/vendors/katex/katex.css">
<link rel="sitemap" href="https://ouuan.moe/sitemap.xml">
<meta name="author" content="ouuan">
<meta name="twitter:creator" content="@ouuan">
<meta name="twitter:card" content="summary">
<meta property="og:image" content="https://ouuan.moe/images/2023/06/cnatda-2.png">
<meta property="generator" content="Ã®les">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-06-16T15:24:34.000Z">
<meta property="article:modified_time" content="2023-06-24T11:29:55.000Z">
<meta property="article:author" content="ouuan">
<meta property="article:tag" content="cnatda">
<meta property="article:tag" content="å­¦ä¹ ç¬”è®°">
<link rel="preconnect" href="https://giscus.app">
<link rel="dns-prefetch" href="https://avatars.githubusercontent.com">
    <link rel="stylesheet" href="/assets/style-530f826b.css">
    
  <link rel="modulepreload" href="/assets/iles.0aa4bab4.js" crossorigin=""><link rel="modulepreload" href="/assets/vendor-vue.8e27fa9d.js" crossorigin=""><link rel="modulepreload" href="/assets/vite.5ce4fca4.js" crossorigin=""><link rel="modulepreload" href="/assets/SearchBar.5b56dc28.js" crossorigin=""><link rel="modulepreload" href="/assets/PostHead.547914fc.js" crossorigin=""><link rel="modulepreload" href="/assets/VisitorCount.15186388.js" crossorigin=""><link rel="modulepreload" href="/assets/site.b21fb919.js" crossorigin=""><link rel="modulepreload" href="/assets/GiscusCommentsInner.08badc29.js" crossorigin=""><link rel="modulepreload" href="/assets/useTheme.060d9991.js" crossorigin=""><link rel="modulepreload" href="/assets/TableOfContents.0efa4f7e.js" crossorigin=""><style>@font-face { font-family: "Noto Serif SC Web Font"; font-weight: 400; font-style: normal; font-display: swap; src: url('/assets/fonts/NotoSerifSC-Regular.unique.6a3a6561.woff2') format('woff2'), url('/assets/fonts/NotoSerifSC-Regular.unique.4bd0e5f4.woff') format('woff'); unicode-range: U+0-1f914; } @font-face { font-family: "Noto Serif SC Web Font"; font-weight: 400; font-style: normal; font-display: swap; src: url('/assets/fonts/NotoSerifSC-Regular.common.79ca374e.woff2') format('woff2'), url('/assets/fonts/NotoSerifSC-Regular.common.2a06c596.woff') format('woff'); unicode-range: U+0-ff1b; } @font-face { font-family: "Noto Serif SC Web Font"; font-weight: 700; font-style: normal; font-display: swap; src: url('/assets/fonts/NotoSerifSC-Bold.unique.3da3324f.woff2') format('woff2'), url('/assets/fonts/NotoSerifSC-Bold.unique.8cc15ffc.woff') format('woff'); unicode-range: U+0-2019; } @font-face { font-family: "Noto Serif SC Web Font"; font-weight: 700; font-style: normal; font-display: swap; src: url('/assets/fonts/NotoSerifSC-Bold.common.8d2c4ede.woff2') format('woff2'), url('/assets/fonts/NotoSerifSC-Bold.common.7f011ba7.woff') format('woff'); unicode-range: U+0-7684; }</style><link rel="preload" href="/assets/fonts/NotoSerifSC-Regular.unique.6a3a6561.woff2" as="font" type="font/woff2" crossorigin=""><link rel="preload" href="/assets/fonts/NotoSerifSC-Regular.common.79ca374e.woff2" as="font" type="font/woff2" crossorigin=""><link rel="preload" href="/assets/fonts/NotoSerifSC-Bold.unique.3da3324f.woff2" as="font" type="font/woff2" crossorigin=""><link rel="preload" href="/assets/fonts/NotoSerifSC-Bold.common.8d2c4ede.woff2" as="font" type="font/woff2" crossorigin=""></head>
  <body itemscope="" itemtype="https://schema.org/ItemPage">
    <div id="app"><header class="bg-card shadow print:hidden" itemprop="hasPart" itemscope="" itemtype="https://schema.org/WPHeader"><div class="flex flex-wrap justify-center whitespace-nowrap px-4 page-container sm:flex-nowrap"><div class="flex basis-full items-stretch justify-center sm:mr-3 sm:basis-auto"><a class="flex items-center p-3 text-xl font-serif bghover" href="/"><span>ouuan<span class="mojikumi-narrow-left">â€™</span>s blog</span></a></div><nav class="flex"><ul class="flex"><li class="flex flex-1 items-stretch justify-center"><a class="flex items-center p-3 bghover" href="/"><span>é¦–é¡µ</span></a></li><li class="flex flex-1 items-stretch justify-center"><a class="flex items-center p-3 bghover" href="/posts"><span>æ–‡ç« </span></a></li><li class="flex flex-1 items-stretch justify-center"><a class="flex items-center p-3 bghover" href="/tags"><span>æ ‡ç­¾</span></a></li><li class="flex flex-1 items-stretch justify-center"><a class="flex items-center p-3 bghover" href="/about"><span>å…³äº</span></a></li></ul></nav><div class="sm:basis-full"></div><ul class="flex"><li class="flex"><ile-root id="ile-1"><div class="flex items-stretch lg:hidden"><a class="flex items-center p-2 bghover" href="/search" title="å…¨ç«™æœç´¢"><span class="i-mdi-magnify text-xl"></span></a></div><form role="search" class="hidden items-stretch justify-center lg:flex"><div class="flex items-center"><input value="" class="w-48 rd-full bg-area px-3 py-1" type="search" placeholder="å…³é”®è¯" aria-label="å…¨ç«™æœç´¢"></div><a class="flex items-center p-2 bghover" href="/search?q=" title="å…¨ç«™æœç´¢"><span class="i-mdi-magnify text-xl"></span></a></form></ile-root><script></script><script type="module" async="">import{h as r,c as a}from"/assets/iles.0aa4bab4.js";import{_ as m}from"/assets/SearchBar.5b56dc28.js";import"/assets/vendor-vue.8e27fa9d.js";import"/assets/vite.5ce4fca4.js";r(a,m,"ile-1",{},{});
</script></li><li class="flex items-stretch"><a class="flex items-center p-2 bghover" href="/feed.xml" title="RSS è®¢é˜…"><span class="i-mdi-rss text-xl"></span></a></li><li class="flex"><ile-root id="ile-2"><div class="relative flex items-stretch"><button title="æš—è‰²æ¨¡å¼è®¾ç½®" class="flex items-center p-2 bghover" aria-haspopup="menu" aria-controls="__theme-switcher" aria-expanded="false"><span class="i-mdi-theme-light-dark text-xl"></span></button><ul style="display:none;" id="__theme-switcher" class="absolute right-0 top-full z-20 whitespace-nowrap rd-1 bg-popup shadow-md" role="menu" aria-label="æš—è‰²æ¨¡å¼é€‰é¡¹"><li class="bghover" role="menuitemradio" aria-checked="true"><button class="flex items-center p-1 text-hover"><span class="i-mdi-cellphone md:i-mdi-tablet lg:i-mdi-monitor mr-1"></span><span>è·Ÿéšç³»ç»Ÿ</span></button></li><li class="bghover" role="menuitemradio" aria-checked="false"><button class="flex items-center p-1"><span class="i-mdi-white-balance-sunny mr-1"></span><span>æ€»æ˜¯äº®è‰²</span></button></li><li class="bghover" role="menuitemradio" aria-checked="false"><button class="flex items-center p-1"><span class="i-mdi-weather-night mr-1"></span><span>æ€»æ˜¯æš—è‰²</span></button></li></ul></div></ile-root><script></script><script type="module" async="">var p=(o,a)=>()=>(a||o((a={exports:{}}).exports,a),a.exports);var r=(o,a,_)=>new Promise((c,n)=>{var f=t=>{try{e(_.next(t))}catch(i){n(i)}},l=t=>{try{e(_.throw(t))}catch(i){n(i)}},e=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);e((_=_.apply(o,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{a as s}from"/assets/iles.0aa4bab4.js";import"/assets/vendor-vue.8e27fa9d.js";var E=p(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.0aa4bab4.js").then(o=>o.v),["assets/iles.0aa4bab4.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/ThemeSwitcher.9e602591.js"),["assets/ThemeSwitcher.9e602591.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js","assets/useTheme.060d9991.js"])).default});s(u,v,"ile-2",{},{})});export default E();
</script></li></ul></div></header><main class="min-h-100vh py-6 page-container" itemprop="mainContentOfPage" itemscope="" itemtype="https://schema.org/WebPageElement"><div class="flex justify-center"><div class="grow m-4 standard-card max-w-200"><article itemprop="mainEntity" itemscope="" itemtype="https://schema.org/BlogPosting"><div class="hidden" itemscope="" itemtype="https://schema.org/Person" itemprop="author"><meta itemprop="name" content="ouuan"><meta itemprop="givenName" content="Yufan"><meta itemprop="familyName" content="You"><meta itemprop="url" content="https://github.com/ouuan"><link itemprop="gender" href="https://schema.org/Male"><meta itemprop="image" content="/android-chrome-512x512.png"></div><meta itemprop="mainEntityOfPage" content="https://ouuan.moe/post/2023/06/cnatda-2"><meta itemprop="image" content="https://ouuan.moe/images/2023/06/cnatda-2.png"><ile-root id="ile-3" class="my-12"><header class="my-12" data-v-e17b8ba7=""><h1 class="mb-3 mt-6 text-center text-8" itemprop="headline" data-v-e17b8ba7=""><span class="inline-block font-serif break-anywhere" data-v-e17b8ba7=""><span data-v-e17b8ba7="" data-v-6544d8e8="">CNATDA ç¬¬äºŒç« å­¦ä¹ ç¬”è®°</span></span></h1><div class="flex flex-wrap justify-center gap-x-4 gap-y-1 text-footer md:text-sm" data-v-e17b8ba7=""><span class="flex items-center" title="åˆ›å»ºäº 2023-06-12 20:42:32 GMT+8" data-v-e17b8ba7=""><span class="i-mdi-folder-plus-outline mr-1" data-v-e17b8ba7=""></span><span class="sr-only" data-v-e17b8ba7="">åˆ›å»ºäº</span><a class="hover:underline" href="https://github.com/ouuan/iles-blog/blob/master/src/pages/post/2023/06/cnatda-2.mdx?plain=1" data-v-e17b8ba7=""><time datetime="2023-06-12T20:42:32+08:00" itemprop="dateCreated" data-v-e17b8ba7="">2023-06-12</time></a></span><span class="flex items-center" title="ä¿®æ”¹äº 2023-06-24 19:29:55 GMT+8" data-v-e17b8ba7=""><span class="i-mdi-update mr-1" data-v-e17b8ba7=""></span><span class="sr-only" data-v-e17b8ba7="">ä¿®æ”¹äº</span><a class="hover:underline" href="https://github.com/ouuan/iles-blog/commits/master/src/pages/post/2023/06/cnatda-2.mdx" data-v-e17b8ba7=""><time datetime="2023-06-24T19:29:55+08:00" itemprop="dateModified" data-v-e17b8ba7="">2023-06-24</time></a></span><span class="flex items-center" title="è®¿é—®é‡" data-v-e17b8ba7=""><span class="i-mdi-eye-outline mr-1" data-v-e17b8ba7=""></span><span class="sr-only" data-v-e17b8ba7="">è®¿é—®é‡</span><span data-v-e17b8ba7="">50</span></span><span class="flex flex-wrap justify-center gap-x-2 gap-y-1" data-v-e17b8ba7=""><span title="æ ‡ç­¾: cnatda" class="flex items-center" itemprop="keywords" data-v-e17b8ba7=""><span class="i-mdi-tag-outline mr-1" data-v-e17b8ba7=""></span><span class="sr-only" data-v-e17b8ba7="">æ ‡ç­¾</span><a href="/tag/cnatda" class="hover:underline" data-v-e17b8ba7=""><span data-v-e17b8ba7="" data-v-6544d8e8="">cnatda</span></a></span><span title="æ ‡ç­¾: å­¦ä¹ ç¬”è®°" class="flex items-center" itemprop="keywords" data-v-e17b8ba7=""><span class="i-mdi-tag-outline mr-1" data-v-e17b8ba7=""></span><span class="sr-only" data-v-e17b8ba7="">æ ‡ç­¾</span><a href="/tag/å­¦ä¹ ç¬”è®°" class="hover:underline" data-v-e17b8ba7=""><span data-v-e17b8ba7="" data-v-6544d8e8="">å­¦ä¹ ç¬”è®°</span></a></span></span></div></header></ile-root><script></script><script type="module" async="">import{h as t,c as a}from"/assets/iles.0aa4bab4.js";import{c as e}from"/assets/PostHead.547914fc.js";import"/assets/vendor-vue.8e27fa9d.js";import"/assets/vite.5ce4fca4.js";import"/assets/VisitorCount.15186388.js";import"/assets/site.b21fb919.js";t(a,e,"ile-3",{class:"my-12",href:"/post/2023/06/cnatda-2",filename:"src/pages/post/2023/06/cnatda-2.mdx",frontmatter:{title:"CNATDA ç¬¬äºŒç« å­¦ä¹ ç¬”è®°",date:new Date(1686573752e3),image:"/images/2023/06/cnatda-2.png",tags:["cnatda","å­¦ä¹ ç¬”è®°"],lastUpdated:new Date(1687606195e3),published:new Date(1686929074e3),visitor:50,description:`


ã€ŠComputer Networking: A Top-Down Approach (8th Edition)ã€‹ç¬¬äºŒç«  â€œApplication Layerâ€ çš„å­¦ä¹ ç¬”è®°ã€‚
`}},{});
</script><section class="article-style" itemprop="articleBody">


<p><span class="mojikumi-line-start">ã€Š</span>Computer Networking: A Top-Down Approach (8th Edition)<span class="mojikumi-line-end">ã€‹</span>ç¬¬äºŒç«  <span class="mojikumi">â€œ</span>Application Layer<span class="mojikumi">â€</span> çš„å­¦ä¹ ç¬”è®°<span class="mojikumi-line-end">ã€‚</span></p>

<h2 id="principles-of-network-applications" class="heading"><a href="#principles-of-network-applications" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Principles of Network Applications" tabindex="-1"></a><span>Principles of Network Applications</span></h2>
<p>application architecture ä¸»è¦åˆ†ä¸º client-server å’Œ P2P ä¸¤ç§<span class="mojikumi-line-end">ã€‚</span></p>
<p><i>process</i> å³åœ¨æŸä¸ª end system ä¸Šè¿è¡Œçš„ç¨‹åº<span class="mojikumi-line-start">ï¼ˆ</span>è¿›ç¨‹<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼Œ</span>ä¸åŒ end system ä¸Šçš„ process åœ¨ç½‘ç»œä¸Šäº’ç›¸å‘é€ message ä»¥è¿›è¡Œé€šä¿¡<span class="mojikumi-line-start">ï¼ˆ</span>æ³¨<span class="mojikumi-line-end">ï¼š</span>message å³ application-layer packet<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ã€‚</span></p>
<p>åœ¨ä¸€æ¬¡é€šä¿¡ä¸­<span class="mojikumi-line-end">ï¼Œ</span>å‘èµ·é€šä¿¡çš„ä¸€æ–¹è¢«ç§°ä½œ <i>client</i><span class="mojikumi-line-end">ï¼Œ</span>ç­‰å¾…æ¥æ”¶æ¶ˆæ¯çš„ä¸€æ–¹è¢«ç§°ä½œ <i>server</i><span class="mojikumi">ã€‚</span><wbr><span class="mojikumi-line-start">ï¼ˆ</span>æ³¨<span class="mojikumi-line-end">ï¼š</span>åœ¨ P2P ä¸­<span class="mojikumi-line-end">ï¼Œ</span>client å’Œ server çš„èº«ä»½ä¸æ˜¯å›ºå®šçš„<span class="mojikumi">ã€‚</span><span class="mojikumi-line-end">ï¼‰</span></p>
<p>process å’Œç½‘ç»œ<span class="mojikumi-line-end">ï¼Œ</span>æˆ–è€…è¯´å’Œ transport layer ä¹‹é—´ä»¥ <i>socket</i> ä½œä¸º API<span class="mojikumi-line-end">ã€‚</span></p>
<p>host ç”± IP åœ°å€è¯†åˆ«<span class="mojikumi-line-end">ï¼Œ</span>è€Œ process ç”± IP åœ°å€ + ç«¯å£è¯†åˆ«<span class="mojikumi-line-end">ã€‚</span></p>
<p>ä¸€ä¸ª application å¯ä»¥é€‰æ‹© TCP æˆ–è€… UDP æ¥æä¾› transport service<span class="mojikumi-line-end">ã€‚</span>TCP æä¾› connection-oriented service<span class="mojikumi-line-start">ï¼ˆ</span>éœ€è¦é€šè¿‡ handshaking å»ºç«‹ TCP connection<span class="mojikumi-line-end">ï¼‰</span>å’Œ reliable data transfer service<span class="mojikumi-line-start">ï¼ˆ</span>ä¿è¯æ¥æ”¶åˆ° &amp; ä¿åº<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼Œ</span>ä»¥åŠ congestion control<span class="mojikumi-line-end">ã€‚</span>UDP åˆ™è¿™äº›éƒ½ä¸æä¾›<span class="mojikumi-line-end">ã€‚</span>ä¸€èˆ¬ä¼šæ ¹æ®æ˜¯å¦ loss-tolerant<span class="mojikumi-line-start">ï¼ˆ</span>æ˜¯å¦å…è®¸ä¸¢å¤±éƒ¨åˆ†æ•°æ®<span class="mojikumi-line-end">ï¼‰</span>ä»¥åŠå¯¹å»¶æ—¶çš„æ•æ„Ÿåº¦æ¥è¿›è¡Œé€‰æ‹©<span class="mojikumi-line-end">ã€‚</span></p>
<p>TLS (Transport Layer Security) å¯ä»¥åœ¨ TCP çš„åŸºç¡€ä¸Šæä¾› encryption<span class="mojikumi-line-end">ã€</span>data integrity<span class="mojikumi-line-end">ã€</span>end-point authentication<span class="mojikumi-line-end">ã€‚</span>å®ƒè‡ªèº«ä½äº application layer<span class="mojikumi-line-start">ï¼ˆ</span>æˆ–è€…å¯ä»¥è¯´æ˜¯ application ä¸ transport layer ä¹‹é—´ ğŸ¤”<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼Œ</span>ä¸ä¸ TCP<span class="mojikumi-line-end">ã€</span>UDP å¹¶åˆ—<span class="mojikumi-line-end">ã€‚</span></p>
<p>application-layer protocol å†³å®šäº† message çš„ç»“æ„ä»¥åŠç›¸åº”çš„è¡Œä¸º<span class="mojikumi-line-end">ã€‚</span>å¸¸è§çš„ application-layer protocol åŒ…æ‹¬ HTTP<span class="mojikumi-line-end">ã€</span>SMTP<span class="mojikumi-line-end">ã€</span>Telnet<span class="mojikumi-line-end">ã€</span>FTP<span class="mojikumi-line-end">ã€</span>SIP<span class="mojikumi-line-end">ã€</span>RTP<span class="mojikumi-line-end">ã€</span>DASH ç­‰<span class="mojikumi-line-end">ã€‚</span>æœ‰çš„ application ä¼šä½¿ç”¨ä¸“æœ‰è€Œé public domain çš„ application-layer protocol<span class="mojikumi-line-end">ã€‚</span></p>
<h2 id="the-web-and-http" class="heading"><a href="#the-web-and-http" class="heading-anchor" aria-label="ç« èŠ‚ï¼š The Web and HTTP" tabindex="-1"></a><span>The Web and HTTP</span></h2>
<p>HTTP (HyperText Transfer Protocol) æ˜¯ Web çš„ application-layer protocol<span class="mojikumi-line-end">ï¼Œ</span>å®šä¹‰äº† client (browser) å¦‚ä½•å‘ server è¯·æ±‚æ–‡ä»¶<span class="mojikumi-line-start">ï¼ˆ</span>web page<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ã€</span>server å¦‚ä½•å°†æ–‡ä»¶ä¼ è¾“ç»™ client<span class="mojikumi-line-end">ã€‚</span></p>
<p>HTTP çš„é»˜è®¤ç«¯å£æ˜¯ 80<span class="mojikumi-line-end">ã€‚</span></p>
<p>HTTP ä¸å­˜å‚¨ client çš„ä¿¡æ¯<span class="mojikumi-line-end">ï¼Œ</span>æ˜¯ä¸€ä¸ª <i>stateless protocol</i><span class="mojikumi-line-end">ã€‚</span></p>
<p>HTTP<span class="mojikumi-line-start">ï¼ˆ</span>1.0<span class="mojikumi-line-end">ã€</span>1.1<span class="mojikumi-line-end">ã€</span>2<span class="mojikumi-line-end">ï¼‰</span>åŸºäº TCP<span class="mojikumi-line-end">ï¼Œ</span>æœ‰ persistent connection å’Œ non-persistent connection ä¸¤ç§å·¥ä½œæ–¹å¼<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li>non-persistent connection<span class="mojikumi-line-end">ï¼š</span>æ¯æ¬¡ request-response éƒ½ä¼šå»ºç«‹ä¸€ä¸ªæ–°çš„ TCP connection<span class="mojikumi-line-end">ï¼Œ</span>æ”¶åˆ° response åç«‹åˆ»å…³é—­ TCP connection<span class="mojikumi-line-end">ã€‚</span></li>
<li>persistent connection<span class="mojikumi-line-end">ï¼š</span>åŒä¸€å¯¹ client-server çš„å¤šæ¬¡ request-response<span class="mojikumi-line-start">ï¼ˆ</span>ä¾‹å¦‚ä¸€ä¸ªé¡µé¢å¼•ç”¨çš„å¤šä¸ªèµ„æº<span class="mojikumi-line-end">ï¼‰</span>å¯ä»¥å…±ç”¨åŒä¸€ä¸ª TCP connection<span class="mojikumi-line-start">ï¼ˆ</span>åœ¨é—²ç½®ä¸€æ®µæ—¶é—´åè‡ªåŠ¨å…³é—­<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼Œ</span>å¹¶ä¸”æ— éœ€ç­‰å¾… response å°±å¯ä»¥è¿ç»­å‘é€å¤šä¸ª request<span class="mojikumi-line-start">ï¼ˆ</span>è¢«ç§°ä½œ <i>pipelining</i><span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼Œ</span>ä»è€Œçœä¸‹æ¯æ¬¡å»ºç«‹ TCP connection è€—è´¹çš„ RTT (round-trip time)<span class="mojikumi-line-end">ã€‚</span></li>
</ul>
<p>HTTP message æ˜¯çº¯æ–‡æœ¬<span class="mojikumi-line-end">ï¼Œ</span>æ ¼å¼å¦‚ä¸‹<span class="mojikumi-line-end">ã€‚</span></p>
<p>HTTP request:<sup><a href="#user-content-fn-fig2.8" id="user-content-fnref-fig2.8" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup></p>
<p><picture><source type="image/webp" srcset="/assets/cnatda-fig-2.8.6bb26d3f.webp"><img srcset="/assets/cnatda-fig-2.8.de34594f.png" loading="lazy" src="/assets/cnatda-fig-2.8.de34594f.png" width="793" height="439" alt="General format of an HTTP request message"></picture></p>
<section class="code-block relative my-6 shadow" itemprop="hasPart" itemscope="" itemtype="https://schema.org/SoftwareSourceCode" data-v-ad49d235=""><div class="h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex" style="display:none;" data-v-ad49d235=""><h3 class="text-3 text-footer" itemprop="programmingLanguage" aria-label="HTTP ä»£ç å—" data-v-ad49d235="">HTTP</h3><ile-root id="ile-4"><button title="å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copy-button b-footer text-footer" data-v-9288569d=""><span class="i-mdi-content-copy" data-v-9288569d=""></span><span class="sr-only" role="status" data-v-9288569d=""></span></button></ile-root><script></script><script type="module" async="">var s=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var r=(i,a,o)=>new Promise((c,n)=>{var f=t=>{try{_(o.next(t))}catch(e){n(e)}},l=t=>{try{_(o.throw(t))}catch(e){n(e)}},_=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);_((o=o.apply(i,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{b as p}from"/assets/iles.0aa4bab4.js";import"/assets/vendor-vue.8e27fa9d.js";var E=s(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.0aa4bab4.js").then(i=>i.v),["assets/iles.0aa4bab4.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/CopyButton.f3d773d6.js"),["assets/CopyButton.f3d773d6.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default});p(u,v,"ile-4",{},{})});export default E();
</script></div><div class="light:hidden" itemprop="text" data-v-ad49d235=""><pre class="shiki dark" style="background-color: #011627" tabindex="0"><code><span><span style="color: #C792EA">GET</span><span style="color: #D6DEEB"> /wireshark-labs/INTRO-wireshark-file1.html </span><span style="color: #C792EA">HTTP</span><span style="color: #D6DEEB">/</span><span style="color: #F78C6C">1.1</span></span>
<span><span style="color: #CAECE6">Host</span><span style="color: #C792EA">:</span><span style="color: #D6DEEB"> </span><span style="color: #ECC48D">gaia.cs.umass.edu</span></span>
<span><span style="color: #CAECE6">User-Agent</span><span style="color: #C792EA">:</span><span style="color: #D6DEEB"> </span><span style="color: #ECC48D">curl/8.1.2</span></span>
<span><span style="color: #CAECE6">Accept</span><span style="color: #C792EA">:</span><span style="color: #D6DEEB"> </span><span style="color: #ECC48D">*/*</span></span></code></pre></div><div class="light:important-block" style="display:none;" data-v-ad49d235=""><pre class="shiki light" style="background-color: #FBFBFB" tabindex="0"><code><span><span style="color: #994CC3">GET</span><span style="color: #403F53"> /wireshark-labs/INTRO-wireshark-file1.html </span><span style="color: #994CC3">HTTP</span><span style="color: #403F53">/</span><span style="color: #AA0982">1.1</span></span>
<span><span style="color: #994CC3">Host:</span><span style="color: #403F53"> </span><span style="color: #4876D6">gaia.cs.umass.edu</span></span>
<span><span style="color: #994CC3">User-Agent:</span><span style="color: #403F53"> </span><span style="color: #4876D6">curl/8.1.2</span></span>
<span><span style="color: #994CC3">Accept:</span><span style="color: #403F53"> </span><span style="color: #4876D6">*/*</span></span></code></pre></div></section>
<p>HTTP response:<sup><a href="#user-content-fn-fig2.9" id="user-content-fnref-fig2.9" data-footnote-ref="" aria-describedby="footnote-label">2</a></sup></p>
<p><picture><source type="image/webp" srcset="/assets/cnatda-fig-2.9.d6740f57.webp"><img srcset="/assets/cnatda-fig-2.9.c01ee471.png" loading="lazy" src="/assets/cnatda-fig-2.9.c01ee471.png" width="792" height="443" alt="General format of an HTTP response message"></picture></p>
<section class="code-block relative my-6 shadow" itemprop="hasPart" itemscope="" itemtype="https://schema.org/SoftwareSourceCode" data-v-ad49d235=""><div class="h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex" style="display:none;" data-v-ad49d235=""><h3 class="text-3 text-footer" itemprop="programmingLanguage" aria-label="HTTP ä»£ç å—" data-v-ad49d235="">HTTP</h3><ile-root id="ile-5"><button title="å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copy-button b-footer text-footer" data-v-9288569d=""><span class="i-mdi-content-copy" data-v-9288569d=""></span><span class="sr-only" role="status" data-v-9288569d=""></span></button></ile-root><script></script><script type="module" async="">var s=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var r=(i,a,o)=>new Promise((c,n)=>{var f=t=>{try{_(o.next(t))}catch(e){n(e)}},l=t=>{try{_(o.throw(t))}catch(e){n(e)}},_=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);_((o=o.apply(i,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{b as p}from"/assets/iles.0aa4bab4.js";import"/assets/vendor-vue.8e27fa9d.js";var E=s(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.0aa4bab4.js").then(i=>i.v),["assets/iles.0aa4bab4.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/CopyButton.f3d773d6.js"),["assets/CopyButton.f3d773d6.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default});p(u,v,"ile-5",{},{})});export default E();
</script></div><div class="light:hidden" itemprop="text" data-v-ad49d235=""><pre class="shiki dark" style="background-color: #011627" tabindex="0"><code><span><span style="color: #D6DEEB">HTTP/1.1 200 OK</span></span>
<span><span style="color: #CAECE6">Date</span><span style="color: #C792EA">:</span><span style="color: #D6DEEB"> </span><span style="color: #ECC48D">Tue, 13 Jun 2023 11:14:57 GMT</span></span>
<span><span style="color: #CAECE6">Server</span><span style="color: #C792EA">:</span><span style="color: #D6DEEB"> </span><span style="color: #ECC48D">Apache/2.4.6 (CentOS) OpenSSL/1.0.2k-fips PHP/7.4.33 mod_perl/2.0.11 Perl/v5.16.3</span></span>
<span><span style="color: #CAECE6">Last-Modified</span><span style="color: #C792EA">:</span><span style="color: #D6DEEB"> </span><span style="color: #ECC48D">Tue, 13 Jun 2023 05:59:01 GMT</span></span>
<span><span style="color: #CAECE6">ETag</span><span style="color: #C792EA">:</span><span style="color: #D6DEEB"> </span><span style="color: #ECC48D">"51-5fdfc882a3e6f"</span></span>
<span><span style="color: #CAECE6">Accept-Ranges</span><span style="color: #C792EA">:</span><span style="color: #D6DEEB"> </span><span style="color: #ECC48D">bytes</span></span>
<span><span style="color: #CAECE6">Content-Length</span><span style="color: #C792EA">:</span><span style="color: #D6DEEB"> </span><span style="color: #ECC48D">81</span></span>
<span><span style="color: #CAECE6">Content-Type</span><span style="color: #C792EA">:</span><span style="color: #D6DEEB"> </span><span style="color: #ECC48D">text/html; charset=UTF-8</span></span>
<span></span>
<span><span style="color: #D6DEEB">&lt;html&gt;</span></span>
<span><span style="color: #D6DEEB">Congratulations!  You've downloaded the first Wireshark lab file!</span></span>
<span><span style="color: #D6DEEB">&lt;/html&gt;</span></span></code></pre></div><div class="light:important-block" style="display:none;" data-v-ad49d235=""><pre class="shiki light" style="background-color: #FBFBFB" tabindex="0"><code><span><span style="color: #403F53">HTTP/1.1 200 OK</span></span>
<span><span style="color: #994CC3">Date:</span><span style="color: #403F53"> </span><span style="color: #4876D6">Tue, 13 Jun 2023 11:14:57 GMT</span></span>
<span><span style="color: #994CC3">Server:</span><span style="color: #403F53"> </span><span style="color: #4876D6">Apache/2.4.6 (CentOS) OpenSSL/1.0.2k-fips PHP/7.4.33 mod_perl/2.0.11 Perl/v5.16.3</span></span>
<span><span style="color: #994CC3">Last-Modified:</span><span style="color: #403F53"> </span><span style="color: #4876D6">Tue, 13 Jun 2023 05:59:01 GMT</span></span>
<span><span style="color: #994CC3">ETag:</span><span style="color: #403F53"> </span><span style="color: #4876D6">"51-5fdfc882a3e6f"</span></span>
<span><span style="color: #994CC3">Accept-Ranges:</span><span style="color: #403F53"> </span><span style="color: #4876D6">bytes</span></span>
<span><span style="color: #994CC3">Content-Length:</span><span style="color: #403F53"> </span><span style="color: #4876D6">81</span></span>
<span><span style="color: #994CC3">Content-Type:</span><span style="color: #403F53"> </span><span style="color: #4876D6">text/html; charset=UTF-8</span></span>
<span></span>
<span><span style="color: #403F53">&lt;html&gt;</span></span>
<span><span style="color: #403F53">Congratulations!  You've downloaded the first Wireshark lab file!</span></span>
<span><span style="color: #403F53">&lt;/html&gt;</span></span></code></pre></div></section>
<p>server å¯ä»¥é€šè¿‡ Cookie è¯†åˆ«ç”¨æˆ·<span class="mojikumi-line-end">ï¼Œ</span>cookie é€šè¿‡ response ä¸­çš„ <code>Set-Cookie</code> header è®¾ç½®<span class="mojikumi-line-end">ï¼Œ</span>åœ¨ä¹‹åçš„æ¯æ¬¡ request ä¸­é€šè¿‡ <code>Cookie</code> header å‘ç»™ server<span class="mojikumi-line-end">ã€‚</span></p>
<p>æœºæ„å¯ä»¥è®¾ç½® Web cache<span class="mojikumi-line-end">ï¼Œ</span>ä½¿ç”¨æˆ·å…ˆå‘ Web cache å‘é€è¯·æ±‚<span class="mojikumi-line-end">ï¼Œ</span>è‹¥ cache hit åˆ™ç›´æ¥ç”± Web cache å‘ç»™ç”¨æˆ·<span class="mojikumi-line-end">ï¼Œ</span>è‹¥ cache miss åˆ™ Web cache å‘ origin server å‘é€è¯·æ±‚å†è¿”å›ç»™ç”¨æˆ·<span class="mojikumi-line-end">ã€‚</span>Web cache å¯ä»¥å‡å°å»¶è¿Ÿ<span class="mojikumi-line-end">ï¼Œ</span>é™ä½å¸¦å®½å‹åŠ›<span class="mojikumi">ã€‚</span><wbr><span class="mojikumi-line-start">ï¼ˆ</span>ä¸ä¹‹ç±»ä¼¼çš„ CDN åˆ™åœ¨<a href="#content-distribution-networks">åæ–‡</a>æœ‰è¯¦ç»†è®²è§£<span class="mojikumi">ã€‚</span><span class="mojikumi-line-end">ï¼‰</span></p>
<p>å¯ä»¥é€šè¿‡ <code>If<wbr>-<wbr>Modified<wbr>-<wbr>Since</code> header è¿›è¡Œ <i>conditional GET</i><span class="mojikumi-line-end">ï¼Œ</span>è‹¥æ²¡æœ‰ä¿®æ”¹åˆ™ä¼šè¿”å› body ä¸ºç©ºçš„ 304 Not Modified<span class="mojikumi-line-end">ã€‚</span></p>
<p>HTTP/2 æä¾›äº† request and response multiplexing<span class="mojikumi-line-end">ã€</span>prioritization<span class="mojikumi-line-end">ã€</span>server push æ¥ä¼˜åŒ–æ€§èƒ½<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li>multiplexing<span class="mojikumi-line-end">ï¼š</span>persistent connection å‡å°‘äº†å»ºç«‹ TCP connection å¸¦æ¥çš„ RTT<span class="mojikumi-line-end">ï¼Œ</span>ä½†åˆå¼•å…¥äº† Head of Line (HOL) blocking<span class="mojikumi-line-end">ï¼Œ</span>å³å…±ç”¨ä¸€ä¸ª TCP connection æ—¶è¾ƒå°çš„èµ„æºéœ€è¦ç­‰å¾…è¾ƒå¤§çš„èµ„æºåŠ è½½å®Œæ¯•<span class="mojikumi-line-end">ï¼Œ</span>æ‰€ä»¥åœ¨ HTTP/1.1 ä¸­æµè§ˆå™¨ç»å¸¸è¿˜æ˜¯ä¼šå»ºç«‹å¤šä¸ª TCP è¿æ¥<span class="mojikumi-line-end">ï¼Œ</span>é™¤äº†è§£å†³ HOL blocking<span class="mojikumi-line-end">ï¼Œ</span>ä¹Ÿå¯ä»¥åœ¨ TCP çš„ congestion control ä¸­å–å¾—æ›´å¤šå¸¦å®½<span class="mojikumi-line-end">ã€‚</span>HTTP/2 åˆ™å°†æ¯ä¸ª message åˆ’åˆ†æˆäº†å¤šä¸ªå°çš„ frame<span class="mojikumi-line-end">ï¼Œ</span>å¹¶äº¤æ›¿å‘é€ä¸åŒ message çš„ frame<span class="mojikumi-line-start">ï¼ˆ</span>frame interleaving<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼Œ</span>ä»è€Œå°çš„èµ„æºæ— éœ€ç­‰å¾…å¤§çš„èµ„æºå‘é€å®Œæ¯•<span class="mojikumi-line-end">ã€‚</span></li>
<li>prioritization<span class="mojikumi-line-end">ï¼š</span>åŒæ—¶å‘é€å¤šä¸ªè¯·æ±‚æ—¶<span class="mojikumi-line-end">ï¼Œ</span>å¯ä»¥ä¸ºæ¯ä¸ª response è®¾ç½®ä¼˜å…ˆçº§<span class="mojikumi-line-end">ï¼Œ</span>è®© server ä¼˜å…ˆå‘é€é«˜ä¼˜å…ˆçº§çš„ response<span class="mojikumi-line-end">ã€‚</span>é™¤æ­¤ä¹‹å¤–<span class="mojikumi-line-end">ï¼Œ</span>è¿˜å¯ä»¥è®¾ç½® response ä¹‹é—´çš„ä¾èµ–å…³ç³»<span class="mojikumi-line-end">ã€‚</span></li>
<li>server push<span class="mojikumi-line-end">ï¼š</span>ä¸€ä¸ª request å¯ä»¥æœ‰å¤šä¸ª response<span class="mojikumi-line-end">ï¼Œ</span>å³é™¤äº†å¯¹åº”äº request çš„ response<span class="mojikumi-line-end">ï¼Œ</span>server è¿˜å¯ä»¥é¢å¤– <i>push</i><span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚åœ¨è¿”å›ä¸€ä¸ª HTML é¡µé¢æ—¶å¯ä»¥ push è¿™ä¸ªé¡µé¢å¼•ç”¨çš„å…¶ä»–èµ„æº<span class="mojikumi-line-end">ã€‚</span></li>
</ul>
<p>HTTP/3 ä½¿ç”¨åŸºäº UDP çš„ QUIC ä»£æ›¿äº† TCP<span class="mojikumi-line-end">ã€‚</span></p>
<h2 id="electronic-mail-in-the-internet" class="heading"><a href="#electronic-mail-in-the-internet" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Electronic Mail in the Internet" tabindex="-1"></a><span>Electronic Mail in the Internet</span></h2>
<p>e-mail ç³»ç»Ÿæœ‰ä¸‰ä¸ªä¸»è¦ç»„ä»¶<span class="mojikumi-line-end">ï¼š</span>user agent<span class="mojikumi-line-end">ã€</span>mail server å’Œ SMTP (Simple Mail Transfer Protocol)<span class="mojikumi-line-end">ã€‚</span></p>
<p>å‘é€é‚®ä»¶æ—¶<span class="mojikumi-line-end">ï¼Œ</span>Alice å†™å®Œé‚®ä»¶åç”±å¥¹çš„ user agent å‘é€åˆ°å¥¹çš„ mail server<span class="mojikumi-line-end">ï¼Œ</span>å¥¹çš„ mail server å†å‘åˆ° Bob çš„ mail server ä¸­å±äº Bob çš„ mailbox<span class="mojikumi-line-end">ï¼Œ</span>ä¹‹å Bob å†é€šè¿‡ä»–çš„ user agent ä»ä»–çš„ mail server è·å–ä»–çš„ mailbox ä¸­çš„é‚®ä»¶å¹¶é˜…è¯»<span class="mojikumi-line-end">ã€‚</span></p>
<p>å‘é€æ–¹çš„ mail server ä¼šç»´æŠ¤ä¸€ä¸ªå¾…å‘é€é‚®ä»¶åˆ—è¡¨<span class="mojikumi-line-end">ï¼Œ</span>å¦‚æœæ¥æ”¶æ–¹çš„ mail server åœ¨å½“æ—¶ä¸å¯ç”¨<span class="mojikumi-line-end">ï¼Œ</span>åˆ™ä¼šç­‰å¾…ä¸€æ®µæ—¶é—´åå†æ¬¡å°è¯•<span class="mojikumi-line-end">ï¼Œ</span>å¤šæ¬¡å¤±è´¥åˆ™ä¼šé€€å›<span class="mojikumi-line-end">ã€‚</span></p>
<p>mail server ä½¿ç”¨ SMTP å‘å…¶ä»– mail server å‘é€é‚®ä»¶<span class="mojikumi-line-end">ï¼Œ</span>å‘é€æ–¹ä½œä¸º SMTP client<span class="mojikumi-line-end">ï¼Œ</span>æ¥æ”¶æ–¹ä½œä¸º SMTP server<span class="mojikumi-line-end">ã€‚</span></p>
<p>SMTP çš„é»˜è®¤ç«¯å£æ˜¯ 25<span class="mojikumi-line-end">ã€‚</span></p>
<p>SMTP æ˜¯ä¸€ä¸ªæ¯” HTTP è¿˜å¤è€çš„åè®®<span class="mojikumi-line-end">ï¼Œ</span>å¸¦æ¥çš„åæœä¹‹ä¸€æ˜¯å®ƒæ•´ä¸ª message éƒ½åªèƒ½åŒ…å« ASCII<span class="mojikumi-line-end">ã€‚</span></p>
<p>ä¸€æ¬¡ SMTP é€šä¿¡å¦‚ä¸‹æ‰€ç¤º<span class="mojikumi-line-end">ï¼š</span><sup><a href="#user-content-fn-smtp-example" id="user-content-fnref-smtp-example" data-footnote-ref="" aria-describedby="footnote-label">3</a></sup></p>
<section class="code-block relative my-6 shadow" data-v-ad49d235=""><div class="h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex" style="display:none;" data-v-ad49d235=""><h3 class="text-3 text-footer" aria-label="plain text ä»£ç å—" data-v-ad49d235="">plain text</h3><ile-root id="ile-6"><button title="å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copy-button b-footer text-footer" data-v-9288569d=""><span class="i-mdi-content-copy" data-v-9288569d=""></span><span class="sr-only" role="status" data-v-9288569d=""></span></button></ile-root><script></script><script type="module" async="">var s=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var r=(i,a,o)=>new Promise((c,n)=>{var f=t=>{try{_(o.next(t))}catch(e){n(e)}},l=t=>{try{_(o.throw(t))}catch(e){n(e)}},_=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);_((o=o.apply(i,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{b as p}from"/assets/iles.0aa4bab4.js";import"/assets/vendor-vue.8e27fa9d.js";var E=s(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.0aa4bab4.js").then(i=>i.v),["assets/iles.0aa4bab4.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/CopyButton.f3d773d6.js"),["assets/CopyButton.f3d773d6.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default});p(u,v,"ile-6",{},{})});export default E();
</script></div><div class="light:hidden" data-v-ad49d235=""><pre class="shiki dark" style="background-color: #011627" tabindex="0"><samp><span><span style="color: #d6deeb">S: 220 smtp.example.com ESMTP Postfix</span></span>
<span><span style="color: #d6deeb">C: HELO relay.example.org</span></span>
<span><span style="color: #d6deeb">S: 250 Hello relay.example.org, I am glad to meet you</span></span>
<span><span style="color: #d6deeb">C: MAIL FROM:&lt;bob@example.org&gt;</span></span>
<span><span style="color: #d6deeb">S: 250 Ok</span></span>
<span><span style="color: #d6deeb">C: RCPT TO:&lt;alice@example.com&gt;</span></span>
<span><span style="color: #d6deeb">S: 250 Ok</span></span>
<span><span style="color: #d6deeb">C: RCPT TO:&lt;theboss@example.com&gt;</span></span>
<span><span style="color: #d6deeb">S: 250 Ok</span></span>
<span><span style="color: #d6deeb">C: DATA</span></span>
<span><span style="color: #d6deeb">S: 354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;</span></span>
<span><span style="color: #d6deeb">C: From: "Bob Example" &lt;bob@example.org&gt;</span></span>
<span><span style="color: #d6deeb">C: To: "Alice Example" &lt;alice@example.com&gt;</span></span>
<span><span style="color: #d6deeb">C: Cc: theboss@example.com</span></span>
<span><span style="color: #d6deeb">C: Date: Tue, 15 Jan 2008 16:02:43 -0500</span></span>
<span><span style="color: #d6deeb">C: Subject: Test message</span></span>
<span><span style="color: #d6deeb">C:</span></span>
<span><span style="color: #d6deeb">C: Hello Alice.</span></span>
<span><span style="color: #d6deeb">C: This is a test message with 5 header fields and 4 lines in the message body.</span></span>
<span><span style="color: #d6deeb">C: Your friend,</span></span>
<span><span style="color: #d6deeb">C: Bob</span></span>
<span><span style="color: #d6deeb">C: .</span></span>
<span><span style="color: #d6deeb">S: 250 Ok: queued as 12345</span></span>
<span><span style="color: #d6deeb">C: QUIT</span></span>
<span><span style="color: #d6deeb">S: 221 Bye</span></span></samp></pre></div><div class="light:important-block" style="display:none;" data-v-ad49d235=""><pre class="shiki light" style="background-color: #FBFBFB" tabindex="0"><samp><span><span style="color: #403f53">S: 220 smtp.example.com ESMTP Postfix</span></span>
<span><span style="color: #403f53">C: HELO relay.example.org</span></span>
<span><span style="color: #403f53">S: 250 Hello relay.example.org, I am glad to meet you</span></span>
<span><span style="color: #403f53">C: MAIL FROM:&lt;bob@example.org&gt;</span></span>
<span><span style="color: #403f53">S: 250 Ok</span></span>
<span><span style="color: #403f53">C: RCPT TO:&lt;alice@example.com&gt;</span></span>
<span><span style="color: #403f53">S: 250 Ok</span></span>
<span><span style="color: #403f53">C: RCPT TO:&lt;theboss@example.com&gt;</span></span>
<span><span style="color: #403f53">S: 250 Ok</span></span>
<span><span style="color: #403f53">C: DATA</span></span>
<span><span style="color: #403f53">S: 354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;</span></span>
<span><span style="color: #403f53">C: From: "Bob Example" &lt;bob@example.org&gt;</span></span>
<span><span style="color: #403f53">C: To: "Alice Example" &lt;alice@example.com&gt;</span></span>
<span><span style="color: #403f53">C: Cc: theboss@example.com</span></span>
<span><span style="color: #403f53">C: Date: Tue, 15 Jan 2008 16:02:43 -0500</span></span>
<span><span style="color: #403f53">C: Subject: Test message</span></span>
<span><span style="color: #403f53">C:</span></span>
<span><span style="color: #403f53">C: Hello Alice.</span></span>
<span><span style="color: #403f53">C: This is a test message with 5 header fields and 4 lines in the message body.</span></span>
<span><span style="color: #403f53">C: Your friend,</span></span>
<span><span style="color: #403f53">C: Bob</span></span>
<span><span style="color: #403f53">C: .</span></span>
<span><span style="color: #403f53">S: 250 Ok: queued as 12345</span></span>
<span><span style="color: #403f53">C: QUIT</span></span>
<span><span style="color: #403f53">S: 221 Bye</span></span></samp></pre></div></section>
<p>å…¶ä¸­ <code>HELO</code><span class="mojikumi-line-end">ã€</span><code>MAIL FROM</code><span class="mojikumi-line-end">ã€</span><code>RCPT TO</code><span class="mojikumi-line-end">ã€</span><code>DATA</code><span class="mojikumi-line-end">ã€</span><code>QUIT</code> ç­‰æ˜¯ <i>command</i><span class="mojikumi-line-end">ï¼Œ</span>ç”¨æ¥è¿›è¡Œ handshake ç­‰æ“ä½œ<span class="mojikumi-line-end">ã€‚</span>å¦‚æœè¦å‘åŒä¸€ä¸ª mail server è¿ç»­å‘é€å¤šå°é‚®ä»¶<span class="mojikumi-line-end">ï¼Œ</span>å¯ä»¥åª <code>HELO</code><span class="mojikumi-line-end">ã€</span><code>QUIT</code> ä¸€æ¬¡<span class="mojikumi-line-start">ï¼ˆ</span>ä½†è¦ <code>MAIL FROM</code><span class="mojikumi-line-end">ã€</span><code>RCPT TO</code> å¤šæ¬¡<span class="mojikumi-line-end">ï¼‰</span>ä»è€Œå…±ç”¨ä¸€ä¸ª TCP è¿æ¥<span class="mojikumi-line-end">ã€‚</span><code>DATA</code> åæ˜¯é‚®ä»¶çš„å†…å®¹<span class="mojikumi-line-end">ï¼Œ</span>è¿™ä¸€å†…å®¹çš„å¼€å¤´æ˜¯é‚®ä»¶çš„ header<span class="mojikumi-line-end">ï¼Œ</span>ç»“å°¾æ˜¯ä»…åŒ…å« <code>.</code> çš„ä¸€è¡Œ<span class="mojikumi-line-end">ã€‚</span></p>
<p>email æ˜¯ user agent â†’ mail server â†’ mail server â†’ user agent è€Œé user agent â†’ user agent<span class="mojikumi-line-end">ï¼Œ</span>ä¸€å¤§åŸå› æ˜¯å¦‚æœ user agent ç»å¸¸ä¸åœ¨çº¿åˆ™ç›´æ¥å‘å¾ˆå¯èƒ½æ”¶ä¸åˆ°é‚®ä»¶<span class="mojikumi-line-end">ï¼Œ</span>éœ€è¦ç”¨ mail server æ¥æé«˜åœ¨çº¿ç‡ä»¥åŠæä¾›å¯¹æ–¹ä¸åœ¨çº¿æ—¶é‡è¯•çš„æœºåˆ¶<span class="mojikumi-line-end">ã€‚</span></p>
<p>ä» user agent å‘åˆ° mail server æ—¶å¯ä»¥ä½¿ç”¨ SMTP æˆ– HTTP<span class="mojikumi-line-end">ï¼Œ</span>ä» mail server æ‹‰å–åˆ° user agent æ—¶å¯ä»¥ä½¿ç”¨ HTTP æˆ– IMAP (Internet Mail Access Protocol)<span class="mojikumi-line-start">ï¼ˆ</span>ä¸èƒ½ç”¨ SMTP<span class="mojikumi-line-end">ï¼Œ</span>å› ä¸º SMTP æ˜¯ push protocol<span class="mojikumi-line-end">ï¼Œ</span>ä¸èƒ½ç”¨æ¥ pull<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ã€‚</span></p>
<h2 id="dns--the-internetâ€™s-directory-service" class="heading"><a href="#dns--the-internetâ€™s-directory-service" class="heading-anchor" aria-label="ç« èŠ‚ï¼š DNSâ€”The Internetâ€™s Directory Service" tabindex="-1"></a><span>DNSâ€”The Internet<span class="mojikumi-narrow-left">â€™</span>s Directory Service</span></h2>
<h3 id="services-provided-by-dns" class="heading"><a href="#services-provided-by-dns" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Services Provided by DNS" tabindex="-1"></a><span>Services Provided by DNS</span></h3>
<p>host ç”± hostname æˆ– IP åœ°å€è¯†åˆ«<span class="mojikumi-line-end">ï¼Œ</span>hostname å¯¹äººç±»æ›´å‹å¥½<span class="mojikumi-line-end">ï¼Œ</span>è€Œ IP åœ°å€å¯¹è·¯ç”±å™¨æ›´å‹å¥½<span class="mojikumi-line-end">ã€‚</span></p>
<p>å°† hostname ç¿»è¯‘ä¸º IP åœ°å€æ˜¯ DNS çš„ä¸»è¦ä»»åŠ¡<span class="mojikumi-line-end">ã€‚</span>DNS æ˜¯ç”±å¤šä¸ªå±‚çº§çš„ DNS server å…±åŒæ„æˆçš„ distributed database<span class="mojikumi-line-end">ï¼Œ</span>ä¹Ÿæ˜¯ä½¿å¾— application èƒ½å¤ŸæŸ¥è¯¢è¿™ä¸ª distributed database çš„ application-layer protocol<span class="mojikumi-line-end">ã€‚</span></p>
<p>DNS è¢«å¾ˆå¤šå…¶ä»– application-layer protocol æ‰€ä½¿ç”¨<span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚åœ¨ HTTP/SMTP ä¸­<span class="mojikumi-line-end">ï¼Œ</span>å¯ä»¥ä½¿ç”¨ hostname æ¥è®¿é—®ç½‘ç«™ / mail server<span class="mojikumi-line-end">ï¼Œ</span>è¿™æ—¶å°±ä¼šè°ƒç”¨ DNS<span class="mojikumi-line-end">ã€‚</span></p>
<p>DNS åœ¨æä¾› hostname åˆ° IP åœ°å€çš„ç¿»è¯‘çš„åŒæ—¶<span class="mojikumi-line-end">ï¼Œ</span>è¿˜æä¾›äº†ä¸‹åˆ—åŠŸèƒ½<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li>host aliasing: å¯ä»¥è®©ä¸€ä¸ª host åœ¨æœ‰ canonical hostname çš„åŒæ—¶è¿˜æœ‰å…¶ä»– alias<span class="mojikumi-line-end">ã€‚</span></li>
<li>mail server aliasing: å¯ä»¥è®©åŒä¸€ä¸ª hostname åœ¨ä½œä¸º Web server å’Œä½œä¸º mail server æ—¶æŒ‡å‘ä¸åŒçš„ host<span class="mojikumi-line-end">ã€‚</span></li>
<li>load distribution: å¯ä»¥è®©åŒä¸€ä¸ª hostname æŒ‡å‘å¤šä¸ª host<span class="mojikumi-line-end">ï¼Œ</span>åœ¨è¿”å›æŸ¥è¯¢ç»“æœæ—¶è¿›è¡Œ rotate<span class="mojikumi-line-start">ï¼ˆ</span>å³æ”¹å˜ä½äºé¦–ä½çš„ IP åœ°å€<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ã€‚</span></li>
</ul>
<h3 id="overview-of-how-dns-works" class="heading"><a href="#overview-of-how-dns-works" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Overview of How DNS Works" tabindex="-1"></a><span>Overview of How DNS Works</span></h3>
<p>ç”±äºä¸‹åˆ—åŸå› <span class="mojikumi-line-end">ï¼Œ</span>DNS å¿…é¡»æ˜¯åˆ†å¸ƒå¼çš„<span class="mojikumi-line-end">ï¼Œ</span>å•ç‚¹å¼çš„ DNS æ— æ³• scale<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li>single point of failure</li>
<li>traffic volume è¿‡å¤§</li>
<li>ç¦»éƒ¨åˆ†ç”¨æˆ·è·ç¦»è¿‡è¿œ<span class="mojikumi-line-end">ï¼Œ</span>å¸¦æ¥è¾ƒå¤§çš„å»¶æ—¶</li>
<li>éš¾ä»¥ç»´æŠ¤<span class="mojikumi-line-start">ï¼ˆ</span>æ•°æ®æ€»é‡å¤§<span class="mojikumi-line-end">ï¼Œ</span>æ›´æ–°é¢‘ç¹<span class="mojikumi-line-end">ï¼‰</span></li>
</ul>
<p>ä¸€èˆ¬æ¥è¯´<span class="mojikumi-line-end">ï¼Œ</span>DNS åˆ†ä¸ºä»¥ä¸‹å‡ å±‚<span class="mojikumi-line-end">ï¼š</span></p>
<ol>
<li>root DNS server: åˆ†æ•£åœ¨ä¸–ç•Œå„åœ°çš„ 13 ä¸ªä¸åŒ root server å„è‡ªçš„å…±ä¸Šåƒä¸ª copy<span class="mojikumi-line-end">ï¼Œ</span>ç”¨æ¥æŸ¥è¯¢ TLD server</li>
<li>top-level domain (TLD) server: æ¯ä¸ª TLD æœ‰è‡ªå·±çš„ TLD server (or server cluster)<span class="mojikumi-line-end">ï¼Œ</span>ç”¨æ¥æŸ¥è¯¢ authoritative DNS server</li>
<li>authoritative DNS server: æ¯ä¸ª subdomain æœ‰è‡ªå·±çš„ authoritative DNS server<span class="mojikumi-line-end">ï¼Œ</span>å¯ä»¥æ˜¯ç»„ç»‡è‡ªå·±ç»´æŠ¤çš„æˆ–è€…ç”±æœåŠ¡å•†æä¾›çš„<span class="mojikumi-line-end">ï¼Œ</span>ç”¨æ¥æŸ¥è¯¢ hostname åˆ° IP åœ°å€çš„æ˜ å°„</li>
</ol>
<p>é™¤æ­¤ä¹‹å¤–<span class="mojikumi-line-end">ï¼Œ</span>TLD server å’Œ authoritative DNS server ä¹‹é—´è¿˜å¯èƒ½æœ‰ intermediate DNS server<span class="mojikumi-line-end">ã€‚</span></p>
<p>åœ¨ä¸Šè¿° DNS server çš„ hierarchy ä¹‹å¤–<span class="mojikumi-line-end">ï¼Œ</span>è¿˜æœ‰ local DNS server<span class="mojikumi-line-start">ï¼ˆ</span>å°±æ˜¯ç”µè„‘çš„ç½‘ç»œè®¾ç½®é‡Œè®¾çš„ DNS æœåŠ¡å™¨<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼Œ</span>ä½œä¸º proxy æ¥ä»£æ›¿ requesting host å‘ DNS server è¿›è¡ŒæŸ¥è¯¢<span class="mojikumi-line-end">ã€‚</span></p>
<p>ä»é€»è¾‘ä¸Šæ¥è¯´<span class="mojikumi-line-end">ï¼Œ</span>å‘ä¸€ä¸ª DNS server è¿›è¡ŒæŸ¥è¯¢æ—¶<span class="mojikumi-line-end">ï¼Œ</span>å¦‚æœå®ƒè‡ªå·±ä¸çŸ¥é“æœ€ç»ˆçš„ answer (IP åœ°å€)<span class="mojikumi-line-end">ï¼Œ</span>å®ƒå¯ä»¥è®©ä½ æ¢ä¸€ä¸ª DNS server ç»§ç»­æŸ¥ (iterative query)<span class="mojikumi-line-end">ï¼Œ</span>æˆ–è€…å¸®ä½ å‘å…¶ä»– DNS server å‘é€æŸ¥è¯¢ (recursive query) ç„¶åè¿”å›æœ€ç»ˆçš„ç»“æœ<span class="mojikumi-line-end">ã€‚</span>è€Œåœ¨å®é™…ä¸­<span class="mojikumi-line-end">ï¼Œ</span>å¦‚ä¸Šæ–‡æ‰€è¿°<span class="mojikumi-line-end">ï¼Œ</span>ä¸€èˆ¬æ˜¯å‘ local DNS server æŸ¥è¯¢æ—¶ä¼šè¿›è¡Œ recursive query<span class="mojikumi-line-end">ï¼Œ</span>è€Œ local DNS server å†ä» root DNS server å‘ä¸‹ç›´åˆ° authoritative DNS server è¿›è¡Œ iterative query<span class="mojikumi-line-end">ã€‚</span></p>
<p>ä¸ºäº†å‡å°‘æŸ¥è¯¢çš„æ•°é‡<span class="mojikumi-line-end">ï¼Œ</span>DNS è®¾æœ‰ caching<span class="mojikumi-line-end">ã€‚</span>æ¯ä¸ªæŸ¥è¯¢çš„å‘èµ·è€…<span class="mojikumi-line-start">ï¼ˆ</span>requesting host æˆ–è€… local DNS server<span class="mojikumi-line-end">ï¼‰</span>ä¼šå°†æ”¶åˆ°çš„æŸ¥è¯¢ç»“æœä¿å­˜ä¸€æ®µæ—¶é—´<span class="mojikumi-line-end">ï¼Œ</span>cache miss æ‰ä¼šå‘å…¶ä»– DNS server å‘èµ·æŸ¥è¯¢<span class="mojikumi-line-end">ã€‚</span>ä¾‹å¦‚<span class="mojikumi-line-end">ï¼Œ</span>å¸¸ç”¨çš„ TLD server çš„ IP åœ°å€å¾€å¾€éƒ½åœ¨ cache ä¸­<span class="mojikumi-line-end">ï¼Œ</span>å¤§å¤§å‡å°‘äº† root DNS server æ”¶åˆ°çš„è¯·æ±‚æ•°é‡<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="dns-records" class="heading"><a href="#dns-records" class="heading-anchor" aria-label="ç« èŠ‚ï¼š DNS Records" tabindex="-1"></a><span>DNS Records</span></h3>
<p>DNS distributed database å­˜å‚¨çš„ä¿¡æ¯å•å…ƒæ˜¯ <i>resource record</i> (RR)<span class="mojikumi-line-end">ã€‚</span></p>
<p>æ¯ä¸ª RR åŒ…å« type<span class="mojikumi-line-end">ã€</span>name<span class="mojikumi-line-end">ã€</span>value<span class="mojikumi-line-end">ã€</span>TTL å››é¡¹ä¿¡æ¯<span class="mojikumi-line-end">ï¼Œ</span>å…¶ä¸­ TTL è¡¨ç¤º cache å¤šä¹…è¿‡æœŸ<span class="mojikumi-line-end">ã€‚</span>å¸¸è§çš„ type åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ª<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li>A: name æ˜¯ hostname<span class="mojikumi-line-end">ï¼Œ</span>value æ˜¯ IP åœ°å€<span class="mojikumi-line-end">ï¼Œ</span>è¡¨ç¤ºä¸€ä¸ª hostname åˆ° IP åœ°å€çš„æ˜ å°„<span class="mojikumi-line-end">ã€‚</span></li>
<li>NS: name æ˜¯ domain<span class="mojikumi-line-end">ï¼Œ</span>value æ˜¯å…¶ name server çš„ hostname<span class="mojikumi-line-end">ï¼Œ</span>è¡¨ç¤ºå¯ä»¥åœ¨è¿™ä¸ª name server è¿›è¡Œè¿™ä¸ª domain çš„è¿›ä¸€æ­¥æŸ¥è¯¢<span class="mojikumi-line-end">ã€‚</span></li>
<li>CNAME: name æ˜¯ alias hostname<span class="mojikumi-line-end">ï¼Œ</span>value æ˜¯ canonical hostname<span class="mojikumi-line-end">ï¼Œ</span>ç”¨æ¥æä¾› host aliasing<span class="mojikumi-line-end">ã€‚</span></li>
<li>MX: name æ˜¯ alias hostname<span class="mojikumi-line-end">ï¼Œ</span>value æ˜¯ canonical hostname<span class="mojikumi-line-end">ï¼Œ</span>ç”¨æ¥æä¾› mail server aliasing<span class="mojikumi-line-end">ã€‚</span></li>
</ul>
<p>å¯¹ä¸€ä¸ª hostname æ¥è¯´ authoritative çš„ DNS server ä¼šåŒ…å«è¢«æŸ¥è¯¢çš„ host çš„ A record<span class="mojikumi-line-end">ã€‚</span>ä¸ authoritative çš„ DNS server åˆ™ä¼šåŒ…å«ç›¸åº”çš„ NS record<span class="mojikumi-line-end">ï¼Œ</span>ä»¥åŠè¿™ä¸ª name server çš„ A record<span class="mojikumi-line-end">ã€‚</span></p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­<span class="mojikumi-line-end">ï¼š</span></p>
<div class="overflow-auto my-6"><table>
<thead>
<tr>
<th align="center">type</th>
<th align="center">name</th>
<th align="center">value</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">NS</td>
<td align="center"><code>.</code></td>
<td align="center"><code>a<wbr>.<wbr>root<wbr>-<wbr>servers<wbr>.<wbr>net<wbr>.</code></td>
</tr>
<tr>
<td align="center">A</td>
<td align="center"><code>a<wbr>.<wbr>root<wbr>-<wbr>servers<wbr>.<wbr>net<wbr>.</code></td>
<td align="center"><code>198.41.0.4</code></td>
</tr>
<tr>
<td align="center">NS</td>
<td align="center"><code>moe.</code></td>
<td align="center"><code>ns1<wbr>.<wbr>dns<wbr>.<wbr>nic<wbr>.<wbr>moe<wbr>.</code></td>
</tr>
<tr>
<td align="center">A</td>
<td align="center"><code>ns1<wbr>.<wbr>dns<wbr>.<wbr>nic<wbr>.<wbr>moe<wbr>.</code></td>
<td align="center"><code>156<wbr>.<wbr>154<wbr>.<wbr>144<wbr>.<wbr>114</code></td>
</tr>
<tr>
<td align="center">NS</td>
<td align="center"><code>ouuan.moe.</code></td>
<td align="center"><code>amos<wbr>.<wbr>ns<wbr>.<wbr>cloudflare<wbr>.<wbr>com<wbr>.</code></td>
</tr>
<tr>
<td align="center">A</td>
<td align="center"><code>amos<wbr>.<wbr>ns<wbr>.<wbr>cloudflare<wbr>.<wbr>com<wbr>.</code></td>
<td align="center"><code>172<wbr>.<wbr>64<wbr>.<wbr>35<wbr>.<wbr>120</code></td>
</tr>
<tr>
<td align="center">A</td>
<td align="center"><code>ouuan.moe.</code></td>
<td align="center"><code>172<wbr>.<wbr>67<wbr>.<wbr>181<wbr>.<wbr>123</code></td>
</tr>
</tbody>
</table></div>
<p>åœ¨ registar è´­ä¹°åŸŸåæ—¶å¯ä»¥å¡«å†™ name server çš„ä¿¡æ¯<span class="mojikumi-line-end">ï¼Œ</span>ç”± registar è´Ÿè´£å°†ç›¸åº”çš„ NS ä»¥åŠ A record æ·»åŠ åˆ° TLD server<span class="mojikumi-line-end">ã€‚</span>å¯ä»¥ä½¿ç”¨åŸŸåå•†çš„ DNS server<span class="mojikumi-line-end">ã€</span>å…¶ä»–æœåŠ¡å•†<span class="mojikumi-line-start">ï¼ˆ</span>ä¾‹å¦‚ Cloudflare<span class="mojikumi-line-end">ï¼‰</span>çš„ DNS server æˆ–è€…è‡ªå·±æ­å»ºçš„ DNS server ä½œä¸º authoritative DNS server<span class="mojikumi-line-end">ã€‚</span></p>
<p>DNS æœ€åˆåªèƒ½é™æ€æ›´æ–°<span class="mojikumi-line-start">ï¼ˆ</span>é€šè¿‡é…ç½®æ–‡ä»¶ç­‰æ–¹å¼<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼Œ</span>åæ¥æœ‰äº† DDNS æ¥é€šè¿‡ DNS message åŠ¨æ€æ›´æ–°<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="dns-messages" class="heading"><a href="#dns-messages" class="heading-anchor" aria-label="ç« èŠ‚ï¼š DNS Messages" tabindex="-1"></a><span>DNS Messages</span></h3>
<p>DNS message é€šè¿‡ UDP å‘é€åˆ° port 53<span class="mojikumi-line-end">ã€‚</span></p>
<p>DNS message çš„ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤º<span class="mojikumi-line-end">ï¼š</span><sup><a href="#user-content-fn-fig-2.21" id="user-content-fnref-fig-2.21" data-footnote-ref="" aria-describedby="footnote-label">4</a></sup></p>
<p><picture><source type="image/webp" srcset="/assets/cnatda-fig-2.21.b9121041.webp"><img srcset="/assets/cnatda-fig-2.21.8f9be477.png" loading="lazy" src="/assets/cnatda-fig-2.21.8f9be477.png" width="1349" height="804" alt="DNS message format"></picture></p>
<p>identification ç”± client è®¾ç½®<span class="mojikumi-line-end">ï¼Œ</span>å³ç”¨æ¥è¯†åˆ« query å’Œ reply å¯¹åº”å…³ç³»çš„ ID<span class="mojikumi-line-end">ã€‚</span></p>
<p>flags åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ª<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li>query or reply: è¿™æ¡ message æ˜¯ query è¿˜æ˜¯ reply</li>
<li>authoritative or not: è¿”å›çš„ç»“æœæ˜¯å¦æ˜¯æœ€ç»ˆçš„ç­”æ¡ˆ</li>
<li>recursion desired: client æ˜¯å¦å¸Œæœ› server è¿›è¡Œ recursive query</li>
<li>recursion available: server æ˜¯å¦å¯ä»¥è¿›è¡Œ recursive query</li>
</ul>
<p>4 ä¸ª section ä¸­éƒ½åŒ…å«è‹¥å¹² RR<span class="mojikumi-line-end">ã€‚</span></p>
<p>åœ¨ query ä¸­<span class="mojikumi-line-end">ï¼Œ</span>question section é‡Œä¼šåŒ…å« name å’Œ type<span class="mojikumi-line-end">ã€‚</span></p>
<p>å¯¹äº type A çš„æŸ¥è¯¢<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li>å¦‚æœ reply æ˜¯ authoritative çš„<span class="mojikumi-line-start">ï¼ˆ</span>å‘ authoritative DNS server æŸ¥è¯¢<span class="mojikumi-line-end">ï¼Œ</span>æˆ–è€…è¿›è¡Œäº† recursive query<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼Œ</span>åˆ™ä¼šåœ¨ answer section ä¸­åˆ—å‡ºæ‰€æŸ¥è¯¢çš„ A record<span class="mojikumi-line-end">ã€‚</span></li>
<li>å¦‚æœä¸æ˜¯ authoritative çš„<span class="mojikumi-line-end">ï¼Œ</span>åˆ™ä¼šåœ¨ authority section ä¸­åˆ—å‡º NS record<span class="mojikumi-line-end">ï¼Œ</span>åœ¨ additional section ä¸­åˆ—å‡ºè¿™äº› name server çš„ A record<span class="mojikumi-line-end">ã€‚</span></li>
</ul>
<p>åœ¨ additional section ä¸­<span class="mojikumi-line-end">ï¼Œ</span>è¿˜å¯èƒ½åˆ—å‡º canonical hostname çš„ A record ä¹‹ç±»çš„<span class="mojikumi-line-end">ã€‚</span></p>
<h2 id="peer-to-peer-file-distribution" class="heading"><a href="#peer-to-peer-file-distribution" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Peer-to-Peer File Distribution" tabindex="-1"></a><span>Peer-to-Peer File Distribution</span></h2>
<p>åœ¨ä¼ è¾“å¤§æ–‡ä»¶æ—¶<span class="mojikumi-line-end">ï¼Œ</span>client-server çš„æ¶æ„åœ¨ç”¨æˆ·æ•°é‡å¢å¤šæ—¶éœ€è¦æ›´å¤§çš„ server bandwidth æ‰èƒ½ä¿è¯ç”¨æˆ·çš„ä¸‹è½½é€Ÿåº¦<span class="mojikumi-line-end">ï¼Œ</span>è€Œ P2P çš„æ¶æ„åˆ™æ˜¯ self-scalable çš„<span class="mojikumi">ã€‚</span><wbr><span class="mojikumi-line-start">ï¼ˆ</span>ä¹¦ä¸­æœ‰ç®€åŒ–æ¨¡å‹çš„å®šé‡è®¡ç®—<span class="mojikumi">ã€‚</span><span class="mojikumi-line-end">ï¼‰</span></p>
<p>BitTorrent æ˜¯è¾ƒä¸ºæµè¡Œçš„ P2P file distribution protocol<span class="mojikumi-line-end">ã€‚</span>åœ¨ BitTorrent ä¸­<span class="mojikumi-line-end">ï¼Œ</span>ä»¥ chunk ä¸ºä¸‹è½½æ–‡ä»¶çš„åŸºæœ¬å•ä½<span class="mojikumi-line-end">ã€‚</span>ä¸€ä¸ª peer åˆšåŠ å…¥ torrent æ—¶æ²¡æœ‰ trunk æ‰€ä»¥åªèƒ½ä¸‹è½½<span class="mojikumi-line-end">ï¼Œ</span>åœ¨è·å–åˆ°ä¸€äº› trunk åå°±ä¼šå¼€å§‹ä¸Šä¼ ç»™å…¶ä»– peer<span class="mojikumi-line-end">ï¼Œ</span>ä¸‹è½½å®Œæˆåå¯ä»¥è‡ªç§åœ°ç¦»å¼€æˆ–è€…æ— ç§åœ°ä¿ç§<span class="mojikumi-line-end">ã€‚</span></p>
<p>æ¯ä¸ª torrent ä¼šæœ‰<span class="mojikumi-line-start">ï¼ˆ</span>è‡³å°‘<span class="mojikumi-line-end">ï¼‰</span>ä¸€ä¸ª tracker<span class="mojikumi-line-end">ï¼Œ</span>peer åœ¨åŠ å…¥/ç¦»å¼€æ—¶ä¼šé€šçŸ¥ tracker<span class="mojikumi-line-end">ï¼Œ</span>å¹¶åœ¨è¿‡ç¨‹ä¸­å®šæœŸå‘ŠçŸ¥ tracker è‡ªå·±ä»åœ¨æ´»åŠ¨<span class="mojikumi-line-end">ã€‚</span>tracker ä¼šç»™æ¯ä¸ª peer æä¾›ä¸€äº›å…¶ä»– peer çš„ IP åœ°å€å’Œç«¯å£<span class="mojikumi-line-end">ã€‚</span></p>
<p>åœ¨ä¸‹è½½è¿‡ç¨‹ä¸­<span class="mojikumi-line-end">ï¼Œ</span>æ¯ä¸ª peer æ‹¥æœ‰ä¸€éƒ¨åˆ† chunk<span class="mojikumi-line-end">ï¼Œ</span>å¹¶å‘å…¶ä»– peer è¯·æ±‚ chunk<span class="mojikumi-line-end">ã€‚</span>æ¯ä¸ª peer éœ€è¦å†³å®šä¼˜å…ˆä¸‹è½½å“ªä¸ª trunk ä»¥åŠä¸Šä¼ ç»™è°<span class="mojikumi-line-end">ã€‚</span></p>
<p>ä¼˜å…ˆä¸‹è½½çš„ trunk å¯ä»¥é‡‡ç”¨ <i>rarest first</i> çš„ç­–ç•¥<span class="mojikumi-line-end">ï¼Œ</span>å³ä¼˜å…ˆä¸‹è½½å·²çŸ¥çš„ peer ä¸­æ‹¥æœ‰äººæ•°æœ€å°‘çš„ chunk<span class="mojikumi-line-end">ï¼Œ</span>è¿™æ ·çš„è¯å°±èƒ½ä½¿å¾—å„ä¸ª trunk è¾ƒä¸ºå‡åŒ€åœ°åœ¨ peer é—´åˆ†å¸ƒ<span class="mojikumi-line-end">ã€‚</span></p>
<p>åœ¨ä¸‹è½½è¿‡ç¨‹ä¸­<span class="mojikumi-line-end">ï¼Œ</span>ä¼šé‡‡ç”¨è¢«ç§°ä½œ<span class="mojikumi-line-start">â€œ</span>tit-for-tat<span class="mojikumi-line-end">â€</span>çš„ç­–ç•¥å†³å®šä¸Šä¼ ç»™è°<span class="mojikumi-line-end">ï¼š</span>ä¸Šä¼ ç»™è‡ªå·±<span class="mojikumi-line-start">ï¼ˆ</span>å³ä»ä»–é‚£ä¸‹è½½<span class="mojikumi-line-end">ï¼‰</span>çš„é€Ÿåº¦æœ€å¿«çš„å‡ ä¸ª peer è¢«ç§°ä½œ<span class="mojikumi-line-start">â€œ</span>unchoked<span class="mojikumi">â€</span><span class="mojikumi-line-end">ï¼Œ</span>é™¤æ­¤ä¹‹å¤–è¿˜ä¼šæ¯éš”ä¸€æ®µæ—¶é—´éšæœºé€‰æ‹©ä¸€ä¸ª peer è¢«ç§°ä½œ<span class="mojikumi-line-start">â€œ</span>optimistically unchoked<span class="mojikumi">â€</span><span class="mojikumi-line-end">ï¼Œ</span>æœ€ååšå‡ºçš„é€‰æ‹©å°±æ˜¯ä¸Šä¼ ç»™<span class="mojikumi-line-start">â€œ</span>unchoked<span class="mojikumi-line-end">â€</span>å’Œ<span class="mojikumi-line-start">â€œ</span>optimistically unchoked<span class="mojikumi-line-end">â€</span>çš„è¿™äº› peer<span class="mojikumi-line-end">ã€‚</span>è¿™ä¸ªç­–ç•¥å®é™…ä¸Šå¯ä»¥è¢«ç»•è¿‡<span class="mojikumi-line-end">ï¼Œ</span>ä½†ä¸è¢«ç»•è¿‡æ—¶å®ƒæä¾›äº†ä¸€ä¸ªæ¿€åŠ±å¤§å®¶ä¸Šä¼ çš„æœºåˆ¶<span class="mojikumi">ã€‚</span><wbr><span class="mojikumi-line-start">ï¼ˆ</span>æ³¨<span class="mojikumi-line-end">ï¼š</span>åœ¨ä¸‹è½½å®Œæ¯•åä¿ç§æ—¶<span class="mojikumi-line-end">ï¼Œ</span>ä¼šä½¿ç”¨å¦å¤–çš„ç­–ç•¥<span class="mojikumi-line-end">ã€‚</span><sup><a href="#user-content-fn-seed-choking" id="user-content-fnref-seed-choking" data-footnote-ref="" aria-describedby="footnote-label">5</a></sup><span class="mojikumi-line-end">ï¼‰</span></p>
<p>é™¤äº†é€šè¿‡ tracker<span class="mojikumi-line-end">ï¼Œ</span>è¿˜å¯ä»¥é€šè¿‡ Distributed Hash Table (DHT<span class="mojikumi-line-end">ï¼Œ</span>ä¸€ç§ P2P æ¶æ„çš„ distributed database) æ¥è·å– peer<span class="mojikumi-line-end">ã€‚</span></p>
<h2 id="video-streaming-and-content-distribution-networks" class="heading"><a href="#video-streaming-and-content-distribution-networks" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Video Streaming and Content Distribution Networks" tabindex="-1"></a><span>Video Streaming and Content Distribution Networks</span></h2>
<h3 id="http-streaming-and-dash" class="heading"><a href="#http-streaming-and-dash" class="heading-anchor" aria-label="ç« èŠ‚ï¼š HTTP Streaming and DASH" tabindex="-1"></a><span>HTTP Streaming and DASH</span></h3>
<p>è§†é¢‘éœ€è¦è€—è´¹å¤§é‡çš„æµé‡<span class="mojikumi-line-start">ï¼ˆ</span>ä»¥åŠå­˜å‚¨ç©ºé—´<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼Œ</span>è€Œ streaming æ—¶éœ€è¦ä¿è¯è‡³å°‘æœ‰è§†é¢‘ bitrate è¿™ä¹ˆå¤šçš„å¸¦å®½æ‰èƒ½é¿å…å¡é¡¿<span class="mojikumi-line-end">ï¼Œ</span>æ‰€ä»¥ä¸€èˆ¬ä¼šæ ¹æ®å¯ç”¨çš„å¸¦å®½é€‰æ‹©ä¸åŒè´¨é‡çš„è§†é¢‘ç‰ˆæœ¬<span class="mojikumi-line-end">ã€‚</span></p>
<p>æœ€åŸºç¡€çš„ streaming æ–¹å¼æ˜¯ HTTP streaming<span class="mojikumi-line-end">ï¼Œ</span>å³é€šè¿‡ HTTP GET è·å–è§†é¢‘æ–‡ä»¶è‡³ç¼“å†²åŒºå¹¶æ’­æ”¾<span class="mojikumi-line-end">ï¼Œ</span>ä½†è¿™æ ·æ— æ³•é€‚åº”ä¸åŒç”¨æˆ·çš„ä¸åŒå¸¦å®½<span class="mojikumi-line-end">ï¼Œ</span>æ›´æ— æ³•é€‚åº”åŒä¸€ä¸ªç”¨æˆ·éšæ—¶é—´å˜åŒ–çš„å¸¦å®½<span class="mojikumi-line-end">ã€‚</span></p>
<p>åœ¨ Dynamic Adaptive Streaming over HTTP (DASH) ä¸­<span class="mojikumi-line-end">ï¼Œ</span>è§†é¢‘è¢«ç¼–ç ä¸ºå¤šä¸ªä¸åŒè´¨é‡çš„ç‰ˆæœ¬<span class="mojikumi-line-end">ï¼Œ</span>client æ¯æ¬¡è·å–ä¸€ä¸ªå‡ ç§’çš„è§†é¢‘ç‰‡æ®µ<span class="mojikumi-line-end">ï¼Œ</span>å¹¶æ ¹æ®å¯ç”¨å¸¦å®½åŠ¨æ€è°ƒæ•´é€‰æ‹©çš„ç‰ˆæœ¬<span class="mojikumi-line-end">ã€‚</span></p>
<p>åœ¨å¼€å§‹æ’­æ”¾ä¹‹å‰<span class="mojikumi-line-end">ï¼Œ</span>client é¦–å…ˆä¼šè·å– manifest file æ¥å¾—åˆ°å„ä¸ªè§†é¢‘ç‰ˆæœ¬çš„ URL ä»¥åŠ bitrate<span class="mojikumi-line-end">ã€‚</span>åœ¨æ’­æ”¾è¿‡ç¨‹ä¸­<span class="mojikumi-line-end">ï¼Œ</span>é€šè¿‡ HTTP GET è¯·æ±‚ä»¥åŠ byte range header è·å–è§†é¢‘ç‰‡æ®µ<span class="mojikumi-line-end">ï¼Œ</span>åŒæ—¶è®¡ç®—å¯ç”¨å¸¦å®½<span class="mojikumi-line-end">ï¼Œ</span>å†³å®šæ¥ä¸‹æ¥é€‰æ‹©çš„è§†é¢‘ç‰ˆæœ¬<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="content-distribution-networks" class="heading"><a href="#content-distribution-networks" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Content Distribution Networks" tabindex="-1"></a><span>Content Distribution Networks</span></h3>
<p>å’Œ DNS ç±»ä¼¼<span class="mojikumi-line-end">ï¼Œ</span>video streaming å¾€å¾€ä¹Ÿä¸èƒ½ä»…é€šè¿‡å•ä¸ª data center å®ç°<span class="mojikumi-line-end">ï¼Œ</span>å› ä¸º<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li>ç¦»éƒ¨åˆ†ç”¨æˆ·è¿‡è¿œ<span class="mojikumi-line-end">ï¼Œ</span>è™½ç„¶ streaming å¯¹å»¶æ—¶è¦æ±‚ä¸é«˜<span class="mojikumi-line-end">ï¼Œ</span>ä½†æ›´å¤šçš„ communication link å¾ˆå¯èƒ½æ„å‘³ç€æ›´ä½çš„ bottleneck bandwidth<span class="mojikumi-line-end">ã€‚</span></li>
<li>åŒä¸€ä¸ªè§†é¢‘ä¼šåœ¨åŒä¸€ä¸ª communication link ä¸Šè¢«ä¼ è¾“å¤šæ¬¡<span class="mojikumi-line-end">ï¼Œ</span>é€ æˆç½‘ç»œèµ„æºä»¥åŠèµ„è´¹çš„æµªè´¹<span class="mojikumi-line-end">ã€‚</span></li>
<li>single point of failure</li>
</ul>
<p>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜<span class="mojikumi-line-end">ï¼Œ</span>video-streaming company å¾€å¾€ä¼šä½¿ç”¨ Content Distribution Networks (CDN) æ¥åˆ†å‘è§†é¢‘<span class="mojikumi-line-end">ã€‚</span></p>
<p>CDN ä¼šåœ¨å…¨çƒå„åœ°æ”¾ç½® server (cluster)<span class="mojikumi-line-end">ï¼Œ</span>åœ¨æ¯ä¸ªèŠ‚ç‚¹å­˜æ”¾ä¸€ä»½ content çš„ copy<span class="mojikumi-line-end">ï¼Œ</span>åœ¨å¤„ç† user request æ—¶å°½é‡ç”±æœ€å¥½<span class="mojikumi-line-start">ï¼ˆ</span>æœ€è¿‘<span class="mojikumi-line-end">ï¼‰</span>çš„èŠ‚ç‚¹è´Ÿè´£å“åº”<span class="mojikumi-line-end">ã€‚</span></p>
<p>CDN å¯ä»¥æ˜¯ private CDN<span class="mojikumi-line-start">ï¼ˆ</span>ä¾‹å¦‚ Google çš„ CDN<span class="mojikumi-line-end">ï¼‰</span>æˆ–è€… third-party CDN<span class="mojikumi-line-start">ï¼ˆ</span>ä¾‹å¦‚ Akamai<span class="mojikumi-line-end">ã€</span>Limelight<span class="mojikumi-line-end">ã€</span>Level-3<span class="mojikumi-line-end">ï¼Œ</span><s>ä¹¦ä¸­ç«Ÿç„¶æ²¡æåˆ° Cloudflare</s><span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ã€‚</span></p>
<p>CDN é€šå¸¸æœ‰ä¸¤ç§æ”¾ç½®ç­–ç•¥<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li>Enter Deep: æ”¾åœ¨ access ISP<span class="mojikumi-line-end">ï¼Œ</span>cluster æ•°é‡å¤š<span class="mojikumi-line-end">ï¼Œ</span>æ€§èƒ½æ›´å¥½<span class="mojikumi-line-end">ï¼Œ</span>ç»´æŠ¤æˆæœ¬æ›´é«˜<span class="mojikumi-line-end">ã€‚</span></li>
<li>Bring Home: æ”¾åœ¨ IXP<span class="mojikumi-line-end">ï¼Œ</span>cluster æ•°é‡å°‘<span class="mojikumi-line-end">ï¼Œ</span>ç»´æŠ¤æˆæœ¬æ›´ä½<span class="mojikumi-line-end">ï¼Œ</span>æ€§èƒ½ç›¸å¯¹å·®<span class="mojikumi-line-end">ã€‚</span></li>
</ul>
<p>CDN çš„æ›´æ–°æœ‰ push å’Œ pull ä¸¤ç§æ–¹å¼<span class="mojikumi-line-end">ï¼Œ</span>push å°±æ˜¯å†…å®¹æ›´æ–°æ—¶ push åˆ°å„ä¸ª cluster<span class="mojikumi-line-end">ï¼Œ</span>pull åˆ™ä¸ cache ç±»ä¼¼<span class="mojikumi-line-end">ï¼Œ</span>åœ¨ cache miss æ—¶å†ä»ä¸Šæ¸¸è·å–å¹¶<span class="mojikumi-line-start">ï¼ˆ</span>åœ¨ stream ç»™ç”¨æˆ·çš„åŒæ—¶<span class="mojikumi-line-end">ï¼‰</span>ä¿å­˜ä¸‹æ¥<span class="mojikumi-line-end">ã€‚</span></p>
<p>å°†ç”¨æˆ·é‡å®šå‘åˆ° CDN èŠ‚ç‚¹çš„ä¸€ç§æ–¹å¼æ˜¯é€šè¿‡ DNS<span class="mojikumi-line-end">ï¼š</span>authoritative DNS server è¿”å› CDN çš„ DNS server çš„ NS record<span class="mojikumi-line-end">ï¼Œ</span>ç„¶åå†ç”± CDN çš„ DNS server è¿›è¡ŒèŠ‚ç‚¹é€‰æ‹©å¹¶è¿”å›èŠ‚ç‚¹çš„ IP åœ°å€<span class="mojikumi-line-end">ã€‚</span></p>
<p><span class="mojikumi-line-start">ï¼ˆ</span>åŸºäº DNS è¿›è¡Œ CDN é‡å®šå‘æ—¶<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼Œ</span>é€‰æ‹©èŠ‚ç‚¹çš„ä¸¤ç§æ–¹å¼æ˜¯<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li>
<p>geographically closest: ç”± local DNS server çš„ IP ç¡®å®šåœ°ç†ä½ç½®<span class="mojikumi-line-end">ï¼Œ</span>ç„¶åé€‰æ‹©æœ€è¿‘çš„èŠ‚ç‚¹<span class="mojikumi-line-end">ã€‚</span>è¿™æ ·åšçš„ä¸»è¦é—®é¢˜åœ¨äº<span class="mojikumi-line-end">ï¼Œ</span>åœ°ç†ä½ç½®è¿‘ä¸ä¸€å®šæ„å‘³ç€ç½‘ç»œè·ç¦»è¿‘/å¸¦å®½é«˜<span class="mojikumi-line-end">ï¼Œ</span>å¹¶ä¸” local DNS server æœ‰å¯èƒ½ç¦»ç”¨æˆ·å¾ˆè¿œ<span class="mojikumi-line-end">ã€‚</span></p>
</li>
<li>
<p>real-time measurements: å¯ä»¥æ¯éš”ä¸€æ®µæ—¶é—´å‘å„ä¸ª local DNS server å‘é€æ¢æµ‹ä¿¡å·æ¥æ£€æµ‹ç½‘ç»œæ€§èƒ½<span class="mojikumi-line-end">ï¼Œ</span>è¿™æ ·åšçš„ä¸»è¦é—®é¢˜åœ¨äº DNS server å¯èƒ½ä¼šæ‹’ç»å“åº”è¿™æ ·çš„æ¢æµ‹<span class="mojikumi-line-end">ã€‚</span></p>
</li>
</ul>
<h3 id="case-studies-netflix-and-youtube" class="heading"><a href="#case-studies-netflix-and-youtube" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Case Studies: Netflix and YouTube" tabindex="-1"></a><span>Case Studies: Netflix and YouTube</span></h3>
<p>Netflix å’Œ YouTube éƒ½æ˜¯å¤§å‹ video streaming æœåŠ¡å•†<span class="mojikumi-line-end">ï¼Œ</span>ä½†å®ƒä»¬çš„æ¶æ„æœ‰å¾ˆå¤§ä¸åŒ<span class="mojikumi-line-end">ï¼Œ</span>è¿™å¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯ç”±äºå®ƒä»¬è§†é¢‘ç±»å‹çš„ä¸åŒ<span class="mojikumi-line-start">ï¼ˆ</span>å‰§ vs UGC<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ã€‚</span></p>
<h4 id="netflix" class="heading"><a href="#netflix" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Netflix" tabindex="-1"></a><span>Netflix</span></h4>
<p>Netflix ä½¿ç”¨ Amazon cloud è¿è¡Œ Web server ä»¥åŠè§†é¢‘å¤„ç†<span class="mojikumi-line-end">ï¼Œ</span>è€Œä½¿ç”¨ç§æœ‰çš„ CDN åˆ†å‘è§†é¢‘<span class="mojikumi-line-end">ã€‚</span></p>
<p>Netflix çš„ç§æœ‰ CDN cluster å®‰è£…åœ¨ ISP å’Œ IXP ä¸­<span class="mojikumi-line-end">ï¼Œ</span>å…¶ä¸­ IXP çš„ cluster å¾€å¾€å®¹é‡è¾ƒå¤§<span class="mojikumi-line-end">ï¼Œ</span>å¯ä»¥è£…ä¸‹æ•´ä¸ª Netflix çš„æ‰€æœ‰è§†é¢‘çš„å„ä¸ªç‰ˆæœ¬<span class="mojikumi-line-end">ï¼Œ</span>è€Œ ISP çš„ cluster å¾€å¾€å®¹é‡è¾ƒå°<span class="mojikumi-line-end">ï¼Œ</span>åªå­˜æ”¾æœ€çƒ­é—¨çš„è§†é¢‘<span class="mojikumi-line-end">ã€‚</span></p>
<p>Netflix ä¸ä½¿ç”¨ pull-caching<span class="mojikumi-line-end">ï¼Œ</span>è€Œæ˜¯åœ¨æ¯å¤©çš„ä½å³°æœŸé‡‡ç”¨ push è¿›è¡Œæ›´æ–°<span class="mojikumi-line-end">ã€‚</span></p>
<p>å› ä¸º Netflix çš„ç§æœ‰ CDN åªè´Ÿè´£åˆ†å‘è§†é¢‘<span class="mojikumi-line-end">ï¼Œ</span>å®ƒä¸éœ€è¦ä½¿ç”¨ DNS redirect<span class="mojikumi-line-end">ï¼Œ</span>ç›´æ¥ç”± Web server å‘Šè¯‰ client IP åœ°å€å³å¯<span class="mojikumi-line-end">ã€‚</span></p>
<h4 id="youtube" class="heading"><a href="#youtube" class="heading-anchor" aria-label="ç« èŠ‚ï¼š YouTube" tabindex="-1"></a><span>YouTube</span></h4>
<a id="google-çš„-network-infrastructure" name="google-çš„-network-infrastructure" aria-hidden="true"></a>
<aside role="note" data-v-a2ab257f=""><div class="shadow-md rd-1 b-l-6 my-6 bg-blue-1 dark:bg-blue-9 b-blue" data-v-a2ab257f=""><div class="p-3 flex justify-between items-center" data-v-a2ab257f=""><h5 class="flex items-center gap-1 font-bold" data-v-a2ab257f=""><span class="text-5 i-mdi-pencil text-blue" data-v-a2ab257f=""></span><span class="sr-only" data-v-a2ab257f="">Note: </span><span data-v-a2ab257f="">Google çš„ network infrastructure</span></h5><!--v-if--></div><div class="overflow-auto rd-br-1 bg-card px-6 dark:bg-bghover" data-v-a2ab257f=""><p>Google éƒ¨ç½²äº†ä¸€ä¸ªåºå¤§çš„ private network and CDN infrastructure<span class="mojikumi-line-end">ï¼Œ</span>åŒ…å«ä»¥ä¸‹ä¸‰çº§ server clusters<span class="mojikumi-line-end">ï¼š</span></p><ol>
<li>çº¦ 20 ä¸ª<span class="mojikumi-line-start">â€œ</span>mega data center<span class="mojikumi">â€</span><span class="mojikumi-line-end">ï¼Œ</span>åˆ†å¸ƒåœ¨åŒ—ç¾<span class="mojikumi-line-end">ã€</span>æ¬§æ´²å’Œäºšæ´²<span class="mojikumi-line-end">ï¼Œ</span>æ¯ä¸ª cluster æœ‰æ•°åä¸‡æœåŠ¡å™¨<span class="mojikumi-line-end">ï¼Œ</span>ç”¨æ¥ serve dynamic content<span class="mojikumi-line-end">ã€‚</span></li>
<li>çº¦ 90 ä¸ªéƒ¨ç½²åœ¨ IXP çš„ cluster<span class="mojikumi-line-end">ï¼Œ</span>æ¯ä¸ª cluster æœ‰æ•°ç™¾ä¸ªæœåŠ¡å™¨<span class="mojikumi-line-end">ï¼Œ</span>ç”¨æ¥ serve åŒ…æ‹¬ YouTube è§†é¢‘åœ¨å†…çš„ static content<span class="mojikumi-line-end">ã€‚</span></li>
<li>æ•°ç™¾ä¸ªéƒ¨ç½²åœ¨ access ISP çš„ cluster<span class="mojikumi-line-end">ï¼Œ</span>æ¯ä¸ª cluster æœ‰æ•°åä¸ªæœåŠ¡å™¨<span class="mojikumi-line-end">ï¼Œ</span>ç”¨æ¥è¿›è¡Œ TCP splitting ä»¥åŠ server static content<span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚ç½‘é¡µä¸Šçš„é™æ€èµ„æº<span class="mojikumi-line-end">ã€‚</span></li>
</ol><p>åœ¨è®¿é—® Google çš„æœåŠ¡æ—¶<span class="mojikumi-line-end">ï¼Œ</span>ä¸åŒå†…å®¹å¾€å¾€ä¼šæ¥è‡ªä¸åŒå±‚çº§çš„ cluster<span class="mojikumi-line-end">ã€‚</span></p><p>è¿™äº› cluster é€šè¿‡ Google çš„ private network è¿æ¥<span class="mojikumi-line-end">ï¼Œ</span>ä½¿å¾—å®ƒä»¬ä¹‹é—´çš„å¾ˆå¤šé€šä¿¡éƒ½ä¸ä¾èµ–äº public Internet<span class="mojikumi-line-end">ï¼Œ</span>ä¸ç”¨æˆ·çš„é€šä¿¡ä¹Ÿå¾€å¾€åªæ¶‰åŠåˆ° access ISP è¿™ä¸€å±‚<span class="mojikumi-line-end">ã€‚</span></p></div></div></aside>
<p>YouTube ä½¿ç”¨ Google çš„ç§æœ‰ CDN åˆ†å‘è§†é¢‘<span class="mojikumi-line-end">ï¼Œ</span>å¹¶ä¸”ä½¿ç”¨ pull-caching å’Œ DNS redirect<span class="mojikumi-line-end">ã€‚</span>åœ¨é€‰æ‹©èŠ‚ç‚¹æ—¶<span class="mojikumi-line-end">ï¼Œ</span>ä¼šç»¼åˆè€ƒè™‘ client åˆ° cluster çš„ RTT ä»¥åŠè´Ÿè½½å‡è¡¡<span class="mojikumi-line-end">ã€‚</span></p>
<p>åœ¨ç”¨æˆ·ä¸Šä¼ è§†é¢‘æ—¶<span class="mojikumi-line-end">ï¼Œ</span>ä¼šåœ¨ Google çš„ data center è¿›è¡Œå¤„ç†<span class="mojikumi-line-end">ã€‚</span></p>
<h2 id="socket-programming-creating-network-applications" class="heading"><a href="#socket-programming-creating-network-applications" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Socket Programming: Creating Network Applications" tabindex="-1"></a><span>Socket Programming: Creating Network Applications</span></h2>
<p>ä¸€èˆ¬æ¥è¯´<span class="mojikumi-line-end">ï¼Œ</span>ç¼–å†™ network application éœ€è¦ç¼–å†™ client program å’Œ server program<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="socket-programming-with-udp" class="heading"><a href="#socket-programming-with-udp" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Socket Programming with UDP" tabindex="-1"></a><span>Socket Programming with UDP</span></h3>
<p>ä½¿ç”¨ UDP æ—¶<span class="mojikumi-line-end">ï¼Œ</span>æ¯æ¬¡å‘é€ datagram éƒ½éœ€è¦æŒ‡å®š address<span class="mojikumi-line-start">ï¼ˆ</span>IP åœ°å€ &amp; ç«¯å£<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼Œ</span>æ¥æ”¶ datagram æ—¶ä¹Ÿä¼šæ”¶åˆ°å¯¹æ–¹çš„ address<span class="mojikumi-line-end">ã€‚</span></p>
<p><s>ä¸€çœ‹å°±æ‡‚ä½†ä¹¦ä¸Šè§£é‡Šäº†åŠå¤©çš„</s> ä¾‹å­<span class="mojikumi-line-end">ï¼š</span></p>
<section class="code-block relative my-6 shadow" itemprop="hasPart" itemscope="" itemtype="https://schema.org/SoftwareSourceCode" data-v-ad49d235=""><div class="h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex" style="display:none;" data-v-ad49d235=""><h4 class="text-3 text-footer" itemprop="programmingLanguage" aria-label="Python ä»£ç å—" data-v-ad49d235="">Python</h4><ile-root id="ile-7"><button title="å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copy-button b-footer text-footer" data-v-9288569d=""><span class="i-mdi-content-copy" data-v-9288569d=""></span><span class="sr-only" role="status" data-v-9288569d=""></span></button></ile-root><script></script><script type="module" async="">var s=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var r=(i,a,o)=>new Promise((c,n)=>{var f=t=>{try{_(o.next(t))}catch(e){n(e)}},l=t=>{try{_(o.throw(t))}catch(e){n(e)}},_=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);_((o=o.apply(i,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{b as p}from"/assets/iles.0aa4bab4.js";import"/assets/vendor-vue.8e27fa9d.js";var E=s(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.0aa4bab4.js").then(i=>i.v),["assets/iles.0aa4bab4.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/CopyButton.f3d773d6.js"),["assets/CopyButton.f3d773d6.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default});p(u,v,"ile-7",{},{})});export default E();
</script></div><div class="light:hidden" itemprop="text" data-v-ad49d235=""><pre class="shiki dark" style="background-color: #011627" tabindex="0"><code><span><span style="color: #C792EA">from</span><span style="color: #D6DEEB"> socket </span><span style="color: #C792EA">import</span><span style="color: #D6DEEB"> </span><span style="color: #C792EA">*</span></span>
<span><span style="color: #D6DEEB">serverName </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">'</span><span style="color: #ECC48D">hostname</span><span style="color: #D9F5DD">'</span></span>
<span><span style="color: #D6DEEB">serverPort </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> </span><span style="color: #F78C6C">12000</span></span>
<span><span style="color: #D6DEEB">clientSocket </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> </span><span style="color: #B2CCD6">socket</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">AF_INET</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> SOCK_DGRAM</span><span style="color: #D6DEEB">) </span><span style="color: #637777"># AF_INET è¡¨ç¤º IPv4 åœ°å€ï¼ŒSOCK_DGRAM è¡¨ç¤º UDP</span></span>
<span><span style="color: #D6DEEB">message </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> </span><span style="color: #C5E478">input</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">'</span><span style="color: #ECC48D">Input lowercase sentence:</span><span style="color: #D9F5DD">'</span><span style="color: #D6DEEB">)</span></span>
<span><span style="color: #D6DEEB">clientSocket.</span><span style="color: #B2CCD6">sendto</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">message.</span><span style="color: #B2CCD6">encode</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> (serverName, serverPort)</span><span style="color: #D6DEEB">)</span></span>
<span><span style="color: #D6DEEB">modifiedMessage, serverAddress </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> clientSocket.</span><span style="color: #B2CCD6">recvfrom</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">2048</span><span style="color: #D6DEEB">) </span><span style="color: #637777"># 2048 æ˜¯ buffer size</span></span>
<span><span style="color: #C5E478">print</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">modifiedMessage.</span><span style="color: #B2CCD6">decode</span><span style="color: #D6DEEB">())</span></span>
<span><span style="color: #D6DEEB">clientSocket.</span><span style="color: #B2CCD6">close</span><span style="color: #D6DEEB">()</span></span></code></pre></div><div class="light:important-block" style="display:none;" data-v-ad49d235=""><pre class="shiki light" style="background-color: #FBFBFB" tabindex="0"><code><span><span style="color: #994CC3">from</span><span style="color: #403F53"> socket </span><span style="color: #994CC3">import</span><span style="color: #403F53"> </span><span style="color: #994CC3">*</span></span>
<span><span style="color: #403F53">serverName </span><span style="color: #994CC3">=</span><span style="color: #403F53"> </span><span style="color: #111111">'</span><span style="color: #C96765">hostname</span><span style="color: #111111">'</span></span>
<span><span style="color: #403F53">serverPort </span><span style="color: #994CC3">=</span><span style="color: #403F53"> </span><span style="color: #AA0982">12000</span></span>
<span><span style="color: #403F53">clientSocket </span><span style="color: #994CC3">=</span><span style="color: #403F53"> </span><span style="color: #0C969B">socket</span><span style="color: #403F53">(</span><span style="color: #4876D6">AF_INET</span><span style="color: #111111">,</span><span style="color: #4876D6"> SOCK_DGRAM</span><span style="color: #403F53">) </span><span style="color: #989FB1"># AF_INET è¡¨ç¤º IPv4 åœ°å€ï¼ŒSOCK_DGRAM è¡¨ç¤º UDP</span></span>
<span><span style="color: #403F53">message </span><span style="color: #994CC3">=</span><span style="color: #403F53"> </span><span style="color: #4876D6">input</span><span style="color: #403F53">(</span><span style="color: #111111">'</span><span style="color: #C96765">Input lowercase sentence:</span><span style="color: #111111">'</span><span style="color: #403F53">)</span></span>
<span><span style="color: #403F53">clientSocket.</span><span style="color: #0C969B">sendto</span><span style="color: #403F53">(</span><span style="color: #4876D6">message.</span><span style="color: #0C969B">encode</span><span style="color: #403F53">()</span><span style="color: #111111">,</span><span style="color: #4876D6"> (serverName, serverPort)</span><span style="color: #403F53">)</span></span>
<span><span style="color: #403F53">modifiedMessage, serverAddress </span><span style="color: #994CC3">=</span><span style="color: #403F53"> clientSocket.</span><span style="color: #0C969B">recvfrom</span><span style="color: #403F53">(</span><span style="color: #AA0982">2048</span><span style="color: #403F53">) </span><span style="color: #989FB1"># 2048 æ˜¯ buffer size</span></span>
<span><span style="color: #4876D6">print</span><span style="color: #403F53">(</span><span style="color: #4876D6">modifiedMessage.</span><span style="color: #0C969B">decode</span><span style="color: #403F53">())</span></span>
<span><span style="color: #403F53">clientSocket.</span><span style="color: #0C969B">close</span><span style="color: #403F53">()</span></span></code></pre></div></section>
<section class="code-block relative my-6 shadow" itemprop="hasPart" itemscope="" itemtype="https://schema.org/SoftwareSourceCode" data-v-ad49d235=""><div class="h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex" style="display:none;" data-v-ad49d235=""><h4 class="text-3 text-footer" itemprop="programmingLanguage" aria-label="Python ä»£ç å—" data-v-ad49d235="">Python</h4><ile-root id="ile-8"><button title="å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copy-button b-footer text-footer" data-v-9288569d=""><span class="i-mdi-content-copy" data-v-9288569d=""></span><span class="sr-only" role="status" data-v-9288569d=""></span></button></ile-root><script></script><script type="module" async="">var s=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var r=(i,a,o)=>new Promise((c,n)=>{var f=t=>{try{_(o.next(t))}catch(e){n(e)}},l=t=>{try{_(o.throw(t))}catch(e){n(e)}},_=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);_((o=o.apply(i,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{b as p}from"/assets/iles.0aa4bab4.js";import"/assets/vendor-vue.8e27fa9d.js";var E=s(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.0aa4bab4.js").then(i=>i.v),["assets/iles.0aa4bab4.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/CopyButton.f3d773d6.js"),["assets/CopyButton.f3d773d6.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default});p(u,v,"ile-8",{},{})});export default E();
</script></div><div class="light:hidden" itemprop="text" data-v-ad49d235=""><pre class="shiki dark" style="background-color: #011627" tabindex="0"><code><span><span style="color: #C792EA">from</span><span style="color: #D6DEEB"> socket </span><span style="color: #C792EA">import</span><span style="color: #D6DEEB"> </span><span style="color: #C792EA">*</span></span>
<span><span style="color: #D6DEEB">serverPort </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> </span><span style="color: #F78C6C">12000</span></span>
<span><span style="color: #D6DEEB">serverSocket </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> </span><span style="color: #B2CCD6">socket</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">AF_INET</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> SOCK_DGRAM</span><span style="color: #D6DEEB">)</span></span>
<span><span style="color: #D6DEEB">serverSocket.</span><span style="color: #B2CCD6">bind</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">(</span><span style="color: #D9F5DD">''</span><span style="color: #82AAFF">, serverPort)</span><span style="color: #D6DEEB">)</span></span>
<span><span style="color: #C5E478">print</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">'</span><span style="color: #ECC48D">The server is ready to receive</span><span style="color: #D9F5DD">'</span><span style="color: #D6DEEB">)</span></span>
<span><span style="color: #C792EA">while</span><span style="color: #D6DEEB"> </span><span style="color: #FF5874">True</span><span style="color: #D6DEEB">:</span></span>
<span><span style="color: #D6DEEB">    message, clientAddress </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> serverSocket.</span><span style="color: #B2CCD6">recvfrom</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">2048</span><span style="color: #D6DEEB">)</span></span>
<span><span style="color: #D6DEEB">    modifiedMessage </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> message.</span><span style="color: #B2CCD6">decode</span><span style="color: #D6DEEB">().</span><span style="color: #B2CCD6">upper</span><span style="color: #D6DEEB">()</span></span>
<span><span style="color: #D6DEEB">    serverSocket.</span><span style="color: #B2CCD6">sendto</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">modifiedMessage.</span><span style="color: #B2CCD6">encode</span><span style="color: #D6DEEB">()</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> clientAddress</span><span style="color: #D6DEEB">)</span></span></code></pre></div><div class="light:important-block" style="display:none;" data-v-ad49d235=""><pre class="shiki light" style="background-color: #FBFBFB" tabindex="0"><code><span><span style="color: #994CC3">from</span><span style="color: #403F53"> socket </span><span style="color: #994CC3">import</span><span style="color: #403F53"> </span><span style="color: #994CC3">*</span></span>
<span><span style="color: #403F53">serverPort </span><span style="color: #994CC3">=</span><span style="color: #403F53"> </span><span style="color: #AA0982">12000</span></span>
<span><span style="color: #403F53">serverSocket </span><span style="color: #994CC3">=</span><span style="color: #403F53"> </span><span style="color: #0C969B">socket</span><span style="color: #403F53">(</span><span style="color: #4876D6">AF_INET</span><span style="color: #111111">,</span><span style="color: #4876D6"> SOCK_DGRAM</span><span style="color: #403F53">)</span></span>
<span><span style="color: #403F53">serverSocket.</span><span style="color: #0C969B">bind</span><span style="color: #403F53">(</span><span style="color: #4876D6">(</span><span style="color: #111111">''</span><span style="color: #4876D6">, serverPort)</span><span style="color: #403F53">)</span></span>
<span><span style="color: #4876D6">print</span><span style="color: #403F53">(</span><span style="color: #111111">'</span><span style="color: #C96765">The server is ready to receive</span><span style="color: #111111">'</span><span style="color: #403F53">)</span></span>
<span><span style="color: #994CC3">while</span><span style="color: #403F53"> </span><span style="color: #BC5454">True</span><span style="color: #403F53">:</span></span>
<span><span style="color: #403F53">    message, clientAddress </span><span style="color: #994CC3">=</span><span style="color: #403F53"> serverSocket.</span><span style="color: #0C969B">recvfrom</span><span style="color: #403F53">(</span><span style="color: #AA0982">2048</span><span style="color: #403F53">)</span></span>
<span><span style="color: #403F53">    modifiedMessage </span><span style="color: #994CC3">=</span><span style="color: #403F53"> message.</span><span style="color: #0C969B">decode</span><span style="color: #403F53">().</span><span style="color: #0C969B">upper</span><span style="color: #403F53">()</span></span>
<span><span style="color: #403F53">    serverSocket.</span><span style="color: #0C969B">sendto</span><span style="color: #403F53">(</span><span style="color: #4876D6">modifiedMessage.</span><span style="color: #0C969B">encode</span><span style="color: #403F53">()</span><span style="color: #111111">,</span><span style="color: #4876D6"> clientAddress</span><span style="color: #403F53">)</span></span></code></pre></div></section>
<h3 id="socket-programming-with-tcp" class="heading"><a href="#socket-programming-with-tcp" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Socket Programming with TCP" tabindex="-1"></a><span>Socket Programming with TCP</span></h3>
<p>TCP æ˜¯ä¸€ä¸ª connection-oriented protocol<span class="mojikumi-line-end">ï¼Œ</span>åœ¨ server ä¸Šåˆ†ä¸º welcoming socket å’Œ connection socket<span class="mojikumi-line-end">ï¼Œ</span>ä¸€å¼€å§‹éœ€è¦é€šè¿‡ welcoming socket å»ºç«‹ connection å¹¶å¾—åˆ° connection socket<span class="mojikumi-line-end">ï¼Œ</span>è€Œåœ¨å»ºç«‹äº† connection ä¹‹åå°±æ— éœ€å†æŒ‡å®šå¯¹æ–¹çš„ address<span class="mojikumi-line-end">ã€‚</span></p>
<p><span class="mojikumi-line-start">ï¼ˆ</span>ä¸‹é¢çš„ä»£ç é™¤äº†æ¢æˆ TCP è¿˜å¯¹ä¸Šé¢çš„ UDP ä»£ç æœ‰è‹¥å¹²æ²¡æœ‰æœ¬è´¨åŒºåˆ«çš„ä¿®æ”¹<span class="mojikumi-line-end">ï¼Œ</span>è¦æ˜¯æˆ‘å†™è‚¯å®šä¼šé¿å…<span class="mojikumi-line-end">ï¼Œ</span>ä½†æ˜¯ä»ä¹¦ä¸Šå¤åˆ¶å°±æ‡’å¾—æ”¹äº†<span class="mojikumi">ã€‚</span><span class="mojikumi-line-end">ï¼‰</span></p>
<section class="code-block relative my-6 shadow" itemprop="hasPart" itemscope="" itemtype="https://schema.org/SoftwareSourceCode" data-v-ad49d235=""><div class="h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex" style="display:none;" data-v-ad49d235=""><h4 class="text-3 text-footer" itemprop="programmingLanguage" aria-label="Python ä»£ç å—" data-v-ad49d235="">Python</h4><ile-root id="ile-9"><button title="å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copy-button b-footer text-footer" data-v-9288569d=""><span class="i-mdi-content-copy" data-v-9288569d=""></span><span class="sr-only" role="status" data-v-9288569d=""></span></button></ile-root><script></script><script type="module" async="">var s=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var r=(i,a,o)=>new Promise((c,n)=>{var f=t=>{try{_(o.next(t))}catch(e){n(e)}},l=t=>{try{_(o.throw(t))}catch(e){n(e)}},_=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);_((o=o.apply(i,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{b as p}from"/assets/iles.0aa4bab4.js";import"/assets/vendor-vue.8e27fa9d.js";var E=s(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.0aa4bab4.js").then(i=>i.v),["assets/iles.0aa4bab4.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/CopyButton.f3d773d6.js"),["assets/CopyButton.f3d773d6.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default});p(u,v,"ile-9",{},{})});export default E();
</script></div><div class="light:hidden" itemprop="text" data-v-ad49d235=""><pre class="shiki dark" style="background-color: #011627" tabindex="0"><code><span><span style="color: #C792EA">from</span><span style="color: #D6DEEB"> socket </span><span style="color: #C792EA">import</span><span style="color: #D6DEEB"> </span><span style="color: #C792EA">*</span></span>
<span><span style="color: #D6DEEB">serverName </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> </span><span style="color: #D9F5DD">'</span><span style="color: #ECC48D">servername</span><span style="color: #D9F5DD">'</span></span>
<span><span style="color: #D6DEEB">serverPort </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> </span><span style="color: #F78C6C">12000</span></span>
<span><span style="color: #D6DEEB">clientSocket </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> </span><span style="color: #B2CCD6">socket</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">AF_INET</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> SOCK_STREAM</span><span style="color: #D6DEEB">) </span><span style="color: #637777"># SOCK_STREAM æ˜¯ TCP</span></span>
<span><span style="color: #D6DEEB">clientSocket.</span><span style="color: #B2CCD6">connect</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">(serverName, serverPort)</span><span style="color: #D6DEEB">)</span></span>
<span><span style="color: #D6DEEB">sentence </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> </span><span style="color: #C5E478">input</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">'</span><span style="color: #ECC48D">Input lowercase sentence:</span><span style="color: #D9F5DD">'</span><span style="color: #D6DEEB">)</span></span>
<span><span style="color: #D6DEEB">clientSocket.</span><span style="color: #B2CCD6">send</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">sentence.</span><span style="color: #B2CCD6">encode</span><span style="color: #D6DEEB">())</span></span>
<span><span style="color: #D6DEEB">modifiedSentence </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> clientSocket.</span><span style="color: #B2CCD6">recv</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">1024</span><span style="color: #D6DEEB">)</span></span>
<span><span style="color: #C5E478">print</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">'</span><span style="color: #ECC48D">From Server: </span><span style="color: #D9F5DD">'</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> modifiedSentence.</span><span style="color: #B2CCD6">decode</span><span style="color: #D6DEEB">())</span></span>
<span><span style="color: #D6DEEB">clientSocket.</span><span style="color: #B2CCD6">close</span><span style="color: #D6DEEB">()</span></span></code></pre></div><div class="light:important-block" style="display:none;" data-v-ad49d235=""><pre class="shiki light" style="background-color: #FBFBFB" tabindex="0"><code><span><span style="color: #994CC3">from</span><span style="color: #403F53"> socket </span><span style="color: #994CC3">import</span><span style="color: #403F53"> </span><span style="color: #994CC3">*</span></span>
<span><span style="color: #403F53">serverName </span><span style="color: #994CC3">=</span><span style="color: #403F53"> </span><span style="color: #111111">'</span><span style="color: #C96765">servername</span><span style="color: #111111">'</span></span>
<span><span style="color: #403F53">serverPort </span><span style="color: #994CC3">=</span><span style="color: #403F53"> </span><span style="color: #AA0982">12000</span></span>
<span><span style="color: #403F53">clientSocket </span><span style="color: #994CC3">=</span><span style="color: #403F53"> </span><span style="color: #0C969B">socket</span><span style="color: #403F53">(</span><span style="color: #4876D6">AF_INET</span><span style="color: #111111">,</span><span style="color: #4876D6"> SOCK_STREAM</span><span style="color: #403F53">) </span><span style="color: #989FB1"># SOCK_STREAM æ˜¯ TCP</span></span>
<span><span style="color: #403F53">clientSocket.</span><span style="color: #0C969B">connect</span><span style="color: #403F53">(</span><span style="color: #4876D6">(serverName, serverPort)</span><span style="color: #403F53">)</span></span>
<span><span style="color: #403F53">sentence </span><span style="color: #994CC3">=</span><span style="color: #403F53"> </span><span style="color: #4876D6">input</span><span style="color: #403F53">(</span><span style="color: #111111">'</span><span style="color: #C96765">Input lowercase sentence:</span><span style="color: #111111">'</span><span style="color: #403F53">)</span></span>
<span><span style="color: #403F53">clientSocket.</span><span style="color: #0C969B">send</span><span style="color: #403F53">(</span><span style="color: #4876D6">sentence.</span><span style="color: #0C969B">encode</span><span style="color: #403F53">())</span></span>
<span><span style="color: #403F53">modifiedSentence </span><span style="color: #994CC3">=</span><span style="color: #403F53"> clientSocket.</span><span style="color: #0C969B">recv</span><span style="color: #403F53">(</span><span style="color: #AA0982">1024</span><span style="color: #403F53">)</span></span>
<span><span style="color: #4876D6">print</span><span style="color: #403F53">(</span><span style="color: #111111">'</span><span style="color: #C96765">From Server: </span><span style="color: #111111">'</span><span style="color: #111111">,</span><span style="color: #4876D6"> modifiedSentence.</span><span style="color: #0C969B">decode</span><span style="color: #403F53">())</span></span>
<span><span style="color: #403F53">clientSocket.</span><span style="color: #0C969B">close</span><span style="color: #403F53">()</span></span></code></pre></div></section>
<section class="code-block relative my-6 shadow" itemprop="hasPart" itemscope="" itemtype="https://schema.org/SoftwareSourceCode" data-v-ad49d235=""><div class="h-6 items-center rd-t-1 bg-area px-4 dark:bg-#2A313A media-screen:important-flex" style="display:none;" data-v-ad49d235=""><h4 class="text-3 text-footer" itemprop="programmingLanguage" aria-label="Python ä»£ç å—" data-v-ad49d235="">Python</h4><ile-root id="ile-10"><button title="å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copy-button b-footer text-footer" data-v-9288569d=""><span class="i-mdi-content-copy" data-v-9288569d=""></span><span class="sr-only" role="status" data-v-9288569d=""></span></button></ile-root><script></script><script type="module" async="">var s=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var r=(i,a,o)=>new Promise((c,n)=>{var f=t=>{try{_(o.next(t))}catch(e){n(e)}},l=t=>{try{_(o.throw(t))}catch(e){n(e)}},_=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);_((o=o.apply(i,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{b as p}from"/assets/iles.0aa4bab4.js";import"/assets/vendor-vue.8e27fa9d.js";var E=s(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.0aa4bab4.js").then(i=>i.v),["assets/iles.0aa4bab4.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/CopyButton.f3d773d6.js"),["assets/CopyButton.f3d773d6.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default});p(u,v,"ile-10",{},{})});export default E();
</script></div><div class="light:hidden" itemprop="text" data-v-ad49d235=""><pre class="shiki dark" style="background-color: #011627" tabindex="0"><code><span><span style="color: #C792EA">from</span><span style="color: #D6DEEB"> socket </span><span style="color: #C792EA">import</span><span style="color: #D6DEEB"> </span><span style="color: #C792EA">*</span></span>
<span><span style="color: #D6DEEB">serverPort </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> </span><span style="color: #F78C6C">12000</span></span>
<span><span style="color: #D6DEEB">serverSocket </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> </span><span style="color: #B2CCD6">socket</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">AF_INET</span><span style="color: #D9F5DD">,</span><span style="color: #82AAFF"> SOCK_STREAM</span><span style="color: #D6DEEB">)</span></span>
<span><span style="color: #D6DEEB">serverSocket.</span><span style="color: #B2CCD6">bind</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">(</span><span style="color: #D9F5DD">''</span><span style="color: #82AAFF">, serverPort)</span><span style="color: #D6DEEB">)</span></span>
<span><span style="color: #D6DEEB">serverSocket.</span><span style="color: #B2CCD6">listen</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">1</span><span style="color: #D6DEEB">) </span><span style="color: #637777"># 1 æ˜¯ connection queue çš„æœ€å¤§é•¿åº¦</span></span>
<span><span style="color: #C5E478">print</span><span style="color: #D6DEEB">(</span><span style="color: #D9F5DD">'</span><span style="color: #ECC48D">The server is ready to receive</span><span style="color: #D9F5DD">'</span><span style="color: #D6DEEB">)</span></span>
<span><span style="color: #C792EA">while</span><span style="color: #D6DEEB"> </span><span style="color: #FF5874">True</span><span style="color: #D6DEEB">:</span></span>
<span><span style="color: #D6DEEB">    connectionSocket, addr </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> serverSocket.</span><span style="color: #B2CCD6">accept</span><span style="color: #D6DEEB">()</span></span>
<span><span style="color: #D6DEEB">    sentence </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> connectionSocket.</span><span style="color: #B2CCD6">recv</span><span style="color: #D6DEEB">(</span><span style="color: #F78C6C">1024</span><span style="color: #D6DEEB">).</span><span style="color: #B2CCD6">decode</span><span style="color: #D6DEEB">()</span></span>
<span><span style="color: #D6DEEB">    capitalizedSentence </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> sentence.</span><span style="color: #B2CCD6">upper</span><span style="color: #D6DEEB">()</span></span>
<span><span style="color: #D6DEEB">    connectionSocket.</span><span style="color: #B2CCD6">send</span><span style="color: #D6DEEB">(</span><span style="color: #82AAFF">capitalizedSentence.</span><span style="color: #B2CCD6">encode</span><span style="color: #D6DEEB">())</span></span>
<span><span style="color: #D6DEEB">    connectionSocket.</span><span style="color: #B2CCD6">close</span><span style="color: #D6DEEB">()</span></span></code></pre></div><div class="light:important-block" style="display:none;" data-v-ad49d235=""><pre class="shiki light" style="background-color: #FBFBFB" tabindex="0"><code><span><span style="color: #994CC3">from</span><span style="color: #403F53"> socket </span><span style="color: #994CC3">import</span><span style="color: #403F53"> </span><span style="color: #994CC3">*</span></span>
<span><span style="color: #403F53">serverPort </span><span style="color: #994CC3">=</span><span style="color: #403F53"> </span><span style="color: #AA0982">12000</span></span>
<span><span style="color: #403F53">serverSocket </span><span style="color: #994CC3">=</span><span style="color: #403F53"> </span><span style="color: #0C969B">socket</span><span style="color: #403F53">(</span><span style="color: #4876D6">AF_INET</span><span style="color: #111111">,</span><span style="color: #4876D6"> SOCK_STREAM</span><span style="color: #403F53">)</span></span>
<span><span style="color: #403F53">serverSocket.</span><span style="color: #0C969B">bind</span><span style="color: #403F53">(</span><span style="color: #4876D6">(</span><span style="color: #111111">''</span><span style="color: #4876D6">, serverPort)</span><span style="color: #403F53">)</span></span>
<span><span style="color: #403F53">serverSocket.</span><span style="color: #0C969B">listen</span><span style="color: #403F53">(</span><span style="color: #AA0982">1</span><span style="color: #403F53">) </span><span style="color: #989FB1"># 1 æ˜¯ connection queue çš„æœ€å¤§é•¿åº¦</span></span>
<span><span style="color: #4876D6">print</span><span style="color: #403F53">(</span><span style="color: #111111">'</span><span style="color: #C96765">The server is ready to receive</span><span style="color: #111111">'</span><span style="color: #403F53">)</span></span>
<span><span style="color: #994CC3">while</span><span style="color: #403F53"> </span><span style="color: #BC5454">True</span><span style="color: #403F53">:</span></span>
<span><span style="color: #403F53">    connectionSocket, addr </span><span style="color: #994CC3">=</span><span style="color: #403F53"> serverSocket.</span><span style="color: #0C969B">accept</span><span style="color: #403F53">()</span></span>
<span><span style="color: #403F53">    sentence </span><span style="color: #994CC3">=</span><span style="color: #403F53"> connectionSocket.</span><span style="color: #0C969B">recv</span><span style="color: #403F53">(</span><span style="color: #AA0982">1024</span><span style="color: #403F53">).</span><span style="color: #0C969B">decode</span><span style="color: #403F53">()</span></span>
<span><span style="color: #403F53">    capitalizedSentence </span><span style="color: #994CC3">=</span><span style="color: #403F53"> sentence.</span><span style="color: #0C969B">upper</span><span style="color: #403F53">()</span></span>
<span><span style="color: #403F53">    connectionSocket.</span><span style="color: #0C969B">send</span><span style="color: #403F53">(</span><span style="color: #4876D6">capitalizedSentence.</span><span style="color: #0C969B">encode</span><span style="color: #403F53">())</span></span>
<span><span style="color: #403F53">    connectionSocket.</span><span style="color: #0C969B">close</span><span style="color: #403F53">()</span></span></code></pre></div></section>
<section data-footnotes="" class="footnotes"><h2 class="sr-only" id="footnote-label">Footnotes</h2>
<ol>
<li id="user-content-fn-fig2.8">
<p>p103, Figure 2.8: General format of an HTTP request message <a href="#user-content-fnref-fig2.8" data-footnote-backref="" class="data-footnote-backref" aria-label="Back to content">â†©</a></p>
</li>
<li id="user-content-fn-fig2.9">
<p>p104, Figure 2.9: General format of an HTTP response message <a href="#user-content-fnref-fig2.9" data-footnote-backref="" class="data-footnote-backref" aria-label="Back to content">â†©</a></p>
</li>
<li id="user-content-fn-smtp-example">
<p><a href="https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol#SMTP_transport_example">SMTP transport example - Simple Mail Transfer Protocol - Wikipedia</a> <a href="#user-content-fnref-smtp-example" data-footnote-backref="" class="data-footnote-backref" aria-label="Back to content">â†©</a></p>
</li>
<li id="user-content-fn-fig-2.21">
<p>p133, Figure 2.21: DNS message format <a href="#user-content-fnref-fig-2.21" data-footnote-backref="" class="data-footnote-backref" aria-label="Back to content">â†©</a></p>
</li>
<li id="user-content-fn-seed-choking">
<p><a href="https://www.libtorrent.org/reference-Settings.html#seed_choking_algorithm_t">seed_choking_algorithm - libtorrent</a> <a href="#user-content-fnref-seed-choking" data-footnote-backref="" class="data-footnote-backref" aria-label="Back to content">â†©</a></p>
</li>
</ol>
</section></section><div class="article-style my-9"><hr></div><footer><div class="my-6 b-l-6 b-gray-4 bg-area p-6 shadow dark:b-gray-11" itemprop="copyrightNotice"><ul class="flex flex-col gap-1"><li class="flex gap-1"><span class="shrink-0">æ–‡ç« ä½œè€…:</span><a href="https://github.com/ouuan" rel="author">ouuan</a></li><li class="flex gap-1"><span class="shrink-0">åŸæ–‡é“¾æ¥:</span><a href="https://ouuan.moe/post/2023/06/cnatda-2" rel="canonical" class="break-all">https://ouuan.moe/post/2023/06/cnatda-2</a></li><li class="flex gap-1"><span class="shrink-0">è®¸å¯åè®®:</span><span> æœ¬æ–‡é‡‡ç”¨ <span class="article-style"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.zh" class="font-sans" itemprop="license">CC BY-SA 4.0</a></span> è®¸å¯åè®®è¿›è¡Œæˆæƒï¼Œæœªæ»¡è¶³ <span class="underline decoration-dotted" title="ç®€è€Œè¨€ä¹‹ï¼Œè½¬è½½æ—¶å¿…é¡»æ ‡æ˜å‡ºå¤„ï¼ˆæœ¬æ–‡çš„é“¾æ¥ï¼‰ï¼Œæ ‡æ˜æ˜¯è½¬è½½è€ŒéåŸåˆ›ï¼Œæ ‡æ˜ä½œäº†å“ªäº›ä¿®æ”¹ï¼Œå¹¶ä½¿ç”¨ç›¸åŒçš„è®¸å¯åè®®ï¼Œä½†æ— éœ€ç§ä¿¡å¾æ±‚è®¸å¯">è®¸å¯åè®®è¦æ±‚</span> ä¸å¾—è½¬è½½ã€‚ </span></li></ul></div></footer></article><div class="my-6 print:hidden" itemprop="comment" itemscope="" itemtype="https://schema.org/Comment"><ile-root id="ile-11"></ile-root><script></script><script type="module" async="">import{h as r,c as m}from"/assets/iles.0aa4bab4.js";import{_ as o}from"/assets/GiscusCommentsInner.08badc29.js";import"/assets/vendor-vue.8e27fa9d.js";import"/assets/vite.5ce4fca4.js";import"/assets/useTheme.060d9991.js";import"/assets/site.b21fb919.js";r(m,o,"ile-11",{term:"CNATDA ç¬¬äºŒç« å­¦ä¹ ç¬”è®°"},{});
</script></div><nav class="my-6 flex justify-between gap-6 print:hidden lg:text-justify"><div class="flex flex-1"><a class="flex items-center gap-1 hover:text-hover" href="/post/2023/04/ddpp-5"><span class="i-mdi-chevron-left"></span><span class="sr-only">ä¸Šä¸€ç¯‡</span><span class="break-anywhere">DDPP ç¬¬äº”ç« å­¦ä¹ ç¬”è®°</span></a></div><div class="flex flex-1 justify-end"><a class="flex flex-row-reverse items-center gap-1 hover:text-hover" href="/post/2023/06/cnatda-3"><span class="i-mdi-chevron-right"></span><span class="sr-only">ä¸‹ä¸€ç¯‡</span><span class="break-anywhere">CNATDA ç¬¬ä¸‰ç« å­¦ä¹ ç¬”è®°</span></a></div></nav></div><ile-root id="ile-12"><div class="flex print:hidden"><aside style="max-height:calc(100vh - 10rem);" id="__toc" class="sticky top-16 m-4 hidden w-72 rd-2 bg-card py-6 shadow xl:block 2xl:w-84 3xl:w-96" aria-label="æ–‡ç« ç›®å½•" itemprop="hasPart" itemscope="" itemtype="https://schema.org/WPSideBar"><div class="mb-3 flex flex-wrap items-center justify-between gap-2 pl-8 pr-4"><div class="flex items-center"><h2 class="text-xl font-bold"> æ–‡ç« ç›®å½• </h2><button id="__toc-close" class="flex items-center px-1 text-xl" title="å…³é—­ç›®å½•" aria-controls="__toc" aria-expanded="true"><span class="i-mdi-close"></span></button></div><div><label class="ml-auto flex items-center gap-1"><span>å±•å¼€å…¨éƒ¨</span><input type="checkbox"></label></div></div><div style="max-height:calc(100% - 2rem);" class="overflow-auto overscroll-contain pl-8 pr-4"><ol data-v-c5806953=""><li id="__toc-item-principles-of-network-applications" class="relative my-1" data-v-c5806953=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-circle-medium" data-v-c5806953=""></span><a class="transition-color ease-out" href="#principles-of-network-applications" data-v-c5806953=""><span data-v-c5806953="">Principles of Network Applications</span></a></li><li id="__toc-item-the-web-and-http" class="relative my-1" data-v-c5806953=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-circle-medium" data-v-c5806953=""></span><a class="transition-color ease-out" href="#the-web-and-http" data-v-c5806953=""><span data-v-c5806953="">The Web and HTTP</span></a></li><li id="__toc-item-electronic-mail-in-the-internet" class="relative my-1" data-v-c5806953=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-circle-medium" data-v-c5806953=""></span><a class="transition-color ease-out" href="#electronic-mail-in-the-internet" data-v-c5806953=""><span data-v-c5806953="">Electronic Mail in the Internet</span></a></li><li id="__toc-item-dns--the-internetâ€™s-directory-service" class="relative my-1" data-v-c5806953=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-chevron-right" data-v-c5806953=""></span><span class="sr-only" data-v-c5806953="">å·²æŠ˜å </span><a class="transition-color ease-out" href="#dns--the-internetâ€™s-directory-service" data-v-c5806953=""><span data-v-c5806953="">DNSâ€”The Internetâ€™s Directory Service</span></a></li><li id="__toc-item-peer-to-peer-file-distribution" class="relative my-1" data-v-c5806953=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-circle-medium" data-v-c5806953=""></span><a class="transition-color ease-out" href="#peer-to-peer-file-distribution" data-v-c5806953=""><span data-v-c5806953="">Peer-to-Peer File Distribution</span></a></li><li id="__toc-item-video-streaming-and-content-distribution-networks" class="relative my-1" data-v-c5806953=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-chevron-right" data-v-c5806953=""></span><span class="sr-only" data-v-c5806953="">å·²æŠ˜å </span><a class="transition-color ease-out" href="#video-streaming-and-content-distribution-networks" data-v-c5806953=""><span data-v-c5806953="">Video Streaming and Content Distribution Networks</span></a></li><li id="__toc-item-socket-programming-creating-network-applications" class="relative my-1" data-v-c5806953=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-chevron-right" data-v-c5806953=""></span><span class="sr-only" data-v-c5806953="">å·²æŠ˜å </span><a class="transition-color ease-out" href="#socket-programming-creating-network-applications" data-v-c5806953=""><span data-v-c5806953="">Socket Programming: Creating Network Applications</span></a></li></ol></div></aside><button style="display:none;" id="__toc-open" title="æ˜¾ç¤ºæ–‡ç« ç›®å½•" class="bottom-24 text-lg floating-button" aria-haspopup="dialog" aria-controls="__toc" aria-expanded="true"><span class="i-mdi-menu"></span></button></div></ile-root><script></script><script type="module" async="">import{h as l,c as r}from"/assets/iles.0aa4bab4.js";import{_ as s}from"/assets/TableOfContents.0efa4f7e.js";import"/assets/vendor-vue.8e27fa9d.js";import"/assets/vite.5ce4fca4.js";l(r,s,"ile-12",function(e,t,i){return{headings:[{level:t,title:"Principles of Network Applications",slug:"principles-of-network-applications"},{level:t,title:"The Web and HTTP",slug:"the-web-and-http"},{level:t,title:"Electronic Mail in the Internet",slug:"electronic-mail-in-the-internet"},{level:t,title:"DNSâ€”The Internetâ€™s Directory Service",slug:"dns--the-internetâ€™s-directory-service"},{level:e,title:"Services Provided by DNS",slug:"services-provided-by-dns"},{level:e,title:"Overview of How DNS Works",slug:"overview-of-how-dns-works"},{level:e,title:"DNS Records",slug:"dns-records"},{level:e,title:"DNS Messages",slug:"dns-messages"},{level:t,title:"Peer-to-Peer File Distribution",slug:"peer-to-peer-file-distribution"},{level:t,title:"Video Streaming and Content Distribution Networks",slug:"video-streaming-and-content-distribution-networks"},{level:e,title:"HTTP Streaming and DASH",slug:"http-streaming-and-dash"},{level:e,title:"Content Distribution Networks",slug:"content-distribution-networks"},{level:e,title:"Case Studies: Netflix and YouTube",slug:"case-studies-netflix-and-youtube"},{level:i,title:"Netflix",slug:"netflix"},{level:i,title:"YouTube",slug:"youtube"},{level:6,title:"Google çš„ network infrastructure",slug:"google-çš„-network-infrastructure"},{level:t,title:"Socket Programming: Creating Network Applications",slug:"socket-programming-creating-network-applications"},{level:e,title:"Socket Programming with UDP",slug:"socket-programming-with-udp"},{level:e,title:"Socket Programming with TCP",slug:"socket-programming-with-tcp"}]}}(3,2,4),{});
</script></div></main><footer class="flex flex-col gap-1 bg-card p-6 text-footer" itemprop="hasPart" itemscope="" itemtype="https://schema.org/WPFooter"><div class="flex flex-wrap items-center justify-center gap-x-1"><span>Copyright Â©</span><span>2022 - 2023</span><a class="flex items-center" href="/sponsor" title="èµèµæ”¯æŒ"><span class="i-mdi-heart text-red dark:text-red-7"></span></a><span>ouuan</span></div><div class="flex flex-wrap items-center justify-center gap-x-1"><span> å½“å‰æœ‰ <ile-root id="ile-13"><span><span class="i-mdi-loading motion-safe:animate-spin"></span><span class="sr-only">åŠ è½½ä¸­</span></span></ile-root><script></script><script type="module" async="">var p=(o,a)=>()=>(a||o((a={exports:{}}).exports,a),a.exports);var r=(o,a,_)=>new Promise((c,n)=>{var f=t=>{try{e(_.next(t))}catch(i){n(i)}},l=t=>{try{e(_.throw(t))}catch(i){n(i)}},e=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);e((_=_.apply(o,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{a as s}from"/assets/iles.0aa4bab4.js";import"/assets/vendor-vue.8e27fa9d.js";var E=p(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.0aa4bab4.js").then(o=>o.v),["assets/iles.0aa4bab4.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/VisitorCountRealtime.08e8132a.js"),["assets/VisitorCountRealtime.08e8132a.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default});s(u,v,"ile-13",{},{})});export default E();
</script> äººåœ¨çº¿ </span><span class="i-mdi-circle-small"></span><span title="å®é™…ä¸Šï¼Œä¸ºäº†ä¿æŠ¤ç”¨æˆ·éšç§ï¼ŒåŒä¸€ç”¨æˆ·çš„å¤šæ¬¡è®¿é—®åªæœ‰åœ¨åŒä¸€å¤©å†…ä½¿ç”¨åŒä¸€æµè§ˆå™¨åœ¨åŒä¸€ipä¸‹æ‰ä¼šè¢«ç®—ä½œåŒä¸€äºº"> å…±æœ‰ <ile-root id="ile-14"><span><span class="i-mdi-loading motion-safe:animate-spin"></span><span class="sr-only">åŠ è½½ä¸­</span></span></ile-root><script></script><script type="module" async="">var p=(o,a)=>()=>(a||o((a={exports:{}}).exports,a),a.exports);var r=(o,a,_)=>new Promise((c,n)=>{var f=t=>{try{e(_.next(t))}catch(i){n(i)}},l=t=>{try{e(_.throw(t))}catch(i){n(i)}},e=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);e((_=_.apply(o,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{a as s}from"/assets/iles.0aa4bab4.js";import"/assets/vendor-vue.8e27fa9d.js";var E=p(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.0aa4bab4.js").then(o=>o.v),["assets/iles.0aa4bab4.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/VisitorCount.38f2b4ce.js"),["assets/VisitorCount.38f2b4ce.js","assets/VisitorCount.15186388.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default});s(u,v,"ile-14",{},{})});export default E();
</script> äººåˆ°è®¿è¿‡è¿™é‡Œ </span></div><div class="flex flex-wrap items-center justify-center gap-x-1"> åŸºäº <a class="underline" href="https://github.com/ElMassimo/iles">Ã®les</a><a class="underline" href="https://github.com/ouuan/iles-blog/blob/master/package.json">ç­‰é¡¹ç›®</a><span class="i-mdi-circle-small"></span><span>ç”± ouuan è®¾è®¡/åˆ¶ä½œ</span><span class="i-mdi-circle-small"></span><a class="underline" href="https://github.com/ouuan/iles-blog">æºä»£ç </a></div></footer><meta itemprop="copyrightYear" content="2022 - 2023"><div class="hidden" itemscope="" itemtype="https://schema.org/Person" itemprop="copyrightHolder"><meta itemprop="name" content="ouuan"><meta itemprop="givenName" content="Yufan"><meta itemprop="familyName" content="You"><meta itemprop="url" content="https://github.com/ouuan"><link itemprop="gender" href="https://schema.org/Male"><meta itemprop="image" content="/android-chrome-512x512.png"></div><ile-root id="ile-15"><button class="group bottom-10 flex-col floating-button" title="å‰å¾€åº•éƒ¨"><div aria-hidden="true" class="flex justify-center"><span class="i-mdi-chevron-double-up motion-safe:transition-font-size text-0"></span></div><div aria-hidden="true" class="text-0 group-hover:text-3.5 motion-safe:transition-font-size"></div><div aria-hidden="false" class="flex justify-center"><span class="i-mdi-chevron-double-down motion-safe:transition-font-size text-5 group-hover:text-3"></span></div></button></ile-root><script></script><script type="module" async="">var p=(o,a)=>()=>(a||o((a={exports:{}}).exports,a),a.exports);var r=(o,a,_)=>new Promise((c,n)=>{var f=t=>{try{e(_.next(t))}catch(i){n(i)}},l=t=>{try{e(_.throw(t))}catch(i){n(i)}},e=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);e((_=_.apply(o,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{a as s}from"/assets/iles.0aa4bab4.js";import"/assets/vendor-vue.8e27fa9d.js";var E=p(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.0aa4bab4.js").then(o=>o.v),["assets/iles.0aa4bab4.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/BackToTop.9bd1cd14.js"),["assets/BackToTop.9bd1cd14.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default});s(u,v,"ile-15",{},{})});export default E();
</script><div class="hidden"></div><ile-root id="ile-16"></ile-root><script></script><script type="module" async="">var p=(t,a)=>()=>(a||t((a={exports:{}}).exports,a),a.exports);var e=(t,a,_)=>new Promise((c,n)=>{var f=o=>{try{i(_.next(o))}catch(r){n(r)}},l=o=>{try{i(_.throw(o))}catch(r){n(r)}},i=o=>o.done?c(o.value):Promise.resolve(o.value).then(f,l);i((_=_.apply(t,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{a as s}from"/assets/iles.0aa4bab4.js";import"/assets/vendor-vue.8e27fa9d.js";var u=p(m=>{const E=()=>e(m,null,function*(){return(yield d(()=>import("/assets/iles.0aa4bab4.js").then(t=>t.d),["assets/iles.0aa4bab4.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default}),h=()=>e(m,null,function*(){return(yield d(()=>import("/assets/PlausibleTrigger.a73dac6e.js"),["assets/PlausibleTrigger.a73dac6e.js","assets/plausible.695470a7.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).onLoad});s(E,h,"ile-16",{},{})});export default u();
</script><div></div><ile-root id="ile-17"></ile-root><script></script><script type="module" async="">var p=(t,a)=>()=>(a||t((a={exports:{}}).exports,a),a.exports);var e=(t,a,_)=>new Promise((c,n)=>{var f=o=>{try{i(_.next(o))}catch(r){n(r)}},l=o=>{try{i(_.throw(o))}catch(r){n(r)}},i=o=>o.done?c(o.value):Promise.resolve(o.value).then(f,l);i((_=_.apply(t,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{a as s}from"/assets/iles.0aa4bab4.js";import"/assets/vendor-vue.8e27fa9d.js";var u=p(m=>{const E=()=>e(m,null,function*(){return(yield d(()=>import("/assets/iles.0aa4bab4.js").then(t=>t.d),["assets/iles.0aa4bab4.js","assets/vendor-vue.8e27fa9d.js","assets/vite.5ce4fca4.js"])).default}),h=()=>e(m,null,function*(){return(yield d(()=>import("/assets/TextJustifyFix.4fa5e997.js"),[])).onLoad});s(E,h,"ile-17",{},{})});export default u();
</script><meta itemprop="inLanguage" content="zh-CN"></div>
  
</body></html>