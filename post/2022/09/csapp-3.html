<!DOCTYPE html><html lang="zh-CN"><head>
    <meta charset="UTF-8">
<title>CS:APP ç¬¬ä¸‰ç« å­¦ä¹ ç¬”è®° - ouuan's blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="CS:APP ç¬¬ä¸‰ç«  â€œMachine-Level Representation of Programsâ€ çš„å­¦ä¹ ç¬”è®°ã€‚
è¿™ç« çš„ä¸»è¦å†…å®¹ä¸ºæ±‡ç¼–ï¼ˆmachine-level programmingï¼‰ã€‚
">
<meta property="og:url" content="https://ouuan.moe/post/2022/09/csapp-3">
<meta property="og:site_name" content="ouuan's blog">
<meta property="og:title" content="CS:APP ç¬¬ä¸‰ç« å­¦ä¹ ç¬”è®° Â· ouuan's blog">
<meta property="og:description" content="CS:APP ç¬¬ä¸‰ç«  â€œMachine-Level Representation of Programsâ€ çš„å­¦ä¹ ç¬”è®°ã€‚
è¿™ç« çš„ä¸»è¦å†…å®¹ä¸ºæ±‡ç¼–ï¼ˆmachine-level programmingï¼‰ã€‚
">
<meta property="twitter:domain" content="ouuan.moe">
<meta property="twitter:title" content="CS:APP ç¬¬ä¸‰ç« å­¦ä¹ ç¬”è®° Â· ouuan's blog">
<meta property="twitter:description" content="CS:APP ç¬¬ä¸‰ç«  â€œMachine-Level Representation of Programsâ€ çš„å­¦ä¹ ç¬”è®°ã€‚
è¿™ç« çš„ä¸»è¦å†…å®¹ä¸ºæ±‡ç¼–ï¼ˆmachine-level programmingï¼‰ã€‚
">
<meta property="twitter:url" content="https://ouuan.moe/post/2022/09/csapp-3">
<style>html:not(.dark):not(.light) { visibility: hidden; } body { visibility: hidden; }</style>
<script>(() => { let dark; try { const theme = localStorage && localStorage.getItem('vueuse-color-scheme'); if (theme === 'dark') dark = true; else if (theme === 'light') dark = false; else dark = window.matchMedia('(prefers-color-scheme: dark)').matches; } catch (e) { dark = false; } document.documentElement.classList.add(dark ? 'dark' : 'light'); })()</script>
<noscript><style>@media (prefers-color-scheme: light) { :root:not(.dark):not(.light) { color-scheme: light; --text-color: #232637; --bg-color: #DEE6EE; --card-color: #EFF3F7; --link-color: #1E66B8; --hover-color: #2E80DD; --active-color: #164C89; --bghover-color: #D6E0EA; --popup-color: #F7F9FB; --footer-color: #5F627B; --area-color: #E1E2E8; --nested-color: #F0F0F3; } } @media (prefers-color-scheme: dark) { :root:not(.dark):not(.light) { color-scheme: dark; --text-color: #E6EDF2; --bg-color: #0D0E15; --card-color: #1F2130; --link-color: #8BB8EC; --hover-color: #A2C6F0; --active-color: #74AAE8; --bghover-color: #353853; --popup-color: #2C2F45; --footer-color: #9699AE; --area-color: #2F313D; --nested-color: #3C3E4E; } } html { visibility:visible !important; }</style></noscript>
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#a07e5b">
<link rel="canonical" href="https://ouuan.moe/post/2022/09/csapp-3">
<link rel="alternate" type="application/rss+xml" href="/feed.xml" title="RSS Feed - ouuan's blog">
<link rel="alternate" type="application/atom+xml" href="/feed.atom" title="Atom Feed - ouuan's blog">
<link rel="alternate" type="application/json" href="/feed.json" title="JSON Feed - ouuan's blog">
<link rel="dns-prefetch" href="https://plausible.ouuan.moe">
<link rel="preconnect" href="https://blog-visitor-count.ouuan.moe">
<link rel="stylesheet" href="/vendors/katex/katex.css">
<link rel="sitemap" href="https://ouuan.moe/sitemap.xml">
<meta name="author" content="ouuan">
<meta name="twitter:creator" content="@ouuan">
<meta name="twitter:card" content="summary">
<meta property="og:image" content="https://ouuan.moe/images/2022/09/csapp-3.png">
<meta property="generator" content="Ã®les">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2022-09-24T06:02:50.000Z">
<meta property="article:modified_time" content="2023-01-09T13:06:23.000Z">
<meta property="article:author" content="ouuan">
<meta property="article:tag" content="csapp">
<meta property="article:tag" content="å­¦ä¹ ç¬”è®°">
<link rel="preconnect" href="https://giscus.app">
<link rel="dns-prefetch" href="https://avatars.githubusercontent.com">
    <link rel="stylesheet" href="/assets/style-97b30134.css">
    
  <link rel="modulepreload" href="/assets/iles.c6dd5c6f.js" crossorigin=""><link rel="modulepreload" href="/assets/vendor-vue.0eea1c14.js" crossorigin=""><link rel="modulepreload" href="/assets/vite.5ce4fca4.js" crossorigin=""><link rel="modulepreload" href="/assets/SearchBar.2615ea4e.js" crossorigin=""><link rel="modulepreload" href="/assets/TableOfContents.22a35415.js" crossorigin=""><link rel="modulepreload" href="/assets/PostHead.a18ecf5e.js" crossorigin=""><link rel="modulepreload" href="/assets/VisitorCount.83168c3c.js" crossorigin=""><link rel="modulepreload" href="/assets/site.330e516b.js" crossorigin=""><link rel="modulepreload" href="/assets/GiscusCommentsInner.28d9bb74.js" crossorigin=""><link rel="modulepreload" href="/assets/useTheme.11613ee1.js" crossorigin=""><style>@font-face { font-family: "Noto Serif SC Web Font"; font-weight: 400; font-style: normal; font-display: swap; src: url('/assets/fonts/NotoSerifSC-Regular.unique.0b5afd73.woff2') format('woff2'), url('/assets/fonts/NotoSerifSC-Regular.unique.b79169e5.woff') format('woff'); unicode-range: U+0-1f914; } @font-face { font-family: "Noto Serif SC Web Font"; font-weight: 400; font-style: normal; font-display: swap; src: url('/assets/fonts/NotoSerifSC-Regular.common.3e148809.woff2') format('woff2'), url('/assets/fonts/NotoSerifSC-Regular.common.af590d95.woff') format('woff'); unicode-range: U+0-ff1b; } @font-face { font-family: "Noto Serif SC Web Font"; font-weight: 700; font-style: normal; font-display: swap; src: url('/assets/fonts/NotoSerifSC-Bold.unique.7bd59878.woff2') format('woff2'), url('/assets/fonts/NotoSerifSC-Bold.unique.772e2af4.woff') format('woff'); unicode-range: U+0-1f914; } @font-face { font-family: "Noto Serif SC Web Font"; font-weight: 700; font-style: normal; font-display: swap; src: url('/assets/fonts/NotoSerifSC-Bold.common.248a9221.woff2') format('woff2'), url('/assets/fonts/NotoSerifSC-Bold.common.330f25d0.woff') format('woff'); unicode-range: U+0-ff1f; }</style><link rel="preload" href="/assets/fonts/NotoSerifSC-Regular.unique.0b5afd73.woff2" as="font" type="font/woff2" crossorigin=""><link rel="preload" href="/assets/fonts/NotoSerifSC-Regular.common.3e148809.woff2" as="font" type="font/woff2" crossorigin=""><link rel="preload" href="/assets/fonts/NotoSerifSC-Bold.unique.7bd59878.woff2" as="font" type="font/woff2" crossorigin=""><link rel="preload" href="/assets/fonts/NotoSerifSC-Bold.common.248a9221.woff2" as="font" type="font/woff2" crossorigin=""></head>
  <body itemscope="" itemtype="https://schema.org/ItemPage">
    <div id="app"><header class="bg-card shadow print:hidden" itemprop="hasPart" itemscope="" itemtype="https://schema.org/WPHeader"><div class="page-container px-4 whitespace-nowrap flex flex-wrap sm:flex-nowrap justify-center"><div class="flex basis-full sm:basis-auto items-stretch justify-center sm:mr-3"><a class="p-3 bghover font-serif text-xl flex items-center" href="/"><span>ouuan<span class="mojikumi-narrow-left">â€™</span>s blog</span></a></div><nav class="flex"><ul class="flex"><li class="flex-1 flex items-stretch justify-center"><a class="p-3 bghover flex items-center" href="/"><span>é¦–é¡µ</span></a></li><li class="flex-1 flex items-stretch justify-center"><a class="p-3 bghover flex items-center" href="/posts"><span>æ–‡ç« </span></a></li><li class="flex-1 flex items-stretch justify-center"><a class="p-3 bghover flex items-center" href="/tags"><span>æ ‡ç­¾</span></a></li><li class="flex-1 flex items-stretch justify-center"><a class="p-3 bghover flex items-center" href="/about"><span>å…³äº</span></a></li></ul></nav><div class="sm:basis-full"></div><ul class="flex"><li class="flex"><ile-root id="ile-1"><div class="lg:hidden flex items-stretch"><a class="p-2 bghover flex items-center" href="/search" title="å…¨ç«™æœç´¢"><span class="text-xl i-mdi-magnify"></span></a></div><form role="search" class="hidden lg:flex items-stretch justify-center"><div class="flex items-center"><input value="" class="w-48 px-3 py-1 bg-area rd-full" type="search" placeholder="å…³é”®è¯" aria-label="å…¨ç«™æœç´¢"></div><a class="p-2 bghover flex items-center" href="/search?q=" title="å…¨ç«™æœç´¢"><span class="text-xl i-mdi-magnify"></span></a></form></ile-root><script></script><script type="module" async="">import{h as r,c as a}from"/assets/iles.c6dd5c6f.js";import{_ as m}from"/assets/SearchBar.2615ea4e.js";import"/assets/vendor-vue.0eea1c14.js";import"/assets/vite.5ce4fca4.js";r(a,m,"ile-1",{},{});
</script></li><li class="flex items-stretch"><a class="p-2 bghover flex items-center" href="/feed.xml" title="RSS è®¢é˜…"><span class="text-xl i-mdi-rss"></span></a></li><li class="flex"><ile-root id="ile-2"><div class="relative flex items-stretch"><button title="æš—è‰²æ¨¡å¼è®¾ç½®" class="p-2 bghover flex items-center" aria-haspopup="menu" aria-controls="__theme-switcher" aria-expanded="false"><span class="text-xl i-mdi-theme-light-dark"></span></button><ul style="display:none;" id="__theme-switcher" class="absolute z-20 top-full right-0 bg-popup shadow-md rd-1 whitespace-nowrap" role="menu" aria-label="æš—è‰²æ¨¡å¼é€‰é¡¹"><li class="bghover" role="menuitemradio" aria-checked="true"><button class="flex items-center p-1 text-hover"><span class="i-mdi-cellphone md:i-mdi-tablet lg:i-mdi-monitor mr-1"></span><span>è·Ÿéšç³»ç»Ÿ</span></button></li><li class="bghover" role="menuitemradio" aria-checked="false"><button class="flex items-center p-1"><span class="i-mdi-white-balance-sunny mr-1"></span><span>æ€»æ˜¯äº®è‰²</span></button></li><li class="bghover" role="menuitemradio" aria-checked="false"><button class="flex items-center p-1"><span class="i-mdi-weather-night mr-1"></span><span>æ€»æ˜¯æš—è‰²</span></button></li></ul></div></ile-root><script></script><script type="module" async="">var p=(o,a)=>()=>(a||o((a={exports:{}}).exports,a),a.exports);var r=(o,a,_)=>new Promise((c,n)=>{var f=t=>{try{e(_.next(t))}catch(i){n(i)}},l=t=>{try{e(_.throw(t))}catch(i){n(i)}},e=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);e((_=_.apply(o,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{a as s}from"/assets/iles.c6dd5c6f.js";import"/assets/vendor-vue.0eea1c14.js";var E=p(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.c6dd5c6f.js").then(o=>o.v),["assets/iles.c6dd5c6f.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/ThemeSwitcher.ce26214c.js"),["assets/ThemeSwitcher.ce26214c.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js","assets/useTheme.11613ee1.js"])).default});s(u,v,"ile-2",{},{})});export default E();
</script></li></ul></div></header><main class="page-container py-6 min-h-100vh" itemprop="mainContentOfPage" itemscope="" itemtype="https://schema.org/WebPageElement"><div class="flex flex-row-reverse justify-center"><ile-root id="ile-3"><div class="flex print:hidden"><aside style="max-height:calc(100vh - 10rem);" id="__toc" class="sticky top-16 bg-card py-6 m-4 rd-2 w-72 2xl:w-84 3xl:w-96 shadow hidden xl:block" aria-label="æ–‡ç« ç›®å½•" itemprop="hasPart" itemscope="" itemtype="https://schema.org/WPSideBar"><div class="flex flex-wrap gap-2 justify-between items-center pr-4 pl-8 mb-3"><div class="flex items-center"><h2 class="text-xl font-bold"> æ–‡ç« ç›®å½• </h2><button id="__toc-close" class="px-1 text-xl flex items-center" title="å…³é—­ç›®å½•" aria-controls="__toc" aria-expanded="true"><span class="i-mdi-close"></span></button></div><div><label class="ml-auto flex gap-1 items-center"><span>å±•å¼€å…¨éƒ¨</span><input type="checkbox"></label></div></div><div style="max-height:calc(100% - 2rem);" class="overflow-auto overscroll-contain pr-4 pl-8"><ol data-v-7c550b74=""><li id="__toc-item-program-encodings" class="my-1 relative" data-v-7c550b74=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-chevron-right" data-v-7c550b74=""></span><span class="sr-only" data-v-7c550b74="">å·²æŠ˜å </span><a class="transition-color ease-out" href="#program-encodings" data-v-7c550b74=""><span data-v-7c550b74="">Program Encodings</span></a></li><li id="__toc-item-data-formats" class="my-1 relative" data-v-7c550b74=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-circle-medium" data-v-7c550b74=""></span><a class="transition-color ease-out" href="#data-formats" data-v-7c550b74=""><span data-v-7c550b74="">Data Formats</span></a></li><li id="__toc-item-accessing-information" class="my-1 relative" data-v-7c550b74=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-chevron-right" data-v-7c550b74=""></span><span class="sr-only" data-v-7c550b74="">å·²æŠ˜å </span><a class="transition-color ease-out" href="#accessing-information" data-v-7c550b74=""><span data-v-7c550b74="">Accessing Information</span></a></li><li id="__toc-item-arithmetic-and-logical-operations" class="my-1 relative" data-v-7c550b74=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-chevron-right" data-v-7c550b74=""></span><span class="sr-only" data-v-7c550b74="">å·²æŠ˜å </span><a class="transition-color ease-out" href="#arithmetic-and-logical-operations" data-v-7c550b74=""><span data-v-7c550b74="">Arithmetic and Logical Operations</span></a></li><li id="__toc-item-control" class="my-1 relative" data-v-7c550b74=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-chevron-right" data-v-7c550b74=""></span><span class="sr-only" data-v-7c550b74="">å·²æŠ˜å </span><a class="transition-color ease-out" href="#control" data-v-7c550b74=""><span data-v-7c550b74="">Control</span></a></li><li id="__toc-item-procedures" class="my-1 relative" data-v-7c550b74=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-chevron-right" data-v-7c550b74=""></span><span class="sr-only" data-v-7c550b74="">å·²æŠ˜å </span><a class="transition-color ease-out" href="#procedures" data-v-7c550b74=""><span data-v-7c550b74="">Procedures</span></a></li><li id="__toc-item-array-allocation-and-access" class="my-1 relative" data-v-7c550b74=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-circle-medium" data-v-7c550b74=""></span><a class="transition-color ease-out" href="#array-allocation-and-access" data-v-7c550b74=""><span data-v-7c550b74="">Array Allocation and Access</span></a></li><li id="__toc-item-heterogeneous-data-structures" class="my-1 relative" data-v-7c550b74=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-chevron-right" data-v-7c550b74=""></span><span class="sr-only" data-v-7c550b74="">å·²æŠ˜å </span><a class="transition-color ease-out" href="#heterogeneous-data-structures" data-v-7c550b74=""><span data-v-7c550b74="">Heterogeneous Data Structures</span></a></li><li id="__toc-item-thwarting-buffer-overflow-attacks" class="my-1 relative" data-v-7c550b74=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-chevron-right" data-v-7c550b74=""></span><span class="sr-only" data-v-7c550b74="">å·²æŠ˜å </span><a class="transition-color ease-out" href="#thwarting-buffer-overflow-attacks" data-v-7c550b74=""><span data-v-7c550b74="">Thwarting Buffer Overflow Attacks</span></a></li><li id="__toc-item-floating-point-code" class="my-1 relative" data-v-7c550b74=""><span class="absolute top-1.2 left--4
                   motion-safe:transition-transform ease-out i-mdi-chevron-right" data-v-7c550b74=""></span><span class="sr-only" data-v-7c550b74="">å·²æŠ˜å </span><a class="transition-color ease-out" href="#floating-point-code" data-v-7c550b74=""><span data-v-7c550b74="">Floating-Point Code</span></a></li></ol></div></aside><button style="display:none;" id="__toc-open" title="æ˜¾ç¤ºæ–‡ç« ç›®å½•" class="floating-button text-lg bottom-24" aria-haspopup="dialog" aria-controls="__toc" aria-expanded="true"><span class="i-mdi-menu"></span></button></div></ile-root><script></script><script type="module" async="">import{h as T,c as P}from"/assets/iles.c6dd5c6f.js";import{_ as V}from"/assets/TableOfContents.22a35415.js";import"/assets/vendor-vue.0eea1c14.js";import"/assets/vite.5ce4fca4.js";T(P,V,"ile-3",function(e,l,t,s,u,i,o,g,v,r,c,n,a,m,p,d,f,C,E,k,F,h,w,A,M,S,q,y,O,j,z){return{headings:[{level:s,title:"Program Encodings",slug:"program-encodings"},{level:e,title:"æ±‡ç¼–/æœºå™¨ç ä¸­çš„ç¨‹åºçŠ¶æ€",slug:"æ±‡ç¼–æœºå™¨ç ä¸­çš„ç¨‹åºçŠ¶æ€"},{level:e,title:"å°† C ä»£ç ç¼–è¯‘ä¸ºæ±‡ç¼–ä»£ç ",slug:"å°†-c-ä»£ç ç¼–è¯‘ä¸ºæ±‡ç¼–ä»£ç "},{level:e,title:u,slug:u},{level:l,title:"æŒ‡ä»¤é›†çš„ referenceï¼›ATT æ ¼å¼ vs Intel æ ¼å¼",slug:"æŒ‡ä»¤é›†çš„-referenceï¼›att-æ ¼å¼-vs-intel-æ ¼å¼"},{level:s,title:"Data Formats",slug:"data-formats"},{level:s,title:"Accessing Information",slug:"accessing-information"},{level:e,title:i,slug:i},{level:e,title:"Operand æ ¼å¼",slug:"operand-æ ¼å¼"},{level:e,title:"move ç±»æŒ‡ä»¤",slug:"move-ç±»æŒ‡ä»¤"},{level:t,title:"MOV æŒ‡ä»¤",slug:"mov-æŒ‡ä»¤"},{level:t,title:"MOVZ æŒ‡ä»¤",slug:"movz-æŒ‡ä»¤"},{level:l,title:"æ²¡ç”¨çš„ <code>movzbq</code> å’Œ <code>movzwq</code> ğŸ¤”ï¼Ÿ",slug:"æ²¡ç”¨çš„-movzbq-å’Œ-movzwq-ï¼Ÿ"},{level:t,title:"MOVS æŒ‡ä»¤",slug:"movs-æŒ‡ä»¤"},{level:e,title:"push/pop stack",slug:"pushpop-stack"},{level:l,title:"ä¸ºä»€ä¹ˆ top ä½äºä½åœ°å€ï¼Ÿ",slug:"ä¸ºä»€ä¹ˆ-top-ä½äºä½åœ°å€ï¼Ÿ"},{level:l,title:"<code>pushq</code>/<code>popq</code> vs ç›´æ¥ä¿®æ”¹ <code>%rsp</code>",slug:"pushqpopq-vs-ç›´æ¥ä¿®æ”¹-rsp"},{level:s,title:"Arithmetic and Logical Operations",slug:"arithmetic-and-logical-operations"},{level:e,title:"Load Effective Address",slug:"load-effective-address"},{level:e,title:o,slug:o},{level:e,title:g,slug:g},{level:e,title:v,slug:v},{level:l,title:r,slug:r},{level:e,title:"ç»“æœæ˜¯ operand ä¸¤å€é•¿åº¦çš„è¿ç®—",slug:"ç»“æœæ˜¯-operand-ä¸¤å€é•¿åº¦çš„è¿ç®—"},{level:s,title:"Control",slug:"control"},{level:l,title:'<span class="mojikumi">â€œ</span>status flag<span class="mojikumi">â€</span> vs <span class="mojikumi">â€œ</span>condition code<span class="mojikumi">â€</span>',slug:"â€œstatus-flagâ€-vs-â€œcondition-codeâ€"},{level:e,title:"Status Flags",slug:"status-flags"},{level:l,title:"ARM ä¸­çš„ carry flag â€”â€” carry flag vs borrow flag",slug:"arm-ä¸­çš„-carry-flag------carry-flag-vs-borrow-flag"},{level:e,title:"Condition Codes",slug:"condition-codes"},{level:e,title:"CMP å’Œ TEST æŒ‡ä»¤",slug:"cmp-å’Œ-test-æŒ‡ä»¤"},{level:l,title:"CMP çš„æ¯”è¾ƒé¡ºåº",slug:"cmp-çš„æ¯”è¾ƒé¡ºåº"},{level:e,title:"SETcc æŒ‡ä»¤",slug:"setcc-æŒ‡ä»¤"},{level:e,title:"Jump ç±»æŒ‡ä»¤",slug:"jump-ç±»æŒ‡ä»¤"},{level:t,title:"Label",slug:"label"},{level:t,title:c,slug:c},{level:t,title:n,slug:n},{level:t,title:"rep; ret",slug:"rep-ret"},{level:t,title:"jump æŒ‡ä»¤ç¼–ç ",slug:"jump-æŒ‡ä»¤ç¼–ç "},{level:e,title:"CMOVcc æŒ‡ä»¤",slug:"cmovcc-æŒ‡ä»¤"},{level:e,title:"å®ç° if-else è¯­å¥",slug:"å®ç°-if-else-è¯­å¥"},{level:e,title:a,slug:a},{level:e,title:"å®ç° switch è¯­å¥",slug:"å®ç°-switch-è¯­å¥"},{level:s,title:"Procedures",slug:"procedures"},{level:e,title:m,slug:m},{level:l,title:"å­˜æ”¾ caller åœ°å€çš„åŸåˆ™",slug:"å­˜æ”¾-caller-åœ°å€çš„åŸåˆ™"},{level:e,title:p,slug:p},{level:l,title:d,slug:d},{level:e,title:f,slug:f},{level:l,title:C,slug:C},{level:e,title:E,slug:E},{level:l,title:"callee-saved registers çš„ä½¿ç”¨åŸåˆ™",slug:"callee-saved-registers-çš„ä½¿ç”¨åŸåˆ™"},{level:e,title:"å¯å˜å¤§å°çš„ stack frame",slug:"å¯å˜å¤§å°çš„-stack-frame"},{level:l,title:"stack frame pointer çš„åŸåˆ™",slug:"stack-frame-pointer-çš„åŸåˆ™"},{level:l,title:"<code>leave</code> vs <code>enter</code>",slug:"leave-vs-enter"},{level:e,title:"Stack Frame Alignment",slug:"stack-frame-alignment"},{level:s,title:"Array Allocation and Access",slug:"array-allocation-and-access"},{level:s,title:"Heterogeneous Data Structures",slug:"heterogeneous-data-structures"},{level:e,title:"Struct",slug:"struct"},{level:e,title:"Union",slug:"union"},{level:e,title:"Data Alignment",slug:"data-alignment"},{level:s,title:"Thwarting Buffer Overflow Attacks",slug:"thwarting-buffer-overflow-attacks"},{level:e,title:"Stack Randomization",slug:"stack-randomization"},{level:e,title:"Stack Corruption Detection",slug:"stack-corruption-detection"},{level:e,title:"Limiting Executable Code Regions",slug:"limiting-executable-code-regions"},{level:s,title:"Floating-Point Code",slug:"floating-point-code"},{level:e,title:"YMM å¯„å­˜å™¨",slug:"ymm-å¯„å­˜å™¨"},{level:e,title:k,slug:k},{level:e,title:F,slug:F},{level:t,title:h,slug:h},{level:t,title:w,slug:w},{level:t,title:A,slug:A},{level:l,title:"gcc ä½¿ç”¨çš„æµ®ç‚¹æ•°ç²¾åº¦è½¬æ¢æŒ‡ä»¤",slug:"gcc-ä½¿ç”¨çš„æµ®ç‚¹æ•°ç²¾åº¦è½¬æ¢æŒ‡ä»¤"},{level:e,title:M,slug:M},{level:e,title:S,slug:S},{level:t,title:q,slug:q},{level:t,title:y,slug:y},{level:e,title:O,slug:O},{level:e,title:j,slug:j},{level:l,title:"packed single/double precision åœ¨ç§»åŠ¨å’Œä½è¿ç®—ä¸Šçš„åŒºåˆ«ï¼Ÿ",slug:"packed-singledouble-precision-åœ¨ç§»åŠ¨å’Œä½è¿ç®—ä¸Šçš„åŒºåˆ«ï¼Ÿ"},{level:e,title:z,slug:z}]}}(3,6,4,2,"åæ±‡ç¼–ä¸æœºå™¨ç ","å¯„å­˜å™¨","ä¸€å…ƒè¿ç®—","äºŒå…ƒè¿ç®—","ä½ç§»","å¯¹è¿‡å¤§ä½ç§»ä½æ•°çš„å¤„ç†","æ— æ¡ä»¶è·³è½¬","æ¡ä»¶è·³è½¬","å®ç°å¾ªç¯è¯­å¥","è½¬ç§»æ§åˆ¶æƒ","ä¼ é€’å‚æ•°","å­˜æ”¾å‚æ•°çš„åŸåˆ™","ä¼ é€’è¿”å›å€¼","å­˜æ”¾è¿”å›å€¼çš„åŸåˆ™","å­˜å‚¨å±€éƒ¨å˜é‡","æµ®ç‚¹æ•°çš„ç§»åŠ¨æŒ‡ä»¤","æµ®ç‚¹æ•°ç±»å‹è½¬æ¢","æµ®ç‚¹æ•°è½¬ä¸ºæ•´æ•°","æ•´æ•°è½¬ä¸ºæµ®ç‚¹æ•°","æµ®ç‚¹æ•°ç²¾åº¦è½¬æ¢","å‡½æ•°è°ƒç”¨ä¸­çš„æµ®ç‚¹æ•°","æµ®ç‚¹æ•°ç®—æœ¯è¿ç®—","æµ®ç‚¹æ•°äºŒå…ƒè¿ç®—","æµ®ç‚¹æ•°ä¸€å…ƒè¿ç®—","æµ®ç‚¹æ•°å¸¸é‡","æµ®ç‚¹æ•°ä½è¿ç®—","æµ®ç‚¹æ•°æ¯”è¾ƒ"),{});
</script><div class="grow m-4 standard-card max-w-200"><article itemprop="mainEntity" itemscope="" itemtype="https://schema.org/BlogPosting"><div class="hidden" itemscope="" itemtype="https://schema.org/Person" itemprop="author"><meta itemprop="name" content="ouuan"><meta itemprop="givenName" content="Yufan"><meta itemprop="familyName" content="You"><meta itemprop="url" content="https://github.com/ouuan"><link itemprop="gender" href="https://schema.org/Male"><meta itemprop="image" content="/android-chrome-512x512.png"></div><meta itemprop="mainEntityOfPage" content="https://ouuan.moe/post/2022/09/csapp-3"><meta itemprop="image" content="https://ouuan.moe/images/2022/09/csapp-3.png"><ile-root id="ile-4" class="my-12"><header class="my-12" data-v-2fa8a5d5=""><h1 class="mt-6 mb-3 text-8 text-center" itemprop="headline" data-v-2fa8a5d5=""><span class="inline-block font-serif break-anywhere" data-v-2fa8a5d5="">CS:APP ç¬¬ä¸‰ç« å­¦ä¹ ç¬”è®°</span></h1><div class="flex flex-wrap justify-center text-footer gap-x-4 gap-y-1 md:text-sm" data-v-2fa8a5d5=""><span class="flex items-center" title="åˆ›å»ºäº 2022-09-19 10:13:08 GMT+8" data-v-2fa8a5d5=""><span class="i-mdi-folder-plus-outline mr-1" data-v-2fa8a5d5=""></span><span class="sr-only" data-v-2fa8a5d5="">åˆ›å»ºäº</span><a class="hover:underline" href="https://github.com/ouuan/iles-blog/blob/master/src/pages/post/2022/09/csapp-3.mdx?plain=1" data-v-2fa8a5d5=""><time datetime="2022-09-19T10:13:08+08:00" itemprop="dateCreated" data-v-2fa8a5d5="">2022-09-19</time></a></span><span class="flex items-center" title="ä¿®æ”¹äº 2023-01-09 21:06:23 GMT+8" data-v-2fa8a5d5=""><span class="i-mdi-update mr-1" data-v-2fa8a5d5=""></span><span class="sr-only" data-v-2fa8a5d5="">ä¿®æ”¹äº</span><a class="hover:underline" href="https://github.com/ouuan/iles-blog/commits/master/src/pages/post/2022/09/csapp-3.mdx" data-v-2fa8a5d5=""><time datetime="2023-01-09T21:06:23+08:00" itemprop="dateModified" data-v-2fa8a5d5="">2023-01-09</time></a></span><span class="flex items-center" title="è®¿é—®é‡" data-v-2fa8a5d5=""><span class="i-mdi-eye-outline mr-1" data-v-2fa8a5d5=""></span><span class="sr-only" data-v-2fa8a5d5="">è®¿é—®é‡</span><span data-v-2fa8a5d5="">120</span></span><span class="flex flex-wrap justify-center gap-x-2 gap-y-1" data-v-2fa8a5d5=""><span title="æ ‡ç­¾: csapp" class="flex items-center" itemprop="keywords" data-v-2fa8a5d5=""><span class="i-mdi-tag-outline mr-1" data-v-2fa8a5d5=""></span><span class="sr-only" data-v-2fa8a5d5="">æ ‡ç­¾</span><a href="/tag/csapp" class="hover:underline" data-v-2fa8a5d5="">csapp</a></span><span title="æ ‡ç­¾: å­¦ä¹ ç¬”è®°" class="flex items-center" itemprop="keywords" data-v-2fa8a5d5=""><span class="i-mdi-tag-outline mr-1" data-v-2fa8a5d5=""></span><span class="sr-only" data-v-2fa8a5d5="">æ ‡ç­¾</span><a href="/tag/å­¦ä¹ ç¬”è®°" class="hover:underline" data-v-2fa8a5d5="">å­¦ä¹ ç¬”è®°</a></span></span></div></header></ile-root><script></script><script type="module" async="">import{h as e,c as t}from"/assets/iles.c6dd5c6f.js";import a from"/assets/PostHead.a18ecf5e.js";import"/assets/vendor-vue.0eea1c14.js";import"/assets/vite.5ce4fca4.js";import"/assets/VisitorCount.83168c3c.js";import"/assets/site.330e516b.js";e(t,a,"ile-4",{class:"my-12",href:"/post/2022/09/csapp-3",filename:"src/pages/post/2022/09/csapp-3.mdx",frontmatter:{title:"CS:APP ç¬¬ä¸‰ç« å­¦ä¹ ç¬”è®°",date:new Date(1663553588e3),image:"/images/2022/09/csapp-3.png",tags:["csapp","å­¦ä¹ ç¬”è®°"],lastUpdated:new Date(1673269583e3),published:new Date(166399937e4),visitor:120,description:`CS:APP ç¬¬ä¸‰ç«  â€œMachine-Level Representation of Programsâ€ çš„å­¦ä¹ ç¬”è®°ã€‚
è¿™ç« çš„ä¸»è¦å†…å®¹ä¸ºæ±‡ç¼–ï¼ˆmachine-level programmingï¼‰ã€‚
`},"title-link":!1},{});
</script><section class="article-style" itemprop="articleBody"><p><a href="https://csapp.cs.cmu.edu/">CS:APP</a> ç¬¬ä¸‰ç«  <span class="mojikumi">â€œ</span>Machine-Level Representation of Programs<span class="mojikumi">â€</span> çš„å­¦ä¹ ç¬”è®°<span class="mojikumi-line-end">ã€‚</span></p>
<p>è¿™ç« çš„ä¸»è¦å†…å®¹ä¸ºæ±‡ç¼–<span class="mojikumi-line-start">ï¼ˆ</span>machine-level programming<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ã€‚</span></p>

<p>è¿‘å¹´æ¥<span class="mojikumi-line-end">ï¼Œ</span>éšç€ç¼–è¯‘å™¨å’Œé«˜çº§è¯­è¨€çš„å‘å±•<span class="mojikumi-line-end">ï¼Œ</span>æ‰‹å†™æ±‡ç¼–<span class="mojikumi-line-end">ã€</span>æœºå™¨ç çš„éœ€æ±‚è¶Šæ¥è¶Šä½<span class="mojikumi-line-end">ï¼Œ</span>ä½†é˜…è¯»<span class="mojikumi-line-end">ã€</span>ç†è§£ç¼–è¯‘å™¨çš„è¾“å‡ºåœ¨ä¼˜åŒ–ç¨‹åºæ€§èƒ½<span class="mojikumi-line-end">ã€</span>é¿å…å®‰å…¨æ¼æ´ç­‰æ–¹é¢ä¾ç„¶é‡è¦<span class="mojikumi-line-end">ã€‚</span></p>
<h2 id="program-encodings" class="heading"><a href="#program-encodings" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Program Encodings" tabindex="-1"></a><span>Program Encodings</span></h2>
<h3 id="æ±‡ç¼–æœºå™¨ç ä¸­çš„ç¨‹åºçŠ¶æ€" class="heading"><a href="#æ±‡ç¼–æœºå™¨ç ä¸­çš„ç¨‹åºçŠ¶æ€" class="heading-anchor" aria-label="ç« èŠ‚ï¼š æ±‡ç¼–/æœºå™¨ç ä¸­çš„ç¨‹åºçŠ¶æ€" tabindex="-1"></a><span>æ±‡ç¼–/æœºå™¨ç ä¸­çš„ç¨‹åºçŠ¶æ€</span></h3>
<p>x86-64 çš„ç¨‹åºçŠ¶æ€åŒ…å«<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li>program counter<span class="mojikumi-line-end">ï¼Œ</span>è¡¨ç¤ºå¾…æ‰§è¡Œçš„ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€<span class="mojikumi-line-end">ï¼Œ</span>ç”¨ <code>%rip</code> è¡¨ç¤º</li>
<li><a href="#%E5%AF%84%E5%AD%98%E5%99%A8">register file</a><span class="mojikumi-line-end">ï¼Œ</span>16 ä¸ªç”¨æ¥å­˜å‚¨æ•´å‹çš„å¯„å­˜å™¨</li>
<li><a href="#status-flags">status flags</a><span class="mojikumi-line-end">ï¼Œ</span>ç”¨æ¥å­˜å‚¨æœ€è¿‘æ‰§è¡Œçš„è¿ç®—çš„çŠ¶æ€</li>
<li><a href="#ymm-%E5%AF%84%E5%AD%98%E5%99%A8">vector registers</a><span class="mojikumi-line-end">ï¼Œ</span>ç”¨æ¥å­˜å‚¨å¤šä¸ªæ•´å‹æˆ–æµ®ç‚¹æ•°</li>
</ul>
<h3 id="å°†-c-ä»£ç ç¼–è¯‘ä¸ºæ±‡ç¼–ä»£ç " class="heading"><a href="#å°†-c-ä»£ç ç¼–è¯‘ä¸ºæ±‡ç¼–ä»£ç " class="heading-anchor" aria-label="ç« èŠ‚ï¼š å°† C ä»£ç ç¼–è¯‘ä¸ºæ±‡ç¼–ä»£ç " tabindex="-1"></a><span>å°† C ä»£ç ç¼–è¯‘ä¸ºæ±‡ç¼–ä»£ç </span></h3>
<p>å¯ä»¥é€šè¿‡ <code>gcc -S</code> ç”Ÿæˆæ±‡ç¼–ä»£ç <span class="mojikumi-line-end">ï¼Œ</span>é€šè¿‡ <code>gcc -Og</code> æ¥å¯ç”¨<span class="mojikumi-line-start">â€œ</span>ä»¥è°ƒè¯•ä½“éªŒä¸ºç›®æ ‡çš„ä¼˜åŒ–<span class="mojikumi">â€</span><wbr><span class="mojikumi-line-start">ï¼ˆ</span>åæ–‡ä¸­å™è¿°çš„å¾ˆå¤šç¼–è¯‘è¡Œä¸ºéƒ½æ˜¯éœ€è¦ä¸€äº›åŸºæœ¬çš„ä¼˜åŒ–çš„<span class="mojikumi-line-end">ï¼Œ</span>å¦‚æœå®Œå…¨ä¸å¯ç”¨ä»»ä½•ä¼˜åŒ–<span class="mojikumi-line-end">ï¼Œ</span>å¯èƒ½ç¼–è¯‘ç»“æœä¼šæœ‰å¾ˆå¤§çš„å·®åˆ«<span class="mojikumi-line-end">ï¼›</span>ä¹Ÿå°±æ˜¯è¯´<span class="mojikumi-line-end">ï¼Œ</span>å®Œå…¨ä¸ä¼˜åŒ–å’Œè¿‡åº¦ä¼˜åŒ–éƒ½ä¼šé™ä½æ±‡ç¼–ä»£ç çš„å¯è¯»æ€§<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ã€‚</span></p>
<p>ä¸ºäº†æ–¹ä¾¿<span class="mojikumi-line-end">ï¼Œ</span>å¯ä»¥ç”¨ä¸€æ¡å‘½ä»¤ç¼–è¯‘å¹¶ä¸ç•™æ–‡ä»¶åœ°æŸ¥çœ‹æ±‡ç¼–ä»£ç : <code>gcc a.c -Og -S -o - | bat -l asm</code><span class="mojikumi-line-end">ã€‚</span></p>
<p>ä¾‹å¦‚<span class="mojikumi-line-end">ï¼Œ</span>ä¸‹é¢çš„ä»£ç <span class="mojikumi-line-end">ï¼š</span></p>
<section class="code-block relative my-6 shadow" itemprop="hasPart" itemscope="" itemtype="https://schema.org/SoftwareSourceCode" data-v-fc4b3c9e=""><div class="media-screen:important-flex items-center px-4 h-6 rd-t-1 bg-area dark:bg-#2A313A" style="display:none;" data-v-fc4b3c9e=""><h4 class="text-3 text-footer" itemprop="programmingLanguage" aria-label="c ä»£ç å—" data-v-fc4b3c9e="">c</h4><ile-root id="ile-5"><button title="å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copy-button b-footer text-footer" data-v-9288569d=""><span class="i-mdi-content-copy" data-v-9288569d=""></span><span class="sr-only" role="status" data-v-9288569d=""></span></button></ile-root><script></script><script type="module" async="">var s=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var r=(i,a,o)=>new Promise((c,n)=>{var f=t=>{try{_(o.next(t))}catch(e){n(e)}},l=t=>{try{_(o.throw(t))}catch(e){n(e)}},_=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);_((o=o.apply(i,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{b as p}from"/assets/iles.c6dd5c6f.js";import"/assets/vendor-vue.0eea1c14.js";var E=s(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.c6dd5c6f.js").then(i=>i.v),["assets/iles.c6dd5c6f.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/CopyButton.26127d20.js"),["assets/CopyButton.26127d20.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default});p(u,v,"ile-5",{},{})});export default E();
</script></div><div class="light:hidden" itemprop="text" data-v-fc4b3c9e=""><pre class="shiki dark" style="background-color: #011627" tabindex="0"><code><span><span style="color: #C792EA">long</span><span style="color: #D6DEEB"> </span><span style="color: #82AAFF">mult2</span><span style="color: #D6DEEB">(</span><span style="color: #C792EA">long</span><span style="color: #D6DEEB">, </span><span style="color: #C792EA">long</span><span style="color: #D6DEEB">);</span></span>
<span></span>
<span><span style="color: #C792EA">void</span><span style="color: #D6DEEB"> </span><span style="color: #82AAFF">multstore</span><span style="color: #D6DEEB">(</span><span style="color: #C792EA">long</span><span style="color: #D6DEEB"> </span><span style="color: #D7DBE0">x</span><span style="color: #D6DEEB">, </span><span style="color: #C792EA">long</span><span style="color: #D6DEEB"> </span><span style="color: #D7DBE0">y</span><span style="color: #D6DEEB">, </span><span style="color: #C792EA">long</span><span style="color: #D6DEEB"> </span><span style="color: #7FDBCA">*</span><span style="color: #D7DBE0">dest</span><span style="color: #D6DEEB">)</span></span>
<span><span style="color: #D6DEEB">{</span></span>
<span><span style="color: #D6DEEB">    </span><span style="color: #C792EA">long</span><span style="color: #D6DEEB"> t </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> </span><span style="color: #82AAFF">mult2(x, y)</span><span style="color: #D6DEEB">;</span></span>
<span><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">*</span><span style="color: #D6DEEB">dest </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> t;</span></span>
<span><span style="color: #D6DEEB">}</span></span></code></pre></div><div class="light:important-block" style="display:none;" data-v-fc4b3c9e=""><pre class="shiki light" style="background-color: #FBFBFB" tabindex="0"><code><span><span style="color: #994CC3">long</span><span style="color: #403F53"> </span><span style="color: #4876D6">mult2</span><span style="color: #403F53">(</span><span style="color: #994CC3">long</span><span style="color: #403F53">, </span><span style="color: #994CC3">long</span><span style="color: #403F53">);</span></span>
<span></span>
<span><span style="color: #994CC3">void</span><span style="color: #403F53"> </span><span style="color: #4876D6">multstore</span><span style="color: #403F53">(</span><span style="color: #994CC3">long</span><span style="color: #403F53"> x, </span><span style="color: #994CC3">long</span><span style="color: #403F53"> y, </span><span style="color: #994CC3">long</span><span style="color: #403F53"> </span><span style="color: #0C969B">*</span><span style="color: #403F53">dest)</span></span>
<span><span style="color: #403F53">{</span></span>
<span><span style="color: #403F53">    </span><span style="color: #994CC3">long</span><span style="color: #403F53"> t </span><span style="color: #994CC3">=</span><span style="color: #403F53"> </span><span style="color: #4876D6">mult2(x, y)</span><span style="color: #403F53">;</span></span>
<span><span style="color: #403F53">    </span><span style="color: #0C969B">*</span><span style="color: #403F53">dest </span><span style="color: #994CC3">=</span><span style="color: #403F53"> t;</span></span>
<span><span style="color: #403F53">}</span></span></code></pre></div></section>
<p>ç¼–è¯‘ä¸ºå¦‚ä¸‹çš„æ±‡ç¼–ä»£ç <span class="mojikumi-line-end">ï¼š</span></p>
<section class="code-block relative my-6 shadow" itemprop="hasPart" itemscope="" itemtype="https://schema.org/SoftwareSourceCode" data-v-fc4b3c9e=""><div class="media-screen:important-flex items-center px-4 h-6 rd-t-1 bg-area dark:bg-#2A313A" style="display:none;" data-v-fc4b3c9e=""><h4 class="text-3 text-footer" itemprop="programmingLanguage" aria-label="asm ä»£ç å—" data-v-fc4b3c9e="">asm</h4><ile-root id="ile-6"><button title="å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copy-button b-footer text-footer" data-v-9288569d=""><span class="i-mdi-content-copy" data-v-9288569d=""></span><span class="sr-only" role="status" data-v-9288569d=""></span></button></ile-root><script></script><script type="module" async="">var s=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var r=(i,a,o)=>new Promise((c,n)=>{var f=t=>{try{_(o.next(t))}catch(e){n(e)}},l=t=>{try{_(o.throw(t))}catch(e){n(e)}},_=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);_((o=o.apply(i,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{b as p}from"/assets/iles.c6dd5c6f.js";import"/assets/vendor-vue.0eea1c14.js";var E=s(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.c6dd5c6f.js").then(i=>i.v),["assets/iles.c6dd5c6f.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/CopyButton.26127d20.js"),["assets/CopyButton.26127d20.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default});p(u,v,"ile-6",{},{})});export default E();
</script></div><div class="light:hidden" itemprop="text" data-v-fc4b3c9e=""><pre class="shiki dark" style="background-color: #011627" tabindex="0"><code><span><span style="color: #D6DEEB">	.file	"a.c"</span></span>
<span><span style="color: #D6DEEB">	.text</span></span>
<span><span style="color: #D6DEEB">	.globl	multstore</span></span>
<span><span style="color: #D6DEEB">	.type	multstore, @function</span></span>
<span><span style="color: #82AAFF">multstore:</span></span>
<span><span style="color: #C792EA">.</span><span style="color: #82AAFF">LFB0:</span></span>
<span><span style="color: #D6DEEB">	.cfi_startproc</span></span>
<span><span style="color: #D6DEEB">	pushq	%</span><span style="color: #82AAFF">rbx</span></span>
<span><span style="color: #D6DEEB">	.cfi_def_cfa_offset </span><span style="color: #F78C6C">16</span></span>
<span><span style="color: #D6DEEB">	.cfi_offset </span><span style="color: #F78C6C">3</span><span style="color: #D6DEEB">, -</span><span style="color: #F78C6C">16</span></span>
<span><span style="color: #D6DEEB">	</span><span style="color: #7FDBCA">movq</span><span style="color: #D6DEEB">	%</span><span style="color: #82AAFF">rdx</span><span style="color: #D6DEEB">, %</span><span style="color: #82AAFF">rbx</span></span>
<span><span style="color: #D6DEEB">	</span><span style="color: #7FDBCA">call</span><span style="color: #D6DEEB">	mult2@PLT</span></span>
<span><span style="color: #D6DEEB">	</span><span style="color: #7FDBCA">movq</span><span style="color: #D6DEEB">	%</span><span style="color: #82AAFF">rax</span><span style="color: #D6DEEB">, (%</span><span style="color: #82AAFF">rbx</span><span style="color: #D6DEEB">)</span></span>
<span><span style="color: #D6DEEB">	popq	%</span><span style="color: #82AAFF">rbx</span></span>
<span><span style="color: #D6DEEB">	.cfi_def_cfa_offset </span><span style="color: #F78C6C">8</span></span>
<span><span style="color: #D6DEEB">	</span><span style="color: #7FDBCA">ret</span></span>
<span><span style="color: #D6DEEB">	.cfi_endproc</span></span>
<span><span style="color: #C792EA">.</span><span style="color: #82AAFF">LFE0:</span></span>
<span><span style="color: #D6DEEB">	.size	multstore, .-multstore</span></span>
<span><span style="color: #D6DEEB">	.ident	"</span><span style="color: #82AAFF">GCC:</span><span style="color: #D6DEEB"> (GNU) </span><span style="color: #F78C6C">12.2</span><span style="color: #C792EA">.</span><span style="color: #82AAFF">0</span><span style="color: #D6DEEB">"</span></span>
<span><span style="color: #D6DEEB">	.section	.note.GNU-stack,"",@progbits</span></span></code></pre></div><div class="light:important-block" style="display:none;" data-v-fc4b3c9e=""><pre class="shiki light" style="background-color: #FBFBFB" tabindex="0"><code><span><span style="color: #403F53">	.file	"a.c"</span></span>
<span><span style="color: #403F53">	.text</span></span>
<span><span style="color: #403F53">	.globl	multstore</span></span>
<span><span style="color: #403F53">	.type	multstore, @function</span></span>
<span><span style="color: #4876D6">multstore:</span></span>
<span><span style="color: #994CC3">.</span><span style="color: #4876D6">LFB0:</span></span>
<span><span style="color: #403F53">	.cfi_startproc</span></span>
<span><span style="color: #403F53">	pushq	%</span><span style="color: #4876D6">rbx</span></span>
<span><span style="color: #403F53">	.cfi_def_cfa_offset </span><span style="color: #AA0982">16</span></span>
<span><span style="color: #403F53">	.cfi_offset </span><span style="color: #AA0982">3</span><span style="color: #403F53">, -</span><span style="color: #AA0982">16</span></span>
<span><span style="color: #403F53">	</span><span style="color: #0C969B">movq</span><span style="color: #403F53">	%</span><span style="color: #4876D6">rdx</span><span style="color: #403F53">, %</span><span style="color: #4876D6">rbx</span></span>
<span><span style="color: #403F53">	</span><span style="color: #0C969B">call</span><span style="color: #403F53">	mult2@PLT</span></span>
<span><span style="color: #403F53">	</span><span style="color: #0C969B">movq</span><span style="color: #403F53">	%</span><span style="color: #4876D6">rax</span><span style="color: #403F53">, (%</span><span style="color: #4876D6">rbx</span><span style="color: #403F53">)</span></span>
<span><span style="color: #403F53">	popq	%</span><span style="color: #4876D6">rbx</span></span>
<span><span style="color: #403F53">	.cfi_def_cfa_offset </span><span style="color: #AA0982">8</span></span>
<span><span style="color: #403F53">	</span><span style="color: #0C969B">ret</span></span>
<span><span style="color: #403F53">	.cfi_endproc</span></span>
<span><span style="color: #994CC3">.</span><span style="color: #4876D6">LFE0:</span></span>
<span><span style="color: #403F53">	.size	multstore, .-multstore</span></span>
<span><span style="color: #403F53">	.ident	"</span><span style="color: #4876D6">GCC:</span><span style="color: #403F53"> (GNU) </span><span style="color: #AA0982">12.2</span><span style="color: #994CC3">.</span><span style="color: #4876D6">0</span><span style="color: #403F53">"</span></span>
<span><span style="color: #403F53">	.section	.note.GNU-stack,"",@progbits</span></span></code></pre></div></section>
<h3 id="åæ±‡ç¼–ä¸æœºå™¨ç " class="heading"><a href="#åæ±‡ç¼–ä¸æœºå™¨ç " class="heading-anchor" aria-label="ç« èŠ‚ï¼š åæ±‡ç¼–ä¸æœºå™¨ç " tabindex="-1"></a><span>åæ±‡ç¼–ä¸æœºå™¨ç </span></h3>
<p>å¯ä»¥é€šè¿‡ <code>objdump</code> åæ±‡ç¼–<span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚ <code>gcc a.c -Og -c &amp;&amp; objdump -d a.o</code> å¾—åˆ°<span class="mojikumi-line-end">ï¼š</span></p>
<section class="code-block relative my-6 shadow" itemprop="hasPart" itemscope="" itemtype="https://schema.org/SoftwareSourceCode" data-v-fc4b3c9e=""><div class="media-screen:important-flex items-center px-4 h-6 rd-t-1 bg-area dark:bg-#2A313A" style="display:none;" data-v-fc4b3c9e=""><h4 class="text-3 text-footer" itemprop="programmingLanguage" aria-label="asm ä»£ç å—" data-v-fc4b3c9e="">asm</h4><ile-root id="ile-7"><button title="å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copy-button b-footer text-footer" data-v-9288569d=""><span class="i-mdi-content-copy" data-v-9288569d=""></span><span class="sr-only" role="status" data-v-9288569d=""></span></button></ile-root><script></script><script type="module" async="">var s=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var r=(i,a,o)=>new Promise((c,n)=>{var f=t=>{try{_(o.next(t))}catch(e){n(e)}},l=t=>{try{_(o.throw(t))}catch(e){n(e)}},_=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);_((o=o.apply(i,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{b as p}from"/assets/iles.c6dd5c6f.js";import"/assets/vendor-vue.0eea1c14.js";var E=s(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.c6dd5c6f.js").then(i=>i.v),["assets/iles.c6dd5c6f.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/CopyButton.26127d20.js"),["assets/CopyButton.26127d20.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default});p(u,v,"ile-7",{},{})});export default E();
</script></div><div class="light:hidden" itemprop="text" data-v-fc4b3c9e=""><pre class="shiki dark" style="background-color: #011627" tabindex="0"><code><span><span style="color: #D6DEEB">a.oï¼š     æ–‡ä»¶æ ¼å¼ elf64-x86-</span><span style="color: #F78C6C">64</span></span>
<span></span>
<span></span>
<span><span style="color: #D6DEEB">Disassembly of section .text:</span></span>
<span></span>
<span><span style="color: #F78C6C">0000000000000000</span><span style="color: #D6DEEB"> &lt;multstore&gt;:</span></span>
<span><span style="color: #D6DEEB">   </span><span style="color: #F78C6C">0</span><span style="color: #D6DEEB">:	</span><span style="color: #F78C6C">53</span><span style="color: #D6DEEB">                   	</span><span style="color: #7FDBCA">push</span><span style="color: #D6DEEB">   %</span><span style="color: #82AAFF">rbx</span></span>
<span><span style="color: #D6DEEB">   </span><span style="color: #F78C6C">1</span><span style="color: #D6DEEB">:	</span><span style="color: #F78C6C">48</span><span style="color: #D6DEEB"> </span><span style="color: #F78C6C">89</span><span style="color: #D6DEEB"> d3             	</span><span style="color: #7FDBCA">mov</span><span style="color: #D6DEEB">    %</span><span style="color: #82AAFF">rdx</span><span style="color: #D6DEEB">,%</span><span style="color: #82AAFF">rbx</span></span>
<span><span style="color: #D6DEEB">   </span><span style="color: #F78C6C">4</span><span style="color: #D6DEEB">:	e8 </span><span style="color: #F78C6C">00</span><span style="color: #D6DEEB"> </span><span style="color: #F78C6C">00</span><span style="color: #D6DEEB"> </span><span style="color: #F78C6C">00</span><span style="color: #D6DEEB"> </span><span style="color: #F78C6C">00</span><span style="color: #D6DEEB">       	</span><span style="color: #7FDBCA">call</span><span style="color: #D6DEEB">   </span><span style="color: #F78C6C">9</span><span style="color: #D6DEEB"> &lt;multstore+</span><span style="color: #F78C6C">0x9</span><span style="color: #D6DEEB">&gt;</span></span>
<span><span style="color: #D6DEEB">   </span><span style="color: #F78C6C">9</span><span style="color: #D6DEEB">:	</span><span style="color: #F78C6C">48</span><span style="color: #D6DEEB"> </span><span style="color: #F78C6C">89</span><span style="color: #D6DEEB"> </span><span style="color: #F78C6C">03</span><span style="color: #D6DEEB">             	</span><span style="color: #7FDBCA">mov</span><span style="color: #D6DEEB">    %</span><span style="color: #82AAFF">rax</span><span style="color: #D6DEEB">,(%</span><span style="color: #82AAFF">rbx</span><span style="color: #D6DEEB">)</span></span>
<span><span style="color: #D6DEEB">   </span><span style="color: #82AAFF">c:</span><span style="color: #D6DEEB">	5b                   	</span><span style="color: #7FDBCA">pop</span><span style="color: #D6DEEB">    %</span><span style="color: #82AAFF">rbx</span></span>
<span><span style="color: #D6DEEB">   </span><span style="color: #82AAFF">d:</span><span style="color: #D6DEEB">	c3                   	</span><span style="color: #7FDBCA">ret</span></span></code></pre></div><div class="light:important-block" style="display:none;" data-v-fc4b3c9e=""><pre class="shiki light" style="background-color: #FBFBFB" tabindex="0"><code><span><span style="color: #403F53">a.oï¼š     æ–‡ä»¶æ ¼å¼ elf64-x86-</span><span style="color: #AA0982">64</span></span>
<span></span>
<span></span>
<span><span style="color: #403F53">Disassembly of section .text:</span></span>
<span></span>
<span><span style="color: #AA0982">0000000000000000</span><span style="color: #403F53"> &lt;multstore&gt;:</span></span>
<span><span style="color: #403F53">   </span><span style="color: #AA0982">0</span><span style="color: #403F53">:	</span><span style="color: #AA0982">53</span><span style="color: #403F53">                   	</span><span style="color: #0C969B">push</span><span style="color: #403F53">   %</span><span style="color: #4876D6">rbx</span></span>
<span><span style="color: #403F53">   </span><span style="color: #AA0982">1</span><span style="color: #403F53">:	</span><span style="color: #AA0982">48</span><span style="color: #403F53"> </span><span style="color: #AA0982">89</span><span style="color: #403F53"> d3             	</span><span style="color: #0C969B">mov</span><span style="color: #403F53">    %</span><span style="color: #4876D6">rdx</span><span style="color: #403F53">,%</span><span style="color: #4876D6">rbx</span></span>
<span><span style="color: #403F53">   </span><span style="color: #AA0982">4</span><span style="color: #403F53">:	e8 </span><span style="color: #AA0982">00</span><span style="color: #403F53"> </span><span style="color: #AA0982">00</span><span style="color: #403F53"> </span><span style="color: #AA0982">00</span><span style="color: #403F53"> </span><span style="color: #AA0982">00</span><span style="color: #403F53">       	</span><span style="color: #0C969B">call</span><span style="color: #403F53">   </span><span style="color: #AA0982">9</span><span style="color: #403F53"> &lt;multstore+</span><span style="color: #AA0982">0x9</span><span style="color: #403F53">&gt;</span></span>
<span><span style="color: #403F53">   </span><span style="color: #AA0982">9</span><span style="color: #403F53">:	</span><span style="color: #AA0982">48</span><span style="color: #403F53"> </span><span style="color: #AA0982">89</span><span style="color: #403F53"> </span><span style="color: #AA0982">03</span><span style="color: #403F53">             	</span><span style="color: #0C969B">mov</span><span style="color: #403F53">    %</span><span style="color: #4876D6">rax</span><span style="color: #403F53">,(%</span><span style="color: #4876D6">rbx</span><span style="color: #403F53">)</span></span>
<span><span style="color: #403F53">   </span><span style="color: #4876D6">c:</span><span style="color: #403F53">	5b                   	</span><span style="color: #0C969B">pop</span><span style="color: #403F53">    %</span><span style="color: #4876D6">rbx</span></span>
<span><span style="color: #403F53">   </span><span style="color: #4876D6">d:</span><span style="color: #403F53">	c3                   	</span><span style="color: #0C969B">ret</span></span></code></pre></div></section>
<p>å¯ä»¥çœ‹å‡º<span class="mojikumi-line-end">ï¼Œ</span>æœºå™¨ç å°±æ˜¯ä¸€ä¸² bytes<span class="mojikumi-line-end">ï¼Œ</span>è‹¥å¹²ä¸ª bytes åˆåœ¨ä¸€èµ·è¡¨ç¤ºä¸€æ¡æŒ‡ä»¤<span class="mojikumi-line-end">ã€‚</span>è€Œæ¯æ¡æŒ‡ä»¤å¯¹åº”çš„ bytes æ•°é‡ä¸åŒ<span class="mojikumi-line-end">ï¼Œ</span>ä¸ operands ä¸ªæ•°ä»¥åŠæŒ‡ä»¤çš„å¸¸ç”¨ç¨‹åº¦ç›¸å…³<span class="mojikumi-line-start">ï¼ˆ</span>ç±»ä¼¼æ‘©æ–¯ç”µç <span class="mojikumi-line-end">ã€</span>UTF-8<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ã€‚</span></p>
<a id="æŒ‡ä»¤é›†çš„-referenceï¼›att-æ ¼å¼-vs-intel-æ ¼å¼" name="æŒ‡ä»¤é›†çš„-referenceï¼›att-æ ¼å¼-vs-intel-æ ¼å¼" aria-hidden="true"></a>
<aside role="note" data-v-1ac72824=""><div class="shadow-md rd-1 b-l-6 my-6 bg-blue-1 dark:bg-blue-9 b-blue" data-v-1ac72824=""><div class="p-3 flex justify-between items-center" data-v-1ac72824=""><h4 class="font-bold flex items-center gap-1" data-v-1ac72824=""><span class="text-5 i-mdi-pencil text-blue" data-v-1ac72824=""></span><span class="sr-only" data-v-1ac72824="">Note</span><span data-v-1ac72824="">æŒ‡ä»¤é›†çš„ referenceï¼›ATT æ ¼å¼ vs Intel æ ¼å¼</span></h4><!--v-if--></div><div class="bg-card dark:bg-bghover overflow-auto px-6 rd-br-1" data-v-1ac72824=""><p>CS:APP ä»¥åŠ gcc é»˜è®¤ä½¿ç”¨çš„æ˜¯ ATT æ ¼å¼çš„æ±‡ç¼–<span class="mojikumi-line-end">ï¼Œ</span>å¯ä»¥åœ¨ <a href="https://docs.oracle.com/cd/E19253-01/817-5477/enmzx/index.html">Instruction Set Mapping - Oracle x86 Assembly Language Reference Manual</a> æŸ¥çœ‹ ATT æ ¼å¼æ±‡ç¼–å’Œå®é™…æŒ‡ä»¤ä¹‹é—´çš„å¯¹åº”å…³ç³»<span class="mojikumi-line-end">ï¼Œ</span>åœ¨ <a href="https://www.intel.com/content/www/us/en/developer/articles/technical/intel-sdm.html">IntelÂ® 64 and IA-32 Architectures Software Developer Manuals</a><span class="mojikumi-line-start">ï¼ˆ</span>ä¸‹æ–‡ä¸­ä»¥ <span class="mojikumi">â€œ</span>Intel Manual<span class="mojikumi">â€</span> æŒ‡ä»£<span class="mojikumi">ï¼‰</span><wbr><span class="mojikumi-line-start">ï¼ˆ</span>ä¸»è¦æ˜¯ç¬¬ 2 å·<span class="mojikumi-line-end">ï¼‰</span>æŸ¥çœ‹å…·ä½“æŒ‡ä»¤çš„ reference<span class="mojikumi-line-end">ã€‚</span></p><p>ATT æ ¼å¼ä¸ Intel æ ¼å¼æœ‰ä¸€äº›å·®åˆ«<span class="mojikumi-line-end">ï¼Œ</span>å…¶ä¸­åœ¨æŸ¥çœ‹ reference æ—¶éœ€è¦æ³¨æ„çš„æ˜¯<span class="mojikumi-line-end">ï¼Œ</span>Intel æ ¼å¼çš„æŒ‡ä»¤æ²¡æœ‰ <code>b/w/l/q</code> çš„ç±»å‹åç¼€<span class="mojikumi-line-end">ï¼Œ</span>å¹¶ä¸” operands çš„é¡ºåºå’Œ ATT æ ¼å¼æ°å¥½ç›¸å<span class="mojikumi-line-end">ã€‚</span></p></div></div></aside>
<h2 id="data-formats" class="heading"><a href="#data-formats" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Data Formats" tabindex="-1"></a><span>Data Formats</span></h2>
<p>ç”±äºå†å²åŸå› <span class="mojikumi-line-end">ï¼Œ</span>Intel ä½¿ç”¨ <span class="mojikumi">â€œ</span>word<span class="mojikumi">â€</span> è¡¨ç¤º 16 bits<span class="mojikumi-line-end">ï¼Œ</span>è€Œç”¨ <span class="mojikumi">â€œ</span>double word<span class="mojikumi">â€</span> è¡¨ç¤º 32 bits<span class="mojikumi-line-end">ï¼Œ</span>ç”¨ <span class="mojikumi">â€œ</span>quad word<span class="mojikumi">â€</span> è¡¨ç¤º 64 bits<span class="mojikumi-line-end">ã€‚</span></p>
<p>C è¯­è¨€ç±»å‹åœ¨ x86-64 ä¸­çš„å¤§å°<span class="mojikumi-line-end">ï¼š</span></p>
<div class="overflow-auto my-6"><table>
<thead>
<tr>
<th align="center">C è¯­è¨€ç±»å‹</th>
<th align="center">Intel æ•°æ®ç±»å‹</th>
<th align="center">æ±‡ç¼–åç¼€</th>
<th align="center">bytes</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>char</code></td>
<td align="center">byte</td>
<td align="center"><code>b</code></td>
<td align="center">1</td>
</tr>
<tr>
<td align="center"><code>short</code></td>
<td align="center">word</td>
<td align="center"><code>w</code></td>
<td align="center">2</td>
</tr>
<tr>
<td align="center"><code>int</code></td>
<td align="center">double word</td>
<td align="center"><code>l</code> (long)</td>
<td align="center">4</td>
</tr>
<tr>
<td align="center"><code>long</code></td>
<td align="center">quad word</td>
<td align="center"><code>q</code></td>
<td align="center">8</td>
</tr>
<tr>
<td align="center">æŒ‡é’ˆ</td>
<td align="center">quad word</td>
<td align="center"><code>q</code></td>
<td align="center">8</td>
</tr>
<tr>
<td align="center"><code>float</code></td>
<td align="center">single precision</td>
<td align="center"><code>s</code> (short)</td>
<td align="center">4</td>
</tr>
<tr>
<td align="center"><code>double</code></td>
<td align="center">double precision</td>
<td align="center"><code>l</code> (long)</td>
<td align="center">8</td>
</tr>
</tbody>
</table></div>
<p>æ¯ç§ç±»å‹éƒ½æœ‰ä¸€ä¸ªç”¨åœ¨æ±‡ç¼–æŒ‡ä»¤ä¸­çš„åç¼€<span class="mojikumi-line-end">ï¼Œ</span>è¡¨ç¤º operand çš„ç±»å‹<span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚ <code>movb</code><span class="mojikumi-line-end">ã€</span><code>movw</code><span class="mojikumi-line-end">ã€</span><code>movl</code><span class="mojikumi-line-end">ã€</span><code>movq</code><span class="mojikumi-line-end">ã€‚</span><code>l</code> æ—¢ç”¨äº double word ä¹Ÿç”¨äº double precision<span class="mojikumi-line-end">ï¼Œ</span>ä½†æ•´æ•°å’Œæµ®ç‚¹æ•°æ¶‰åŠçš„æŒ‡ä»¤ä¸åŒ<span class="mojikumi-line-end">ï¼Œ</span>æ‰€ä»¥ä¸ä¼šæœ‰æ­§ä¹‰<span class="mojikumi">ã€‚</span><wbr><span class="mojikumi-line-start">ï¼ˆ</span>åæ–‡ä¸­ <a href="#floating-point-code">Floating-Point Code</a> ç”¨çš„ AVX2 æŒ‡ä»¤å¹¶ä¸ä½¿ç”¨ <code>s</code>/<code>l</code> çš„æµ®ç‚¹æ•°ç±»å‹åç¼€<span class="mojikumi">ã€‚</span><span class="mojikumi-line-end">ï¼‰</span></p>
<h2 id="accessing-information" class="heading"><a href="#accessing-information" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Accessing Information" tabindex="-1"></a><span>Accessing Information</span></h2>
<h3 id="å¯„å­˜å™¨" class="heading"><a href="#å¯„å­˜å™¨" class="heading-anchor" aria-label="ç« èŠ‚ï¼š å¯„å­˜å™¨" tabindex="-1"></a><span>å¯„å­˜å™¨</span></h3>
<p>x86-64 CPU æœ‰ 16 ä¸ª general-purpose register<span class="mojikumi-line-end">ï¼Œ</span>å¯ä»¥ç”¨æ¥å­˜æ•´æ•°æˆ–æŒ‡é’ˆ<span class="mojikumi-line-end">ï¼š</span></p>
<div class="overflow-auto my-6"><table>
<thead>
<tr>
<th align="center">quad word</th>
<th align="center">double word</th>
<th align="center">word</th>
<th align="center">byte</th>
<th align="center">ç”¨é€”</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>%rax</code></td>
<td align="center"><code>%eax</code></td>
<td align="center"><code>%ax</code></td>
<td align="center"><code>%al</code></td>
<td align="center">return value</td>
</tr>
<tr>
<td align="center"><code>%rbx</code></td>
<td align="center"><code>%ebx</code></td>
<td align="center"><code>%bx</code></td>
<td align="center"><code>%bl</code></td>
<td align="center">callee saved</td>
</tr>
<tr>
<td align="center"><code>%rcx</code></td>
<td align="center"><code>%ecx</code></td>
<td align="center"><code>%cx</code></td>
<td align="center"><code>%cl</code></td>
<td align="center">4th argument</td>
</tr>
<tr>
<td align="center"><code>%rdx</code></td>
<td align="center"><code>%edx</code></td>
<td align="center"><code>%dx</code></td>
<td align="center"><code>%dl</code></td>
<td align="center">3rd argument</td>
</tr>
<tr>
<td align="center"><code>%rsi</code></td>
<td align="center"><code>%esi</code></td>
<td align="center"><code>%si</code></td>
<td align="center"><code>%sil</code></td>
<td align="center">2nd argument</td>
</tr>
<tr>
<td align="center"><code>%rdi</code></td>
<td align="center"><code>%edi</code></td>
<td align="center"><code>%di</code></td>
<td align="center"><code>%dil</code></td>
<td align="center">1st argument</td>
</tr>
<tr>
<td align="center"><code>%rbp</code></td>
<td align="center"><code>%ebp</code></td>
<td align="center"><code>%bp</code></td>
<td align="center"><code>%bpl</code></td>
<td align="center">callee saved</td>
</tr>
<tr>
<td align="center"><code>%rsp</code></td>
<td align="center"><code>%esp</code></td>
<td align="center"><code>%sp</code></td>
<td align="center"><code>%spl</code></td>
<td align="center">stack pointer</td>
</tr>
<tr>
<td align="center"><code>%r8</code></td>
<td align="center"><code>%r8d</code></td>
<td align="center"><code>%r8w</code></td>
<td align="center"><code>%r8b</code></td>
<td align="center">5th argument</td>
</tr>
<tr>
<td align="center"><code>%r9</code></td>
<td align="center"><code>%r9d</code></td>
<td align="center"><code>%r9w</code></td>
<td align="center"><code>%r9b</code></td>
<td align="center">6th argument</td>
</tr>
<tr>
<td align="center"><code>%r10</code></td>
<td align="center"><code>%r10d</code></td>
<td align="center"><code>%r10w</code></td>
<td align="center"><code>%r10b</code></td>
<td align="center">caller saved</td>
</tr>
<tr>
<td align="center"><code>%r11</code></td>
<td align="center"><code>%r11d</code></td>
<td align="center"><code>%r11w</code></td>
<td align="center"><code>%r11b</code></td>
<td align="center">caller saved</td>
</tr>
<tr>
<td align="center"><code>%r12</code></td>
<td align="center"><code>%r12d</code></td>
<td align="center"><code>%r12w</code></td>
<td align="center"><code>%r12b</code></td>
<td align="center">callee saved</td>
</tr>
<tr>
<td align="center"><code>%r13</code></td>
<td align="center"><code>%r13d</code></td>
<td align="center"><code>%r13w</code></td>
<td align="center"><code>%r13b</code></td>
<td align="center">callee saved</td>
</tr>
<tr>
<td align="center"><code>%r14</code></td>
<td align="center"><code>%r14d</code></td>
<td align="center"><code>%r14w</code></td>
<td align="center"><code>%r14b</code></td>
<td align="center">callee saved</td>
</tr>
<tr>
<td align="center"><code>%r15</code></td>
<td align="center"><code>%r15d</code></td>
<td align="center"><code>%r15w</code></td>
<td align="center"><code>%r15b</code></td>
<td align="center">callee saved</td>
</tr>
</tbody>
</table></div>
<p>æ¯ä¸ª register å¯ä»¥ç”¨å››ç§ä¸åŒçš„é•¿åº¦è®¿é—®<span class="mojikumi-line-end">ï¼Œ</span>å…¶ä¸­çŸ­çš„æ˜¯é•¿çš„çš„ä½ä½<span class="mojikumi-line-end">ã€‚</span>ä¿®æ”¹ byte æˆ– word çš„å€¼æ—¶é«˜ä½ä¸å˜<span class="mojikumi-line-end">ï¼Œ</span>ä¿®æ”¹ double word çš„å€¼åˆ™ä¼šå°†é«˜ä½æ¸…é›¶<span class="mojikumi-line-end">ã€‚</span></p>
<p>ä¸åŒå¯„å­˜å™¨çš„ç”¨é€”å°†åœ¨åæ–‡è¯´æ˜<span class="mojikumi-line-start">ï¼ˆ</span>ä¸»è¦æ˜¯åœ¨ <a href="#procedures">Procedures</a> è¿™ä¸€èŠ‚<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="operand-æ ¼å¼" class="heading"><a href="#operand-æ ¼å¼" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Operand æ ¼å¼" tabindex="-1"></a><span>Operand æ ¼å¼</span></h3>
<p>æŒ‡ä»¤çš„ operand æœ‰ä¸‰ç§æŒ‡å®šæ–¹å¼<span class="mojikumi-line-end">ï¼š</span></p>
<ol>
<li>Immediate<span class="mojikumi-line-end">ï¼Œ</span>å³å­—é¢å€¼<span class="mojikumi-line-end">ï¼Œ</span>ä»£ç ä¸º <code>$Imm</code><span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚ <code>$123</code> è¡¨ç¤º 123<span class="mojikumi-line-end">ï¼Œ</span><code>$0x123</code> è¡¨ç¤º 0x123</li>
<li>Register<span class="mojikumi-line-end">ï¼Œ</span>ä»£ç ä¸ºå¯„å­˜å™¨çš„åç§°<span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚ <code>%rax</code></li>
<li>Memory<span class="mojikumi-line-end">ï¼Œ</span>å®Œæ•´å½¢æ€çš„ä»£ç ä¸º <code>Imm(rb, ri, s)</code><span class="mojikumi-line-end">ï¼Œ</span>è¡¨ç¤º <code>M[Imm + R[rb] + R[ri] * s]</code><span class="mojikumi-line-start">ï¼ˆ</span>å…¶ä¸­ <code>ri</code> ä¸ä¸º <code>%rsp</code><span class="mojikumi-line-end">ï¼Œ</span><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>âˆˆ</mo><mo stretchy="false">{</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mn>4</mn><mo separator="true">,</mo><mn>8</mn><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">s \in \{1, 2, 4, 8\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">8</span><span class="mclose">}</span></span></span></span></span><span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚ <code>2(%rax, %rbx, 4)</code> è¡¨ç¤º memory ä¸­åœ°å€ä¸º <code>2 + %rax + 4 * %rbx</code> çš„å€¼<span class="mojikumi-line-end">ï¼›</span><code>Imm</code><span class="mojikumi-line-end">ã€</span><code>rb</code><span class="mojikumi-line-end">ã€</span><code>, ri, s</code> åˆ†åˆ«å¯ä»¥çœç•¥<span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚ <code>Imm</code><span class="mojikumi-line-end">ã€</span><code>(rb)</code><span class="mojikumi-line-end">ã€</span><code>Imm(, ri, s)</code><span class="mojikumi-line-end">ï¼›</span>æŒ‡å®šäº† <code>ri</code> æ—¶ä¹Ÿå¯ä»¥çœç•¥ <code>s</code> è¡¨ç¤º <code>s</code> ä¸º 1<span class="mojikumi-line-end">ã€‚</span></li>
</ol>
<p>åœ¨ä¸‹æ–‡ä¸­<span class="mojikumi-line-end">ï¼Œ</span>ç”¨ <code>imm32</code><span class="mojikumi-line-end">ã€</span><code>r64</code><span class="mojikumi-line-end">ã€</span><code>m16</code><span class="mojikumi-line-end">ã€</span><code>r/m64</code> ç­‰æ–¹å¼è¡¨ç¤ºæŒ‡ä»¤ operand çš„ç±»å‹<span class="mojikumi-line-end">ã€‚</span></p>
<p><span class="mojikumi-line-start">ï¼ˆ</span>åœ¨ ATT æ ¼å¼ä¸­<span class="mojikumi-line-end">ï¼‰</span>æœ‰ä¸¤ä¸ª operand æ—¶<span class="mojikumi-line-end">ï¼Œ</span>ç¬¬ä¸€ä¸ªæ˜¯ source<span class="mojikumi-line-end">ï¼Œ</span>ç¬¬äºŒä¸ªæ˜¯ destination<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="move-ç±»æŒ‡ä»¤" class="heading"><a href="#move-ç±»æŒ‡ä»¤" class="heading-anchor" aria-label="ç« èŠ‚ï¼š move ç±»æŒ‡ä»¤" tabindex="-1"></a><span>move ç±»æŒ‡ä»¤</span></h3>
<p>è™½ç„¶å« <span class="mojikumi">â€œ</span>move<span class="mojikumi">â€</span><span class="mojikumi-line-end">ï¼Œ</span>ä½†å®é™…ä¸Šæ˜¯å¤åˆ¶<span class="mojikumi-line-end">ã€‚</span></p>
<h4 id="mov-æŒ‡ä»¤" class="heading"><a href="#mov-æŒ‡ä»¤" class="heading-anchor" aria-label="ç« èŠ‚ï¼š MOV æŒ‡ä»¤" tabindex="-1"></a><span>MOV æŒ‡ä»¤</span></h4>
<p>source å’Œ destination ç±»å‹ç›¸åŒ<span class="mojikumi-line-end">ã€‚</span></p>
<ul>
<li><code>movb imm/r8, r/m8</code></li>
<li><code>movb m8, r8</code></li>
<li><code>movw imm/r16, r/m16</code></li>
<li><code>movw m16, r16</code></li>
<li><code>movl imm/r32, r/m32</code></li>
<li><code>movl m32, r32</code></li>
<li><code>movq imm32/r64, r/m64</code></li>
<li><code>movq m64, r64</code></li>
<li><code>movabsq imm64, r64</code></li>
</ul>
<p>å…¶ä¸­<span class="mojikumi-line-end">ï¼Œ</span>source å’Œ destination ä¸èƒ½åŒæ—¶æ˜¯ memory<span class="mojikumi-line-end">ã€‚</span></p>
<p>ç‰¹åˆ«åœ°<span class="mojikumi-line-end">ï¼Œ</span><code>movq</code> ä¸æ¥å— imm64<span class="mojikumi-line-end">ï¼Œ</span>å¤åˆ¶æ—¶ä¼šåœ¨ imm32 çš„é«˜ä½è¡¥ç¬¦å·ä½<span class="mojikumi-line-end">ï¼›</span><code>movabsq</code> å¯ä»¥æ¥å— imm64<span class="mojikumi-line-end">ï¼Œ</span>ä½† destination åªèƒ½æ˜¯å¯„å­˜å™¨<span class="mojikumi-line-end">ã€‚</span>è¿™æ ·è®¾è®¡çš„åŸå› å¯ä»¥å‚è€ƒ <a href="https://stackoverflow.com/questions/62771323/why-we-cant-move-a-64-bit-immediate-value-to-memory">assembly - why we can't move a 64-bit immediate value to memory? - Stack Overflow</a><span class="mojikumi-line-end">ã€‚</span>å®é™…ä¸Š<span class="mojikumi-line-end">ï¼Œ</span>æ”¯æŒ imm64 ä½œä¸º operand çš„æŒ‡ä»¤æ˜¯å°‘æ•°<span class="mojikumi-line-end">ï¼Œ</span>åé¢è¿˜ä¼šçœ‹åˆ°å¾ˆå¤šä¸æ¥å— imm64 çš„æŒ‡ä»¤<span class="mojikumi-line-end">ï¼Œ</span>ä¸€èˆ¬éƒ½æ˜¯é«˜ä½è¡¥ç¬¦å·ä½<span class="mojikumi-line-end">ã€‚</span></p>
<h4 id="movz-æŒ‡ä»¤" class="heading"><a href="#movz-æŒ‡ä»¤" class="heading-anchor" aria-label="ç« èŠ‚ï¼š MOVZ æŒ‡ä»¤" tabindex="-1"></a><span>MOVZ æŒ‡ä»¤</span></h4>
<p>å°†é«˜ä½è¡¥é›¶åå¤åˆ¶<span class="mojikumi-line-end">ã€‚</span></p>
<ul>
<li><code>movzbw r/m8, r16</code></li>
<li><code>movzbl r/m8, r32</code></li>
<li><code>movzwl r/m16, r32</code></li>
<li><code>movzbq r/m8, r64</code></li>
<li><code>movzwq r/m16, r64</code></li>
</ul>
<p>æ²¡æœ‰ <code>movzlq</code> è¿™æ¡æŒ‡ä»¤<span class="mojikumi-line-end">ï¼Œ</span>å› ä¸ºå°†å¯„å­˜å™¨çš„å€¼ä¿®æ”¹ä¸ºä¸€ä¸ª double word æ—¶å°±ä¼šå°†é«˜ä½æ¸…é›¶<span class="mojikumi-line-end">ï¼Œ</span>æ‰€ä»¥ä½¿ç”¨ <code>movl</code> å°±å¯ä»¥äº†<span class="mojikumi-line-end">ã€‚</span></p>
<a id="æ²¡ç”¨çš„-movzbq-å’Œ-movzwq-ï¼Ÿ" name="æ²¡ç”¨çš„-movzbq-å’Œ-movzwq-ï¼Ÿ" aria-hidden="true"></a>
<aside role="note" data-v-1ac72824=""><div class="shadow-md rd-1 b-l-6 my-6 bg-purple-2 dark:bg-purple-9 b-purple-5" data-v-1ac72824=""><div class="p-3 flex justify-between items-center" data-v-1ac72824=""><h5 class="font-bold flex items-center gap-1" data-v-1ac72824=""><span class="text-5 i-mdi-help-circle-outline text-purple" data-v-1ac72824=""></span><span class="sr-only" data-v-1ac72824="">Question</span><span data-v-1ac72824="">æ²¡ç”¨çš„ <code>movzbq</code> å’Œ <code>movzwq</code> ğŸ¤”ï¼Ÿ</span></h5><!--v-if--></div><div class="bg-card dark:bg-bghover overflow-auto px-6 rd-br-1" data-v-1ac72824=""><p>è™½ç„¶æœ‰ <code>movzbq</code> å’Œ <code>movzwq</code><span class="mojikumi-line-end">ï¼Œ</span>ä½†ä¸€èˆ¬ä¼šç”¨ <code>movzbl</code> å’Œ <code>movzwl</code>
å®ç°ç›¸åº”çš„åŠŸèƒ½<span class="mojikumi-line-end">ã€‚</span>æ²¡æœåˆ°ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¸¤æ¡æŒ‡ä»¤...</p></div></div></aside>
<h4 id="movs-æŒ‡ä»¤" class="heading"><a href="#movs-æŒ‡ä»¤" class="heading-anchor" aria-label="ç« èŠ‚ï¼š MOVS æŒ‡ä»¤" tabindex="-1"></a><span>MOVS æŒ‡ä»¤</span></h4>
<p>å°†é«˜ä½è¡¥ç¬¦å·ä½åå¤åˆ¶<span class="mojikumi-line-end">ã€‚</span></p>
<ul>
<li><code>movsbw r/m8, r16</code></li>
<li><code>movsbl r/m8, r32</code></li>
<li><code>movsbq r/m8, r64</code></li>
<li><code>movswl r/m16, r32</code></li>
<li><code>movswq r/m16, r64</code></li>
<li><code>movslq r/m32, r64</code></li>
<li><code>cltq</code>: å’Œ <code>movslq %eax, %rax</code> æ•ˆæœç›¸åŒ<span class="mojikumi-line-start">ï¼ˆ</span>ä½†ç¼–ç æ›´çŸ­<span class="mojikumi-line-end">ï¼‰</span></li>
</ul>
<h3 id="pushpop-stack" class="heading"><a href="#pushpop-stack" class="heading-anchor" aria-label="ç« èŠ‚ï¼š push/pop stack" tabindex="-1"></a><span>push/pop stack</span></h3>
<ul>
<li><code>pushq<wbr> <wbr>imm32<wbr>/<wbr>r<wbr>/<wbr>m64</code>: å°† <code>R[%rsp]</code> å‡å…«<span class="mojikumi-line-end">ï¼Œ</span>ç„¶åå°† operand å¤åˆ¶åˆ° <code>M[R[%rsp]]</code><span class="mojikumi-line-start">ï¼ˆ</span><code>PUSH</code> æŒ‡ä»¤ä¸æ”¯æŒ imm64<span class="mojikumi-line-end">ï¼Œ</span>ä¼šå°† imm32 é«˜ä½è¡¥ç¬¦å·ä½<span class="mojikumi-line-end">ï¼‰</span></li>
<li><code>popq r/m64</code>: å°† <code>M[R[%rsp]]</code> å¤åˆ¶åˆ° operand<span class="mojikumi-line-end">ï¼Œ</span>ç„¶åå°† <code>R[%rsp]</code> åŠ å…«</li>
</ul>
<p>å¯ä»¥çœ‹å‡º<span class="mojikumi-line-end">ï¼Œ</span>program stack æ˜¯ memory ä¸­è¿ç»­çš„ä¸€æ®µ<span class="mojikumi-line-end">ï¼Œ</span>æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ª quad word<span class="mojikumi-line-end">ï¼Œ</span>top çš„åœ°å€æ¯” bottom ä½<span class="mojikumi-line-end">ï¼Œ</span>push æ—¶ stack pointer å‡å°<span class="mojikumi-line-end">ã€‚</span></p>
<p>ç”±äº stack ä¸è¿‡æ˜¯ç”± <code>%rsp</code> æ ‡è®°æ ˆé¡¶çš„ä¸€æ®µ memory<span class="mojikumi-line-end">ï¼Œ</span>å¯ä»¥é€šè¿‡ç»™ <code>%rsp</code> åŠ ä¸Šä¸€ä¸ª offset è®¿é—®éæ ˆé¡¶å…ƒç´ <span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚ <code>8(%rsp)</code> ä¸ºæ ˆé¡¶ä¸‹é¢çš„ç¬¬ä¸€ä¸ªå…ƒç´ <span class="mojikumi-line-end">ã€‚</span></p>
<a id="ä¸ºä»€ä¹ˆ-top-ä½äºä½åœ°å€ï¼Ÿ" name="ä¸ºä»€ä¹ˆ-top-ä½äºä½åœ°å€ï¼Ÿ" aria-hidden="true"></a>
<aside role="note" data-v-1ac72824=""><div class="shadow-md rd-1 b-l-6 my-6 bg-blue-1 dark:bg-blue-9 b-blue" data-v-1ac72824=""><div class="p-3 flex justify-between items-center" data-v-1ac72824=""><h4 class="font-bold flex items-center gap-1" data-v-1ac72824=""><span class="text-5 i-mdi-pencil text-blue" data-v-1ac72824=""></span><span class="sr-only" data-v-1ac72824="">Note</span><span data-v-1ac72824="">ä¸ºä»€ä¹ˆ top ä½äºä½åœ°å€ï¼Ÿ</span></h4><!--v-if--></div><div class="bg-card dark:bg-bghover overflow-auto px-6 rd-br-1" data-v-1ac72824=""><p>top ä½äºä½åœ°å€å¯èƒ½çœ‹èµ·æ¥å¾ˆæ€ª<span class="mojikumi-line-end">ï¼Œ</span>å¯ä»¥å‚è€ƒ <a href="https://stackoverflow.com/questions/4560720/why-does-the-stack-address-grow-towards-decreasing-memory-addresses">Why does the stack address grow
towards decreasing memory addresses? - Stack
Overflow</a><span class="mojikumi-line-end">ã€‚</span>ç®€å•æ¥è¯´<span class="mojikumi-line-end">ï¼Œ</span>ç”±äº
memory layout å’Œ memory æ›¾ç»å¾ˆå°çš„å†å²åŸå› <span class="mojikumi-line-end">ï¼Œ</span>stack å’Œ heap
ä¼šå¾€ä¸åŒçš„æ–¹å‘å¢é•¿<span class="mojikumi-line-end">ï¼Œ</span>æ€»ä¼šæœ‰ä¸€ä¸ªåœ¨å¢é•¿æ—¶å‡å°åœ°å€<span class="mojikumi-line-end">ï¼Œ</span>è€Œ x86-64 é€‰æ‹©äº† push stack
æ—¶å‡å°åœ°å€<span class="mojikumi-line-end">ï¼Œ</span>è¿™ä¹Ÿä½¿å¾—è®¿é—®éæ ˆé¡¶å…ƒç´ ä¸éœ€è¦ç»™ offset åŠ è´Ÿå·<span class="mojikumi-line-end">ã€‚</span></p></div></div></aside>
<a id="pushqpopq-vs-ç›´æ¥ä¿®æ”¹-rsp" name="pushqpopq-vs-ç›´æ¥ä¿®æ”¹-rsp" aria-hidden="true"></a>
<aside role="note" data-v-1ac72824=""><div class="shadow-md rd-1 b-l-6 my-6 bg-blue-1 dark:bg-blue-9 b-blue" data-v-1ac72824=""><div class="p-3 flex justify-between items-center" data-v-1ac72824=""><h4 class="font-bold flex items-center gap-1" data-v-1ac72824=""><span class="text-5 i-mdi-pencil text-blue" data-v-1ac72824=""></span><span class="sr-only" data-v-1ac72824="">Note</span><span data-v-1ac72824=""><code>pushq</code>/<code>popq</code> vs ç›´æ¥ä¿®æ”¹ <code>%rsp</code></span></h4><!--v-if--></div><div class="bg-card dark:bg-bghover overflow-auto px-6 rd-br-1" data-v-1ac72824=""><p>é™¤äº† <code>pushq</code>/<code>popq</code><span class="mojikumi-line-end">ï¼Œ</span>ä¹Ÿå¯ä»¥å‡å° <code>%rsp</code> æ¥å‘æ ˆé¡¶å‹å…¥æœªåˆå§‹åŒ–çš„æ•°æ®<span class="mojikumi-line-end">ï¼Œ</span>æˆ–è€…å¢å¤§
<code>%rsp</code> æ¥é‡Šæ”¾æ ˆç©ºé—´<span class="mojikumi-line-end">ï¼Œ</span>ä½†è¿™æ ·åšå’Œ <code>pushq</code>/<code>popq</code>
ç›¸æ¯”å“ªä¸ªæ€§èƒ½æ›´å¥½æ˜¯æ¯”è¾ƒå¤æ‚çš„<span class="mojikumi-line-end">ï¼Œ</span>å¯ä»¥å‚è€ƒ <a href="https://stackoverflow.com/questions/49485395/what-c-c-compiler-can-use-push-pop-instructions-for-creating-local-variables">assembly - What C/C++ compiler can
use push pop instructions for creating local variables, instead of just
increasing esp once? - Stack
Overflow</a><span class="mojikumi-line-end">ã€‚</span></p></div></div></aside>
<h2 id="arithmetic-and-logical-operations" class="heading"><a href="#arithmetic-and-logical-operations" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Arithmetic and Logical Operations" tabindex="-1"></a><span>Arithmetic and Logical Operations</span></h2>
<h3 id="load-effective-address" class="heading"><a href="#load-effective-address" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Load Effective Address" tabindex="-1"></a><span>Load Effective Address</span></h3>
<p><code>leaq m, r64</code>: å°† source operand çš„åœ°å€å¤åˆ¶åˆ° destination operand<span class="mojikumi-line-start">ï¼ˆ</span>åªè®¡ç®— source operand çš„åœ°å€<span class="mojikumi-line-end">ï¼Œ</span>ä¸å…¶æŒ‡å‘çš„ memory ä¸­å­˜å‚¨çš„å€¼æ— å…³<span class="mojikumi-line-end">ï¼‰</span></p>
<p>LEA å¯ä»¥ç”¨æ¥ä¼˜åŒ–ä¸€äº›ç®€å•çš„ç®—æœ¯<span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚<span class="mojikumi-line-end">ï¼š</span></p>
<section class="code-block relative my-6 shadow" itemprop="hasPart" itemscope="" itemtype="https://schema.org/SoftwareSourceCode" data-v-fc4b3c9e=""><div class="media-screen:important-flex items-center px-4 h-6 rd-t-1 bg-area dark:bg-#2A313A" style="display:none;" data-v-fc4b3c9e=""><h4 class="text-3 text-footer" itemprop="programmingLanguage" aria-label="c ä»£ç å—" data-v-fc4b3c9e="">c</h4><ile-root id="ile-8"><button title="å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copy-button b-footer text-footer" data-v-9288569d=""><span class="i-mdi-content-copy" data-v-9288569d=""></span><span class="sr-only" role="status" data-v-9288569d=""></span></button></ile-root><script></script><script type="module" async="">var s=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var r=(i,a,o)=>new Promise((c,n)=>{var f=t=>{try{_(o.next(t))}catch(e){n(e)}},l=t=>{try{_(o.throw(t))}catch(e){n(e)}},_=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);_((o=o.apply(i,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{b as p}from"/assets/iles.c6dd5c6f.js";import"/assets/vendor-vue.0eea1c14.js";var E=s(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.c6dd5c6f.js").then(i=>i.v),["assets/iles.c6dd5c6f.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/CopyButton.26127d20.js"),["assets/CopyButton.26127d20.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default});p(u,v,"ile-8",{},{})});export default E();
</script></div><div class="light:hidden" itemprop="text" data-v-fc4b3c9e=""><pre class="shiki dark" style="background-color: #011627" tabindex="0"><code><span><span style="color: #C792EA">long</span><span style="color: #D6DEEB"> </span><span style="color: #82AAFF">scale</span><span style="color: #D6DEEB">(</span><span style="color: #C792EA">long</span><span style="color: #D6DEEB"> </span><span style="color: #D7DBE0">x</span><span style="color: #D6DEEB">, </span><span style="color: #C792EA">long</span><span style="color: #D6DEEB"> </span><span style="color: #D7DBE0">y</span><span style="color: #D6DEEB">, </span><span style="color: #C792EA">long</span><span style="color: #D6DEEB"> </span><span style="color: #D7DBE0">z</span><span style="color: #D6DEEB">)</span></span>
<span><span style="color: #D6DEEB">{</span></span>
<span><span style="color: #D6DEEB">    </span><span style="color: #C792EA">long</span><span style="color: #D6DEEB"> t </span><span style="color: #C792EA">=</span><span style="color: #D6DEEB"> x </span><span style="color: #7FDBCA">+</span><span style="color: #D6DEEB"> </span><span style="color: #F78C6C">4</span><span style="color: #D6DEEB"> </span><span style="color: #7FDBCA">*</span><span style="color: #D6DEEB"> y </span><span style="color: #7FDBCA">+</span><span style="color: #D6DEEB"> </span><span style="color: #F78C6C">12</span><span style="color: #D6DEEB"> </span><span style="color: #7FDBCA">*</span><span style="color: #D6DEEB"> z;</span></span>
<span><span style="color: #D6DEEB">    </span><span style="color: #C792EA">return</span><span style="color: #D6DEEB"> t;</span></span>
<span><span style="color: #D6DEEB">}</span></span></code></pre></div><div class="light:important-block" style="display:none;" data-v-fc4b3c9e=""><pre class="shiki light" style="background-color: #FBFBFB" tabindex="0"><code><span><span style="color: #994CC3">long</span><span style="color: #403F53"> </span><span style="color: #4876D6">scale</span><span style="color: #403F53">(</span><span style="color: #994CC3">long</span><span style="color: #403F53"> x, </span><span style="color: #994CC3">long</span><span style="color: #403F53"> y, </span><span style="color: #994CC3">long</span><span style="color: #403F53"> z)</span></span>
<span><span style="color: #403F53">{</span></span>
<span><span style="color: #403F53">    </span><span style="color: #994CC3">long</span><span style="color: #403F53"> t </span><span style="color: #994CC3">=</span><span style="color: #403F53"> x </span><span style="color: #0C969B">+</span><span style="color: #403F53"> </span><span style="color: #AA0982">4</span><span style="color: #403F53"> </span><span style="color: #0C969B">*</span><span style="color: #403F53"> y </span><span style="color: #0C969B">+</span><span style="color: #403F53"> </span><span style="color: #AA0982">12</span><span style="color: #403F53"> </span><span style="color: #0C969B">*</span><span style="color: #403F53"> z;</span></span>
<span><span style="color: #403F53">    </span><span style="color: #994CC3">return</span><span style="color: #403F53"> t;</span></span>
<span><span style="color: #403F53">}</span></span></code></pre></div></section>
<section class="code-block relative my-6 shadow" itemprop="hasPart" itemscope="" itemtype="https://schema.org/SoftwareSourceCode" data-v-fc4b3c9e=""><div class="media-screen:important-flex items-center px-4 h-6 rd-t-1 bg-area dark:bg-#2A313A" style="display:none;" data-v-fc4b3c9e=""><h4 class="text-3 text-footer" itemprop="programmingLanguage" aria-label="asm ä»£ç å—" data-v-fc4b3c9e="">asm</h4><ile-root id="ile-9"><button title="å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copy-button b-footer text-footer" data-v-9288569d=""><span class="i-mdi-content-copy" data-v-9288569d=""></span><span class="sr-only" role="status" data-v-9288569d=""></span></button></ile-root><script></script><script type="module" async="">var s=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var r=(i,a,o)=>new Promise((c,n)=>{var f=t=>{try{_(o.next(t))}catch(e){n(e)}},l=t=>{try{_(o.throw(t))}catch(e){n(e)}},_=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);_((o=o.apply(i,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{b as p}from"/assets/iles.c6dd5c6f.js";import"/assets/vendor-vue.0eea1c14.js";var E=s(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.c6dd5c6f.js").then(i=>i.v),["assets/iles.c6dd5c6f.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/CopyButton.26127d20.js"),["assets/CopyButton.26127d20.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default});p(u,v,"ile-9",{},{})});export default E();
</script></div><div class="light:hidden" itemprop="text" data-v-fc4b3c9e=""><pre class="shiki dark" style="background-color: #011627" tabindex="0"><code><span><span style="color: #82AAFF">scale:</span></span>
<span><span style="color: #D6DEEB">	leaq	(%</span><span style="color: #82AAFF">rdi</span><span style="color: #D6DEEB">,%</span><span style="color: #82AAFF">rsi</span><span style="color: #D6DEEB">,</span><span style="color: #F78C6C">4</span><span style="color: #D6DEEB">), %</span><span style="color: #82AAFF">rax</span></span>
<span><span style="color: #D6DEEB">	leaq	(%</span><span style="color: #82AAFF">rdx</span><span style="color: #D6DEEB">,%</span><span style="color: #82AAFF">rdx</span><span style="color: #D6DEEB">,</span><span style="color: #F78C6C">2</span><span style="color: #D6DEEB">), %</span><span style="color: #82AAFF">rdx</span></span>
<span><span style="color: #D6DEEB">	leaq	(%</span><span style="color: #82AAFF">rax</span><span style="color: #D6DEEB">,%</span><span style="color: #82AAFF">rdx</span><span style="color: #D6DEEB">,</span><span style="color: #F78C6C">4</span><span style="color: #D6DEEB">), %</span><span style="color: #82AAFF">rax</span></span>
<span><span style="color: #D6DEEB">	</span><span style="color: #7FDBCA">ret</span></span></code></pre></div><div class="light:important-block" style="display:none;" data-v-fc4b3c9e=""><pre class="shiki light" style="background-color: #FBFBFB" tabindex="0"><code><span><span style="color: #4876D6">scale:</span></span>
<span><span style="color: #403F53">	leaq	(%</span><span style="color: #4876D6">rdi</span><span style="color: #403F53">,%</span><span style="color: #4876D6">rsi</span><span style="color: #403F53">,</span><span style="color: #AA0982">4</span><span style="color: #403F53">), %</span><span style="color: #4876D6">rax</span></span>
<span><span style="color: #403F53">	leaq	(%</span><span style="color: #4876D6">rdx</span><span style="color: #403F53">,%</span><span style="color: #4876D6">rdx</span><span style="color: #403F53">,</span><span style="color: #AA0982">2</span><span style="color: #403F53">), %</span><span style="color: #4876D6">rdx</span></span>
<span><span style="color: #403F53">	leaq	(%</span><span style="color: #4876D6">rax</span><span style="color: #403F53">,%</span><span style="color: #4876D6">rdx</span><span style="color: #403F53">,</span><span style="color: #AA0982">4</span><span style="color: #403F53">), %</span><span style="color: #4876D6">rax</span></span>
<span><span style="color: #403F53">	</span><span style="color: #0C969B">ret</span></span></code></pre></div></section>
<p>è¿™é‡Œä¸‰ä¸ª LEA åˆ†åˆ«è®¡ç®—äº† <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>+</mo><mn>4</mn><mi>y</mi></mrow><annotation encoding="application/x-tex">x + 4y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></span>, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi><mo>+</mo><mn>2</mn><mi>z</mi></mrow><annotation encoding="application/x-tex">z + 2z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span></span> å’Œ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mn>4</mn><mi>y</mi><mo stretchy="false">)</mo><mo>+</mo><mn>4</mn><mo stretchy="false">(</mo><mi>z</mi><mo>+</mo><mn>2</mn><mi>z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x + 4y) + 4 (z + 2z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span></span><span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="ä¸€å…ƒè¿ç®—" class="heading"><a href="#ä¸€å…ƒè¿ç®—" class="heading-anchor" aria-label="ç« èŠ‚ï¼š ä¸€å…ƒè¿ç®—" tabindex="-1"></a><span>ä¸€å…ƒè¿ç®—</span></h3>
<p>æ¯ç§ä¸€å…ƒè¿ç®—éƒ½æœ‰ b/w/l/q å››ä¸ªç±»å‹<span class="mojikumi-line-end">ï¼Œ</span>æ¥å—ä¸€ä¸ªç›¸åº”ç±»å‹çš„ r/m<span class="mojikumi-line-end">ï¼Œ</span>å°†è¿™ä¸ª operand è®¡ç®—åçš„ç»“æœå­˜å…¥è¿™ä¸ª operand<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li><code>INC</code>: åŠ ä¸€</li>
<li><code>DEC</code>: å‡ä¸€</li>
<li><code>NEG</code>: å–å (negate)</li>
<li><code>NOT</code>: æŒ‰ä½å–å (complement)</li>
</ul>
<h3 id="äºŒå…ƒè¿ç®—" class="heading"><a href="#äºŒå…ƒè¿ç®—" class="heading-anchor" aria-label="ç« èŠ‚ï¼š äºŒå…ƒè¿ç®—" tabindex="-1"></a><span>äºŒå…ƒè¿ç®—</span></h3>
<p>æ¯ç§äºŒå…ƒè¿ç®—éƒ½æœ‰ b/w/l/q å››ä¸ªç±»å‹<span class="mojikumi-line-end">ï¼Œ</span>æ¥å—ç›¸åº”ç±»å‹çš„ imm/r/m ä½œä¸º source<span class="mojikumi-line-start">ï¼ˆ</span>é™¤äº† imm64<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼Œ</span>ç›¸åº”ç±»å‹çš„ r/m ä½œä¸º destination<span class="mojikumi-line-start">ï¼ˆ</span>source å’Œ destination ä¸èƒ½åŒæ—¶ä¸º memory<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼Œ</span>æ•ˆæœä¸ºå°† source<span class="mojikumi-line-start">â€œ</span>ä½œç”¨äº<span class="mojikumi-line-end">â€</span>destination<span class="mojikumi-line-end">ï¼Œ</span>å°†è¿ç®—ç»“æœå­˜å…¥ destination<span class="mojikumi-line-end">ã€‚</span></p>
<ul>
<li><code>ADD</code>: åŠ </li>
<li><code>SUB</code>: destination å‡å» source</li>
<li><code>IMUL</code>: ä¹˜</li>
<li><code>XOR</code>: æŒ‰ä½å¼‚æˆ–</li>
<li><code>OR</code>: æŒ‰ä½æˆ–</li>
<li><code>AND</code>: æŒ‰ä½ä¸</li>
</ul>
<p>ç‰¹åˆ«åœ°<span class="mojikumi-line-end">ï¼Œ</span>ç±»ä¼¼ <code>xorl %rdx, %rdx</code> çš„ä»£ç å¯ä»¥ç”¨æ¥ä¼˜åŒ– <code>movl $0, %rdx</code><span class="mojikumi-line-end">ï¼Œ</span>å‚è§ Practice Problem 3.11 ä»¥åŠ <a href="https://stackoverflow.com/questions/33666617/what-is-the-best-way-to-set-a-register-to-zero-in-x86-assembly-xor-mov-or-and">performance - What is the best way to set a register to zero in x86 assembly: xor, mov or and? - Stack Overflow</a><span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="ä½ç§»" class="heading"><a href="#ä½ç§»" class="heading-anchor" aria-label="ç« èŠ‚ï¼š ä½ç§»" tabindex="-1"></a><span>ä½ç§»</span></h3>
<p>ä½ç§»æœ‰ b/w/l/q å››ä¸ªç±»å‹<span class="mojikumi-line-end">ï¼Œ</span>source åªèƒ½æ˜¯ imm8 æˆ–è€… <code>%cl</code><span class="mojikumi-line-end">ï¼Œ</span>destination æ˜¯ç›¸åº”ç±»å‹çš„ r/m<span class="mojikumi-line-end">ã€‚</span></p>
<ul>
<li><code>SAL</code>/<code>SHL</code>: å·¦ç§»</li>
<li><code>SAR</code>: ç®—æœ¯å³ç§»</li>
<li><code>SHR</code>: é€»è¾‘å³ç§»</li>
</ul>
<a id="å¯¹è¿‡å¤§ä½ç§»ä½æ•°çš„å¤„ç†" name="å¯¹è¿‡å¤§ä½ç§»ä½æ•°çš„å¤„ç†" aria-hidden="true"></a>
<aside role="note" data-v-1ac72824=""><div class="shadow-md rd-1 b-l-6 my-6 bg-purple-2 dark:bg-purple-9 b-purple-5" data-v-1ac72824=""><div class="p-3 flex justify-between items-center" data-v-1ac72824=""><h4 class="font-bold flex items-center gap-1" data-v-1ac72824=""><span class="text-5 i-mdi-help-circle-outline text-purple" data-v-1ac72824=""></span><span class="sr-only" data-v-1ac72824="">Question</span><span data-v-1ac72824="">å¯¹è¿‡å¤§ä½ç§»ä½æ•°çš„å¤„ç†</span></h4><!--v-if--></div><div class="bg-card dark:bg-bghover overflow-auto px-6 rd-br-1" data-v-1ac72824=""><p>CS:APP ä¸Šè¯´ä½ç§»çš„ä½æ•°ä¼šå¯¹ operand size å–æ¨¡<span class="mojikumi-line-end">ï¼Œ</span>ä½†æ ¹æ® Intel Manual
ä»¥åŠæˆ‘è‡ªå·±å®éªŒçš„ç»“æœ<span class="mojikumi-line-end">ï¼Œ</span>åº”è¯¥æ˜¯ b/w/l å¯¹ 32 å–æ¨¡<span class="mojikumi-line-end">ï¼Œ</span>q å¯¹ 64 å–æ¨¡<span class="mojikumi-line-end">ï¼›</span>errata
ä¹Ÿæ²¡çœ‹åˆ°è¿™ä¸€æ¡<span class="mojikumi-line-end">ï¼Œ</span>ä¸çŸ¥é“æ˜¯æ€ä¹ˆå›äº‹<span class="mojikumi-line-end">ã€‚</span></p></div></div></aside>
<h3 id="ç»“æœæ˜¯-operand-ä¸¤å€é•¿åº¦çš„è¿ç®—" class="heading"><a href="#ç»“æœæ˜¯-operand-ä¸¤å€é•¿åº¦çš„è¿ç®—" class="heading-anchor" aria-label="ç« èŠ‚ï¼š ç»“æœæ˜¯ operand ä¸¤å€é•¿åº¦çš„è¿ç®—" tabindex="-1"></a><span>ç»“æœæ˜¯ operand ä¸¤å€é•¿åº¦çš„è¿ç®—</span></h3>
<p>128 ä½çš„æ•´æ•°å«åš oct word<span class="mojikumi-line-end">ï¼Œ</span>éœ€è¦å­˜åœ¨ä¸¤ä¸ªå¯„å­˜å™¨ä¸­<span class="mojikumi-line-end">ï¼Œ</span>åœ¨æŒ‡ä»¤ä¸­ä¸€èˆ¬é«˜ä½æ”¾åœ¨ <code>R[%rdx]</code> ä½ä½æ”¾åœ¨ <code>R[%rax]</code><span class="mojikumi-line-end">ã€‚</span></p>
<p>è™½ç„¶æˆªå»é«˜ä½æ—¶æ˜¯å¦æœ‰ç¬¦å·å¯¹ç¼–ç å±‚é¢çš„ä¹˜æ³•æ²¡æœ‰å½±å“<span class="mojikumi-line-end">ï¼Œ</span>ä¸æˆªå»é«˜ä½æ—¶å°±éœ€è¦å¯¹ signed å’Œ unsigned ä½¿ç”¨ä¸åŒçš„æŒ‡ä»¤äº†<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li><code>imulq r/m64</code>: è®¡ç®— operand å’Œ <code>R[%rax]</code> ä½œä¸º signed integer ç›¸ä¹˜è€Œä¸æˆªå»é«˜ä½çš„ç»“æœ<span class="mojikumi-line-end">ï¼Œ</span>å­˜åœ¨ <code>R<wbr>[%<wbr>rdx<wbr>]:<wbr>R<wbr>[%<wbr>rax<wbr>]</code> ä¸­<span class="mojikumi">ã€‚</span><wbr><span class="mojikumi-line-start">ï¼ˆ</span>å¦‚æœæœ‰ä¸¤ä¸ª operand å°±æ˜¯ä¸Šé¢çš„ <a href="#%E4%BA%8C%E5%85%83%E8%BF%90%E7%AE%97">äºŒå…ƒè¿ç®—</a> äº†<span class="mojikumi">ã€‚</span><span class="mojikumi-line-end">ï¼‰</span></li>
<li><code>mulq r/m64</code>: è®¡ç®— operand å’Œ <code>R[%rax]</code> ä½œä¸º unsigned integer ç›¸ä¹˜è€Œä¸æˆªå»é«˜ä½çš„ç»“æœ<span class="mojikumi-line-end">ï¼Œ</span>å­˜åœ¨ <code>R<wbr>[%<wbr>rdx<wbr>]:<wbr>R<wbr>[%<wbr>rax<wbr>]</code> ä¸­<span class="mojikumi-line-end">ã€‚</span></li>
</ul>
<p>é™¤æ³•ä»¥åŠå–æ¨¡<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li><code>cqto</code>/<code>cqtd</code>: å°† <code>R[%rax]</code> é«˜ä½å¡«ç¬¦å·ä½æ”¾åœ¨ <code>R<wbr>[%<wbr>rdx<wbr>]:<wbr>R<wbr>[%<wbr>rax<wbr>]</code><span class="mojikumi-line-start">ï¼ˆ</span>ä¹Ÿå°±æ˜¯ç”¨ <code>R[%rax]</code> çš„ç¬¦å·ä½å¡«æ»¡ <code>R[%rdx]</code><span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ã€‚</span></li>
<li><code>idivq</code>: è®¡ç®— <code>R<wbr>[%<wbr>rdx<wbr>]:<wbr>R<wbr>[%<wbr>rax<wbr>]</code> æœ‰ç¬¦å·åœ°é™¤ä»¥ operand<span class="mojikumi-line-end">ï¼Œ</span>å•†æ”¾åœ¨ <code>R[%rax]</code><span class="mojikumi-line-end">ï¼Œ</span>ä½™æ•°æ”¾åœ¨ <code>R[%rdx]</code><span class="mojikumi-line-end">ã€‚</span></li>
<li><code>divq</code>: è®¡ç®— <code>R<wbr>[%<wbr>rdx<wbr>]:<wbr>R<wbr>[%<wbr>rax<wbr>]</code> æ— ç¬¦å·åœ°é™¤ä»¥ operand<span class="mojikumi-line-end">ï¼Œ</span>å•†æ”¾åœ¨ <code>R[%rax]</code><span class="mojikumi-line-end">ï¼Œ</span>ä½™æ•°æ”¾åœ¨ <code>R[%rdx]</code><span class="mojikumi-line-end">ã€‚</span></li>
</ul>
<p>å¾—åˆ°çš„å•†éƒ½æ˜¯å‘ 0 å–æ•´<span class="mojikumi-line-end">ï¼Œ</span>æ‰€ä»¥è¢«é™¤æ•°ä¸ºè´Ÿæ—¶ä½™æ•°éæ­£<span class="mojikumi-line-end">ã€‚</span></p>
<p>è‹¥å•†æº¢å‡ºäº†<span class="mojikumi-line-end">ï¼Œ</span>åˆ™ä¼šè§¦å‘ divide error å¼‚å¸¸<span class="mojikumi-line-end">ã€‚</span>æ‰€ä»¥è¢«é™¤æ•°ä¸€èˆ¬ä¼šæ˜¯ 64 ä½æ•´æ•°<span class="mojikumi-line-start">ï¼ˆ</span>åœ¨ <code>idivq</code> ä¹‹å‰ç”¨ <code>cqto</code> æ¥è®¾ç½® <code>R[%rdx]</code><span class="mojikumi-line-end">ï¼Œ</span>åœ¨ <code>divq</code> ä¹‹å‰å°† <code>R[%rdx]</code> ç½®ä¸ºå…¨é›¶<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼Œ</span>å¦åˆ™å¾ˆå¯èƒ½æº¢å‡ºè€Œè§¦å‘å¼‚å¸¸<span class="mojikumi-line-end">ã€‚</span></p>
<p>è¿™äº›è¿ç®—ä¹Ÿæœ‰ operand ä¸º 32 ä½<span class="mojikumi-line-end">ï¼Œ</span>ç»“æœä¸º 64 ä½çš„ç‰ˆæœ¬<span class="mojikumi-line-end">ï¼š</span><code>imull</code><span class="mojikumi-line-end">ã€</span><code>mull</code><span class="mojikumi-line-end">ã€</span><code>cltd</code><span class="mojikumi-line-end">ã€</span><code>idivl</code><span class="mojikumi-line-end">ã€</span><code>divl</code><span class="mojikumi-line-end">ã€‚</span>å®ƒä»¬ä»¥ <code>%edx</code> å’Œ <code>%eax</code> æ¥ä»£æ›¿ 128 ä½è¿ç®—ä¸­çš„ <code>%rdx</code> å’Œ <code>%rax</code><span class="mojikumi-line-end">ã€‚</span></p>
<h2 id="control" class="heading"><a href="#control" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Control" tabindex="-1"></a><span>Control</span></h2>
<a id="â€œstatus-flagâ€-vs-â€œcondition-codeâ€" name="â€œstatus-flagâ€-vs-â€œcondition-codeâ€" aria-hidden="true"></a>
<aside role="note" data-v-1ac72824=""><div class="shadow-md rd-1 b-l-6 my-6 bg-green-2 dark:bg-green-9 b-green-5" data-v-1ac72824=""><div class="p-3 flex justify-between items-center" data-v-1ac72824=""><h3 class="font-bold flex items-center gap-1" data-v-1ac72824=""><span class="text-5 i-mdi-lightbulb-outline text-green" data-v-1ac72824=""></span><span class="sr-only" data-v-1ac72824="">Hint</span><span data-v-1ac72824=""><span class="mojikumi">â€œ</span>status flag<span class="mojikumi">â€</span> vs <span class="mojikumi">â€œ</span>condition code<span class="mojikumi">â€</span></span></h3><!--v-if--></div><div class="bg-card dark:bg-bghover overflow-auto px-6 rd-br-1" data-v-1ac72824=""><p>åœ¨ CS:APP ä¸­ <code>CF</code>/<code>ZF</code>/<code>SF</code>/<code>OF</code> ç­‰è¢«å«åš <span class="mojikumi">â€œ</span>condition code<span class="mojikumi">â€</span><span class="mojikumi-line-end">ï¼›</span>è€Œåœ¨ Intel Manual
ä¸­<span class="mojikumi-line-end">ï¼Œ</span><code>CF</code>/<code>ZF</code>/<code>SF</code>/<code>OF</code> ç­‰è¢«å«åš <span class="mojikumi">â€œ</span>status flag<span class="mojikumi">â€</span><span class="mojikumi">ï¼Œ</span><wbr><span class="mojikumi-line-start">â€œ</span>condition code<span class="mojikumi">â€</span> æŒ‡çš„æ˜¯ status
flags çš„ç»„åˆ<span class="mojikumi-line-end">ã€‚</span>ä¸‹æ–‡é‡‡ç”¨ Intel çš„å«æ³•<span class="mojikumi-line-end">ã€‚</span></p></div></div></aside>
<h3 id="status-flags" class="heading"><a href="#status-flags" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Status Flags" tabindex="-1"></a><span>Status Flags</span></h3>
<p>status flags ä¸­å­˜å‚¨äº†æœ€è¿‘ä¸€æ¬¡è¿ç®—çš„çŠ¶æ€<span class="mojikumi-line-end">ï¼Œ</span>å¸¸ç”¨çš„ status flag æœ‰å››ä¸ª<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li><code>CF</code>: Carry Flag<span class="mojikumi-line-end">ï¼Œ</span>è¡¨ç¤ºè¿ç®—è¿‡ç¨‹ä¸­å‘ç”Ÿäº†è¶…å‡º operand é•¿åº¦çš„è¿›ä½æˆ–å€Ÿä½<span class="mojikumi-line-end">ï¼Œ</span>å³å°†è¿ç®—è§†ä½œ unsigned å‘ç”Ÿäº†æº¢å‡º<span class="mojikumi-line-end">ã€‚</span></li>
<li><code>ZF</code>: Zero Flag<span class="mojikumi-line-end">ï¼Œ</span>è¡¨ç¤ºè¿ç®—ç»“æœä¸ºé›¶<span class="mojikumi-line-end">ã€‚</span></li>
<li><code>SF</code>: Sign Flag<span class="mojikumi-line-end">ï¼Œ</span>è¡¨ç¤ºè¿ç®—ç»“æœ<span class="mojikumi-line-start">ï¼ˆ</span>çœ‹ä½œè¡¥ç <span class="mojikumi-line-end">ï¼‰</span>ä¸ºè´Ÿ<span class="mojikumi-line-end">ï¼Œ</span>å³è¿ç®—ç»“æœçš„ç¬¦å·ä½<span class="mojikumi-line-end">ã€‚</span></li>
<li><code>OF</code>: Overflow Flag<span class="mojikumi-line-end">ï¼Œ</span>è¡¨ç¤ºè‹¥å°†è¿ç®—è§†ä½œ signed å‘ç”Ÿäº†æº¢å‡º<span class="mojikumi-line-end">ã€‚</span></li>
</ul>
<a id="arm-ä¸­çš„-carry-flag------carry-flag-vs-borrow-flag" name="arm-ä¸­çš„-carry-flag------carry-flag-vs-borrow-flag" aria-hidden="true"></a>
<aside role="note" data-v-1ac72824=""><details class="shadow-md rd-1 b-l-6 my-6 bg-blue-1 dark:bg-blue-9 b-blue" data-v-1ac72824=""><summary class="p-3 flex justify-between items-center cursor-pointer" data-v-1ac72824=""><h4 class="font-bold flex items-center gap-1" data-v-1ac72824=""><span class="text-5 i-mdi-pencil text-blue" data-v-1ac72824=""></span><span class="sr-only" data-v-1ac72824="">Note</span><span data-v-1ac72824="">ARM ä¸­çš„ carry flag â€”â€” carry flag vs borrow flag</span></h4><span class="details-icon text-5" data-v-1ac72824=""></span></summary><div class="bg-card dark:bg-bghover overflow-auto px-6 rd-br-1" data-v-1ac72824=""><p>åœ¨ ARM ä¸­<span class="mojikumi-line-end">ï¼Œ</span>è®¡ç®—å‡æ³•æ—¶<span class="mojikumi-line-end">ï¼Œ</span>ä¸ x86 ç›¸å<span class="mojikumi-line-end">ï¼Œ</span>carry flag ä¸º 0 è¡¨ç¤ºæº¢å‡º<span class="mojikumi-line-end">ï¼Œ</span>ä¸º 1 è¡¨ç¤ºæ²¡æœ‰æº¢å‡º<span class="mojikumi-line-end">ã€‚</span></p><p>è¿™æ˜¯å› ä¸º<span class="mojikumi-line-end">ï¼Œ</span>è®¡ç®—å‡æ³•æœ‰ä¸¤ç§æ–¹å¼<span class="mojikumi-line-end">ï¼Œ</span><a href="https://en.wikipedia.org/wiki/Carry_flag#Vs._borrow_flag">subtract with borrow å’Œ subtract with carry</a><span class="mojikumi-line-end">ï¼š</span></p><ul>
<li>subtract with borrow ç›¸å½“äºæ™®é€šçš„å‡æ³•ç«–å¼è®¡ç®—<span class="mojikumi-line-end">ï¼Œ</span>è®¡ç®—è¿‡ç¨‹ä¸­è®°å½• borrow flag<span class="mojikumi-line-end">ï¼Œ</span>æœ€åå­˜å‚¨åœ¨ carry flag ä¸­<span class="mojikumi-line-end">ï¼Œ</span>è¡¨ç°ä¸ºè‹¥æœ€åå‘ç”Ÿå€Ÿä½åˆ™ carry flag ä¸º 1<span class="mojikumi-line-end">ã€‚</span></li>
<li>subtract with carry åˆ©ç”¨äº† <code>-x = ~x + 1</code> çš„æ€§è´¨<span class="mojikumi-line-end">ï¼Œ</span>é€šè¿‡ <code>a + ~b + 1</code> æ¥è®¡ç®— <code>a - b</code><span class="mojikumi-line-end">ï¼Œ</span>è€Œå’Œæ™®é€šåŠ æ³•ä¸€æ ·è®¡ç®— carry flag<span class="mojikumi-line-end">ï¼›</span>è€Œåœ¨ subtract with borrow æœ€åå‘ç”Ÿå€Ÿä½æ—¶<span class="mojikumi-line-end">ï¼Œ</span>subtract with carry åè€Œ carry flag æ˜¯ 0<span class="mojikumi-line-end">ã€‚</span></li>
</ul><p>å¯ä»¥è¿™ä¹ˆç†è§£è¿™ä¸¤è€…é—´çš„å·®å¼‚<span class="mojikumi-line-end">ï¼š</span>è®¾è®¡ç®—æ˜¯ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span></span> ä½çš„<span class="mojikumi-line-end">ï¼Œ</span>æœ€åè®¡ç®—å®Œæˆæ—¶<span class="mojikumi-line-end">ï¼Œ</span>borrow flag è¡¨ç¤ºç¬¬ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">w+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span> ä½ä¸Šæ˜¯ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span><span class="mord">1</span></span></span></span></span><span class="mojikumi-line-end">ï¼Œ</span>carry flag è¡¨ç¤ºç¬¬ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">w+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span> ä½ä¸Šæ˜¯ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span><span class="mojikumi-line-end">ï¼Œ</span>è€Œ subtract with carry ç›¸å½“äºå…ˆåŠ ä¸Šäº† <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>w</mi></msup></mrow><annotation encoding="application/x-tex">2^w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6644em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span></span></span></span></span></span></span></span></span> å†è¿›è¡Œå‡æ³•<span class="mojikumi-line-end">ï¼Œ</span>å°±ä¼šå°†ç¬¬ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">w+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span> ä½ä» <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span><span class="mord">1</span></span></span></span></span> å˜æˆ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span><span class="mojikumi-line-end">ï¼Œ</span>ä» <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span> å˜æˆ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span><span class="mojikumi-line-end">ã€‚</span></p></div></details></aside>
<p>LEA ä¸ä¼šæ”¹å˜ status flags<span class="mojikumi-line-end">ã€‚</span></p>
<p><a href="#%E4%B8%80%E5%85%83%E8%BF%90%E7%AE%97">ä¸€å…ƒè¿ç®—</a> å’Œ <a href="#%E4%BA%8C%E5%85%83%E8%BF%90%E7%AE%97">äºŒå…ƒè¿ç®—</a> éƒ½ä¼šæ”¹å˜ status flags<span class="mojikumi-line-end">ã€‚</span>ç‰¹åˆ«åœ°<span class="mojikumi-line-end">ï¼Œ</span><code>INC</code> å’Œ <code>DEC</code> ä¸ä¼šæ”¹å˜ <code>CF</code><span class="mojikumi-line-end">ã€‚</span></p>
<p>ä½ç§»å¯¹ status flags çš„å½±å“æ¯”è¾ƒå¤æ‚<span class="mojikumi-line-start">ï¼ˆ</span>å¯ä»¥å‚è€ƒ Intel Manual<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼Œ</span>ç®€å•æ¥è¯´ <code>CF</code> ä¼šè¢«è®¾ä¸ºæœ€åä¸€ä¸ªç§»å‡ºçš„ä½<span class="mojikumi-line-end">ï¼Œ</span>åªæœ‰ä½ç§»ä½æ•°ä¸º 1 æ—¶æ‰ä¼šæ”¹å˜ <code>OF</code><span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="condition-codes" class="heading"><a href="#condition-codes" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Condition Codes" tabindex="-1"></a><span>Condition Codes</span></h3>
<p>condition code æ˜¯ status flags çš„ç»„åˆ<span class="mojikumi-line-end">ï¼Œ</span>å¸¸ç”¨çš„æœ‰<span class="mojikumi-line-end">ï¼š</span></p>
<div class="overflow-auto my-6"><table>
<thead>
<tr>
<th align="center">condition code</th>
<th align="center">åç§° (æ„ä¹‰)</th>
<th align="center">å–å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><code>e</code>/<code>z</code></td>
<td align="center">equal / zero</td>
<td align="center"><code>ZF</code></td>
</tr>
<tr>
<td align="center"><code>ne</code>/<code>nz</code></td>
<td align="center">not equal / not zero</td>
<td align="center"><code>~ZF</code></td>
</tr>
<tr>
<td align="center"><code>s</code></td>
<td align="center">sign (negative)</td>
<td align="center"><code>SF</code></td>
</tr>
<tr>
<td align="center"><code>ns</code></td>
<td align="center">not sign (non-negative)</td>
<td align="center"><code>~SF</code></td>
</tr>
<tr>
<td align="center"><code>g</code>/<code>nle</code></td>
<td align="center">greater / not less equal (signed <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&gt;</mo></mrow><annotation encoding="application/x-tex">&gt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span></span></span></span></span>)</td>
<td align="center"><code>~(SF ^ OF) &amp; ~ZF</code></td>
</tr>
<tr>
<td align="center"><code>ge</code>/<code>nl</code></td>
<td align="center">greater equal / not less (signed <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰¥</mo></mrow><annotation encoding="application/x-tex">\ge</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">â‰¥</span></span></span></span></span>)</td>
<td align="center"><code>~(SF ^ OF)</code></td>
</tr>
<tr>
<td align="center"><code>l</code>/<code>nge</code></td>
<td align="center">less / not greater equal (signed <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&lt;</mo></mrow><annotation encoding="application/x-tex">&lt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span></span></span></span></span>)</td>
<td align="center"><code>SF ^ OF</code></td>
</tr>
<tr>
<td align="center"><code>le</code>/<code>ng</code></td>
<td align="center">less equal / not greater (signed <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰¤</mo></mrow><annotation encoding="application/x-tex">\le</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">â‰¤</span></span></span></span></span>)</td>
<td align="center"><code>(SF ^ OF) | ZF</code></td>
</tr>
<tr>
<td align="center"><code>a</code>/<code>nbe</code></td>
<td align="center">above / not below equal (unsigned <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&gt;</mo></mrow><annotation encoding="application/x-tex">&gt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span></span></span></span></span>)</td>
<td align="center"><code>~CF &amp; ~ZF</code></td>
</tr>
<tr>
<td align="center"><code>ae</code>/<code>nb</code></td>
<td align="center">above equal / not below (unsigned <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰¥</mo></mrow><annotation encoding="application/x-tex">\ge</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">â‰¥</span></span></span></span></span>)</td>
<td align="center"><code>~CF</code></td>
</tr>
<tr>
<td align="center"><code>b</code>/<code>nae</code></td>
<td align="center">below / not above equal (unsigned <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&lt;</mo></mrow><annotation encoding="application/x-tex">&lt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span></span></span></span></span>)</td>
<td align="center"><code>CF</code></td>
</tr>
<tr>
<td align="center"><code>be</code>/<code>na</code></td>
<td align="center">below equal / not above (unsigned <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â‰¤</mo></mrow><annotation encoding="application/x-tex">\le</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719em;vertical-align:-0.136em;"></span><span class="mrel">â‰¤</span></span></span></span></span>)</td>
<td align="center"><code>CF | ZF</code></td>
</tr>
</tbody>
</table></div>
<p>è¿™äº› condition code éƒ½æ˜¯æŒ‰ç…§å‡æ³•çš„ç»“æœæ¥å‘½åçš„<span class="mojikumi-line-end">ï¼Œ</span>åœ¨ä½¿ç”¨ <code>CMP</code> æŒ‡ä»¤æ—¶è¿™äº›åç§°æ˜¯è‡ªç„¶çš„<span class="mojikumi-line-end">ï¼Œ</span>ä½†å¦‚æœä¸æ˜¯ <code>CMP</code>/<code>SUB</code> åˆ™è¦è€ƒè™‘è¿›è¡Œçš„è¿ç®—æ˜¯ä»€ä¹ˆä»¥åŠæ¯ä¸ª condition code å®é™…çš„å–å€¼<span class="mojikumi-line-end">ã€‚</span></p>
<p><code>l</code>/<code>nge</code> å¯ä»¥ç†è§£ä¸º<span class="mojikumi-line-end">ï¼Œ</span>æº¢å‡ºåä¼šå˜å·<span class="mojikumi-line-end">ï¼Œ</span>æ‰€ä»¥ <code>SF ^ OF</code> å°±æ˜¯å¦‚æœä¸æº¢å‡ºçš„ç¬¦å·<span class="mojikumi-line-end">ï¼›</span><code>b</code>/<code>nae</code> æ˜¯å› ä¸ºå‡æ³•å‘ç”Ÿå€Ÿä½æ—¶ä¼šæ ‡è®° <code>CF</code><span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="cmp-å’Œ-test-æŒ‡ä»¤" class="heading"><a href="#cmp-å’Œ-test-æŒ‡ä»¤" class="heading-anchor" aria-label="ç« èŠ‚ï¼š CMP å’Œ TEST æŒ‡ä»¤" tabindex="-1"></a><span>CMP å’Œ TEST æŒ‡ä»¤</span></h3>
<p>å¦‚æœçœŸçš„è¿›è¡Œè¿ç®—<span class="mojikumi-line-end">ï¼Œ</span>destination çš„å€¼ä¼šè¢«è¦†ç›–<span class="mojikumi-line-end">ï¼Œ</span>æ‰€ä»¥<span class="mojikumi-line-end">ï¼Œ</span>å¦‚æœè®¡ç®—ç»“æœæ˜¯ä¸éœ€è¦çš„<span class="mojikumi-line-end">ï¼Œ</span>ä¸€èˆ¬ä¼šç”¨ <code>CMP</code> å’Œ <code>TEST</code> æ¥è·å– status flags<span class="mojikumi-line-end">ã€‚</span></p>
<p><code>CMP</code> å’Œ <code>TEST</code> çš„ operands å’Œ <a href="#%E4%BA%8C%E5%85%83%E8%BF%90%E7%AE%97">äºŒå…ƒè¿ç®—</a> ç›¸åŒ<span class="mojikumi-line-end">ã€‚</span></p>
<p><code>CMP</code> ç›¸å½“äºæ‰§è¡Œ <code>SUB</code> ä½†åªæ›´æ–° status flags ä¸æ›´æ–° destination<span class="mojikumi-line-end">ã€‚</span>å¸¸ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ•°çš„å¤§å°<span class="mojikumi-line-end">ã€‚</span></p>
<a id="cmp-çš„æ¯”è¾ƒé¡ºåº" name="cmp-çš„æ¯”è¾ƒé¡ºåº" aria-hidden="true"></a>
<aside role="note" data-v-1ac72824=""><div class="shadow-md rd-1 b-l-6 my-6 bg-orange-1 dark:bg-orange-9 b-orange" data-v-1ac72824=""><div class="p-3 flex justify-between items-center" data-v-1ac72824=""><h4 class="font-bold flex items-center gap-1" data-v-1ac72824=""><span class="text-5 i-mdi-alert-circle-outline text-orange" data-v-1ac72824=""></span><span class="sr-only" data-v-1ac72824="">Warning</span><span data-v-1ac72824="">CMP çš„æ¯”è¾ƒé¡ºåº</span></h4><!--v-if--></div><div class="bg-card dark:bg-bghover overflow-auto px-6 rd-br-1" data-v-1ac72824=""><p>ç”±äº ATT æ ¼å¼çš„æ±‡ç¼–æ˜¯ source åœ¨å‰ destination åœ¨å<span class="mojikumi">ï¼Œ</span> <code>CMP</code> çš„å‡æ³•æ˜¯
destination å‡å» source<span class="mojikumi">ï¼Œ</span> æ‰€ä»¥æ¯”è¾ƒæ˜¯çœ‹èµ·æ¥æ˜¯åçš„<span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚ <code>l</code> å…¶å®æ˜¯ç¬¬äºŒä¸ª
operand å°äºç¬¬ä¸€ä¸ª operand<span class="mojikumi-line-end">ã€‚</span></p></div></div></aside>
<p><code>TEST</code> ç›¸å½“äºæ‰§è¡Œ <code>AND</code> ä½†åªæ›´æ–° status flags ä¸æ›´æ–° destination<span class="mojikumi-line-end">ã€‚</span>å¸¸è§çš„ç”¨æ³•æœ‰ä¸¤ç§<span class="mojikumi-line-end">ï¼Œ</span>ä¸€ç§æ˜¯ä¸¤ä¸ª operand ä¸ºåŒä¸€ä¸ªå¯„å­˜å™¨ä»¥åˆ¤æ–­å…¶ç¬¦å·<span class="mojikumi-line-end">ï¼Œ</span>å¦ä¸€ç§æ˜¯ source ä¸º bit mask<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="setcc-æŒ‡ä»¤" class="heading"><a href="#setcc-æŒ‡ä»¤" class="heading-anchor" aria-label="ç« èŠ‚ï¼š SETcc æŒ‡ä»¤" tabindex="-1"></a><span>SETcc æŒ‡ä»¤</span></h3>
<p><code>SETcc r/m8</code>: å°† <code>cc</code> å¤åˆ¶åˆ° operand å¤„<span class="mojikumi-line-end">ã€‚</span>å…¶åç¼€ä¸æ˜¯ operand çš„é•¿åº¦<span class="mojikumi-line-end">ï¼Œ</span>è€Œæ˜¯ condition code<span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚ <code>sete r/m8</code><span class="mojikumi-line-end">ã€</span><code>setne r/m8</code><span class="mojikumi-line-end">ã€</span><code>sets r/m8</code>...</p>
<h3 id="jump-ç±»æŒ‡ä»¤" class="heading"><a href="#jump-ç±»æŒ‡ä»¤" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Jump ç±»æŒ‡ä»¤" tabindex="-1"></a><span>Jump ç±»æŒ‡ä»¤</span></h3>
<h4 id="label" class="heading"><a href="#label" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Label" tabindex="-1"></a><span>Label</span></h4>
<p>åœ¨æ±‡ç¼–ä¸­ jump é€šå¸¸ä¼šä½¿ç”¨ label ä½œä¸º jump target<span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚<span class="mojikumi-line-start">ï¼ˆ</span>CS:APP P205<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼š</span></p>
<section class="code-block relative my-6 shadow" itemprop="hasPart" itemscope="" itemtype="https://schema.org/SoftwareSourceCode" data-v-fc4b3c9e=""><div class="media-screen:important-flex items-center px-4 h-6 rd-t-1 bg-area dark:bg-#2A313A" style="display:none;" data-v-fc4b3c9e=""><h5 class="text-3 text-footer" itemprop="programmingLanguage" aria-label="asm ä»£ç å—" data-v-fc4b3c9e="">asm</h5><ile-root id="ile-10"><button title="å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copy-button b-footer text-footer" data-v-9288569d=""><span class="i-mdi-content-copy" data-v-9288569d=""></span><span class="sr-only" role="status" data-v-9288569d=""></span></button></ile-root><script></script><script type="module" async="">var s=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var r=(i,a,o)=>new Promise((c,n)=>{var f=t=>{try{_(o.next(t))}catch(e){n(e)}},l=t=>{try{_(o.throw(t))}catch(e){n(e)}},_=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);_((o=o.apply(i,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{b as p}from"/assets/iles.c6dd5c6f.js";import"/assets/vendor-vue.0eea1c14.js";var E=s(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.c6dd5c6f.js").then(i=>i.v),["assets/iles.c6dd5c6f.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/CopyButton.26127d20.js"),["assets/CopyButton.26127d20.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default});p(u,v,"ile-10",{},{})});export default E();
</script></div><div class="light:hidden" itemprop="text" data-v-fc4b3c9e=""><pre class="shiki dark" style="background-color: #011627" tabindex="0"><code><span><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">movq</span><span style="color: #D6DEEB"> </span><span style="color: #F78C6C">$0</span><span style="color: #D6DEEB">, %</span><span style="color: #82AAFF">rax</span></span>
<span><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">jmp</span><span style="color: #D6DEEB">  .L1</span></span>
<span><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">movq</span><span style="color: #D6DEEB"> (%</span><span style="color: #82AAFF">rax</span><span style="color: #D6DEEB">), %</span><span style="color: #82AAFF">rdx</span></span>
<span><span style="color: #C792EA">.</span><span style="color: #82AAFF">L1:</span></span>
<span><span style="color: #D6DEEB">    popq %</span><span style="color: #82AAFF">rdx</span></span></code></pre></div><div class="light:important-block" style="display:none;" data-v-fc4b3c9e=""><pre class="shiki light" style="background-color: #FBFBFB" tabindex="0"><code><span><span style="color: #403F53">    </span><span style="color: #0C969B">movq</span><span style="color: #403F53"> </span><span style="color: #AA0982">$0</span><span style="color: #403F53">, %</span><span style="color: #4876D6">rax</span></span>
<span><span style="color: #403F53">    </span><span style="color: #0C969B">jmp</span><span style="color: #403F53">  .L1</span></span>
<span><span style="color: #403F53">    </span><span style="color: #0C969B">movq</span><span style="color: #403F53"> (%</span><span style="color: #4876D6">rax</span><span style="color: #403F53">), %</span><span style="color: #4876D6">rdx</span></span>
<span><span style="color: #994CC3">.</span><span style="color: #4876D6">L1:</span></span>
<span><span style="color: #403F53">    popq %</span><span style="color: #4876D6">rdx</span></span></code></pre></div></section>
<p>è¿™é‡Œçš„ <code>.L1</code> å°±æ˜¯ä¸€ä¸ª label<span class="mojikumi-line-end">ã€‚</span></p>
<h4 id="æ— æ¡ä»¶è·³è½¬" class="heading"><a href="#æ— æ¡ä»¶è·³è½¬" class="heading-anchor" aria-label="ç« èŠ‚ï¼š æ— æ¡ä»¶è·³è½¬" tabindex="-1"></a><span>æ— æ¡ä»¶è·³è½¬</span></h4>
<ul>
<li><code>jmp Label</code>: è·³è½¬åˆ° <code>Label</code> å¤„</li>
<li><code>jmp *r/m64</code>: è·³è½¬åˆ° operand å­˜å‚¨çš„ jump target å¤„<span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚ <code>jmp *%rax</code><span class="mojikumi-line-end">ã€</span><code>jmp *(%rax)</code><span class="mojikumi-line-end">ã€‚</span></li>
</ul>
<h4 id="æ¡ä»¶è·³è½¬" class="heading"><a href="#æ¡ä»¶è·³è½¬" class="heading-anchor" aria-label="ç« èŠ‚ï¼š æ¡ä»¶è·³è½¬" tabindex="-1"></a><span>æ¡ä»¶è·³è½¬</span></h4>
<p><code>Jcc Label</code>: å¦‚æœæ»¡è¶³ <code>cc</code><span class="mojikumi-line-end">ï¼Œ</span>åˆ™è·³è½¬åˆ° <code>Label</code> å¤„<span class="mojikumi-line-end">ã€‚</span></p>
<h4 id="rep-ret" class="heading"><a href="#rep-ret" class="heading-anchor" aria-label="ç« èŠ‚ï¼š rep; ret" tabindex="-1"></a><span>rep; ret</span></h4>
<p>å¦‚æœ <code>ret</code> ä¼šä½œä¸ºæŸä¸ªåˆ†æ”¯çš„ç¬¬ä¸€æ¡æŒ‡ä»¤<span class="mojikumi-line-start">ï¼ˆ</span>å³ jump æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤æˆ– jump target<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼Œ</span>ä¸€èˆ¬ä¼šæŠŠ <code>ret</code> æ¢æˆ <code>rep; ret</code><span class="mojikumi-line-end">ï¼Œ</span>æ•ˆæœå’Œ <code>ret</code> ä¸€æ ·<span class="mojikumi-line-end">ï¼Œ</span>ä½†å¯ä»¥é¿å…é”™è¯¯çš„åˆ†æ”¯é¢„æµ‹<span class="mojikumi-line-end">ï¼Œ</span>ä»è€Œä¼˜åŒ–æ€§èƒ½<span class="mojikumi-line-end">ã€‚</span>å…·ä½“å¯ä»¥å‚è€ƒ <a href="https://repzret.org/p/repzret/">repz ret - repz ret</a><span class="mojikumi-line-end">ã€‚</span></p>
<h4 id="jump-æŒ‡ä»¤ç¼–ç " class="heading"><a href="#jump-æŒ‡ä»¤ç¼–ç " class="heading-anchor" aria-label="ç« èŠ‚ï¼š jump æŒ‡ä»¤ç¼–ç " tabindex="-1"></a><span>jump æŒ‡ä»¤ç¼–ç </span></h4>
<p>åœ¨è¿›è¡Œæ±‡ç¼–æ—¶<span class="mojikumi-line-end">ï¼Œ</span>label ä¼šè¢«æ›¿æ¢ä¸º <i>jump æŒ‡ä»¤çš„<strong>ä¸‹ä¸€æ¡</strong>æŒ‡ä»¤<span class="mojikumi-line-start">ï¼ˆ</span>å…¶å®å°±æ˜¯ program counter çš„å€¼<span class="mojikumi-line-end">ï¼‰</span>åˆ° jump target çš„åœ°å€å·®</i><span class="mojikumi-line-end">ã€‚</span>è€Œåœ¨é“¾æ¥æ—¶<span class="mojikumi-line-end">ï¼Œ</span>è™½ç„¶æŒ‡ä»¤çš„åœ°å€å˜äº†<span class="mojikumi-line-end">ï¼Œ</span>ä½†æŒ‡ä»¤ä¹‹é—´ç›¸å¯¹çš„åœ°å€å·®ä¸å˜<span class="mojikumi-line-end">ï¼Œ</span>åˆ™ jump æŒ‡ä»¤ä¸ç”¨æ”¹å˜<span class="mojikumi-line-end">ã€‚</span></p>
<p>ä¾‹å¦‚<span class="mojikumi-line-start">ï¼ˆ</span>CS:APP P207<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼š</span></p>
<section class="code-block relative my-6 shadow" itemprop="hasPart" itemscope="" itemtype="https://schema.org/SoftwareSourceCode" data-v-fc4b3c9e=""><div class="media-screen:important-flex items-center px-4 h-6 rd-t-1 bg-area dark:bg-#2A313A" style="display:none;" data-v-fc4b3c9e=""><h5 class="text-3 text-footer" itemprop="programmingLanguage" aria-label="asm ä»£ç å—" data-v-fc4b3c9e="">asm</h5><ile-root id="ile-11"><button title="å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copy-button b-footer text-footer" data-v-9288569d=""><span class="i-mdi-content-copy" data-v-9288569d=""></span><span class="sr-only" role="status" data-v-9288569d=""></span></button></ile-root><script></script><script type="module" async="">var s=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var r=(i,a,o)=>new Promise((c,n)=>{var f=t=>{try{_(o.next(t))}catch(e){n(e)}},l=t=>{try{_(o.throw(t))}catch(e){n(e)}},_=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);_((o=o.apply(i,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{b as p}from"/assets/iles.c6dd5c6f.js";import"/assets/vendor-vue.0eea1c14.js";var E=s(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.c6dd5c6f.js").then(i=>i.v),["assets/iles.c6dd5c6f.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/CopyButton.26127d20.js"),["assets/CopyButton.26127d20.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default});p(u,v,"ile-11",{},{})});export default E();
</script></div><div class="light:hidden" itemprop="text" data-v-fc4b3c9e=""><pre class="shiki dark" style="background-color: #011627" tabindex="0"><code><span><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">movq</span><span style="color: #D6DEEB"> %</span><span style="color: #82AAFF">rdi</span><span style="color: #D6DEEB">, %</span><span style="color: #82AAFF">rax</span></span>
<span><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">jmp</span><span style="color: #D6DEEB"> .L2</span></span>
<span><span style="color: #C792EA">.</span><span style="color: #82AAFF">L3:</span></span>
<span><span style="color: #D6DEEB">    sarq %</span><span style="color: #82AAFF">rax</span></span>
<span><span style="color: #C792EA">.</span><span style="color: #82AAFF">L2:</span></span>
<span><span style="color: #D6DEEB">    testq %</span><span style="color: #82AAFF">rax</span><span style="color: #D6DEEB">, %</span><span style="color: #82AAFF">rax</span></span>
<span><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">jg</span><span style="color: #D6DEEB"> .L3</span></span>
<span><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">rep</span><span style="color: #637777">; ret</span></span></code></pre></div><div class="light:important-block" style="display:none;" data-v-fc4b3c9e=""><pre class="shiki light" style="background-color: #FBFBFB" tabindex="0"><code><span><span style="color: #403F53">    </span><span style="color: #0C969B">movq</span><span style="color: #403F53"> %</span><span style="color: #4876D6">rdi</span><span style="color: #403F53">, %</span><span style="color: #4876D6">rax</span></span>
<span><span style="color: #403F53">    </span><span style="color: #0C969B">jmp</span><span style="color: #403F53"> .L2</span></span>
<span><span style="color: #994CC3">.</span><span style="color: #4876D6">L3:</span></span>
<span><span style="color: #403F53">    sarq %</span><span style="color: #4876D6">rax</span></span>
<span><span style="color: #994CC3">.</span><span style="color: #4876D6">L2:</span></span>
<span><span style="color: #403F53">    testq %</span><span style="color: #4876D6">rax</span><span style="color: #403F53">, %</span><span style="color: #4876D6">rax</span></span>
<span><span style="color: #403F53">    </span><span style="color: #0C969B">jg</span><span style="color: #403F53"> .L3</span></span>
<span><span style="color: #403F53">    </span><span style="color: #0C969B">rep</span><span style="color: #989FB1">; ret</span></span></code></pre></div></section>
<p>æ±‡ç¼–å<span class="mojikumi-line-end">ï¼š</span></p>
<section class="code-block relative my-6 shadow" itemprop="hasPart" itemscope="" itemtype="https://schema.org/SoftwareSourceCode" data-v-fc4b3c9e=""><div class="media-screen:important-flex items-center px-4 h-6 rd-t-1 bg-area dark:bg-#2A313A" style="display:none;" data-v-fc4b3c9e=""><h5 class="text-3 text-footer" itemprop="programmingLanguage" aria-label="asm ä»£ç å—" data-v-fc4b3c9e="">asm</h5><ile-root id="ile-12"><button title="å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copy-button b-footer text-footer" data-v-9288569d=""><span class="i-mdi-content-copy" data-v-9288569d=""></span><span class="sr-only" role="status" data-v-9288569d=""></span></button></ile-root><script></script><script type="module" async="">var s=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var r=(i,a,o)=>new Promise((c,n)=>{var f=t=>{try{_(o.next(t))}catch(e){n(e)}},l=t=>{try{_(o.throw(t))}catch(e){n(e)}},_=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);_((o=o.apply(i,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{b as p}from"/assets/iles.c6dd5c6f.js";import"/assets/vendor-vue.0eea1c14.js";var E=s(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.c6dd5c6f.js").then(i=>i.v),["assets/iles.c6dd5c6f.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/CopyButton.26127d20.js"),["assets/CopyButton.26127d20.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default});p(u,v,"ile-12",{},{})});export default E();
</script></div><div class="light:hidden" itemprop="text" data-v-fc4b3c9e=""><pre class="shiki dark" style="background-color: #011627" tabindex="0"><code><span><span style="color: #D6DEEB">   </span><span style="color: #F78C6C">0</span><span style="color: #D6DEEB">:	</span><span style="color: #F78C6C">48</span><span style="color: #D6DEEB"> </span><span style="color: #F78C6C">89</span><span style="color: #D6DEEB"> f8             	</span><span style="color: #7FDBCA">mov</span><span style="color: #D6DEEB">    %</span><span style="color: #82AAFF">rdi</span><span style="color: #D6DEEB">,%</span><span style="color: #82AAFF">rax</span></span>
<span><span style="color: #D6DEEB">   </span><span style="color: #F78C6C">3</span><span style="color: #D6DEEB">:	eb </span><span style="color: #F78C6C">03</span><span style="color: #D6DEEB">                	</span><span style="color: #7FDBCA">jmp</span><span style="color: #D6DEEB">    </span><span style="color: #F78C6C">0x8</span></span>
<span><span style="color: #D6DEEB">   </span><span style="color: #F78C6C">5</span><span style="color: #D6DEEB">:	</span><span style="color: #F78C6C">48</span><span style="color: #D6DEEB"> d1 f8             	</span><span style="color: #7FDBCA">sar</span><span style="color: #D6DEEB">    %</span><span style="color: #82AAFF">rax</span></span>
<span><span style="color: #D6DEEB">   </span><span style="color: #F78C6C">8</span><span style="color: #D6DEEB">:	</span><span style="color: #F78C6C">48</span><span style="color: #D6DEEB"> </span><span style="color: #F78C6C">85</span><span style="color: #D6DEEB"> c0             	</span><span style="color: #7FDBCA">test</span><span style="color: #D6DEEB">   %</span><span style="color: #82AAFF">rax</span><span style="color: #D6DEEB">,%</span><span style="color: #82AAFF">rax</span></span>
<span><span style="color: #D6DEEB">   </span><span style="color: #82AAFF">b:</span><span style="color: #D6DEEB">	7f f8                	</span><span style="color: #7FDBCA">jg</span><span style="color: #D6DEEB">     </span><span style="color: #F78C6C">0x5</span></span>
<span><span style="color: #D6DEEB">   </span><span style="color: #82AAFF">d:</span><span style="color: #D6DEEB">	f3 c3                	</span><span style="color: #7FDBCA">repz</span><span style="color: #D6DEEB"> </span><span style="color: #7FDBCA">ret</span></span></code></pre></div><div class="light:important-block" style="display:none;" data-v-fc4b3c9e=""><pre class="shiki light" style="background-color: #FBFBFB" tabindex="0"><code><span><span style="color: #403F53">   </span><span style="color: #AA0982">0</span><span style="color: #403F53">:	</span><span style="color: #AA0982">48</span><span style="color: #403F53"> </span><span style="color: #AA0982">89</span><span style="color: #403F53"> f8             	</span><span style="color: #0C969B">mov</span><span style="color: #403F53">    %</span><span style="color: #4876D6">rdi</span><span style="color: #403F53">,%</span><span style="color: #4876D6">rax</span></span>
<span><span style="color: #403F53">   </span><span style="color: #AA0982">3</span><span style="color: #403F53">:	eb </span><span style="color: #AA0982">03</span><span style="color: #403F53">                	</span><span style="color: #0C969B">jmp</span><span style="color: #403F53">    </span><span style="color: #AA0982">0x8</span></span>
<span><span style="color: #403F53">   </span><span style="color: #AA0982">5</span><span style="color: #403F53">:	</span><span style="color: #AA0982">48</span><span style="color: #403F53"> d1 f8             	</span><span style="color: #0C969B">sar</span><span style="color: #403F53">    %</span><span style="color: #4876D6">rax</span></span>
<span><span style="color: #403F53">   </span><span style="color: #AA0982">8</span><span style="color: #403F53">:	</span><span style="color: #AA0982">48</span><span style="color: #403F53"> </span><span style="color: #AA0982">85</span><span style="color: #403F53"> c0             	</span><span style="color: #0C969B">test</span><span style="color: #403F53">   %</span><span style="color: #4876D6">rax</span><span style="color: #403F53">,%</span><span style="color: #4876D6">rax</span></span>
<span><span style="color: #403F53">   </span><span style="color: #4876D6">b:</span><span style="color: #403F53">	7f f8                	</span><span style="color: #0C969B">jg</span><span style="color: #403F53">     </span><span style="color: #AA0982">0x5</span></span>
<span><span style="color: #403F53">   </span><span style="color: #4876D6">d:</span><span style="color: #403F53">	f3 c3                	</span><span style="color: #0C969B">repz</span><span style="color: #403F53"> </span><span style="color: #0C969B">ret</span></span></code></pre></div></section>
<p>è¿™é‡Œ <code>jmp .L2</code> çš„ operand ç¼–ç ä¸º <code>0x03</code><span class="mojikumi-line-end">ï¼Œ</span>å³å…¶ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ <code>0x5</code> åˆ° jump target <code>0x8</code> çš„è·ç¦»<span class="mojikumi-line-end">ï¼›</span><code>jg .L3</code> çš„ operand ç¼–ç ä¸º <code>0xf8</code> å³ -8<span class="mojikumi-line-end">ï¼Œ</span>ä¹Ÿå°±æ˜¯å…¶ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ <code>0xd</code> åˆ° jump target <code>0x5</code> çš„è·ç¦»<span class="mojikumi-line-end">ã€‚</span></p>
<p>é“¾æ¥å<span class="mojikumi-line-end">ï¼š</span></p>
<section class="code-block relative my-6 shadow" itemprop="hasPart" itemscope="" itemtype="https://schema.org/SoftwareSourceCode" data-v-fc4b3c9e=""><div class="media-screen:important-flex items-center px-4 h-6 rd-t-1 bg-area dark:bg-#2A313A" style="display:none;" data-v-fc4b3c9e=""><h5 class="text-3 text-footer" itemprop="programmingLanguage" aria-label="asm ä»£ç å—" data-v-fc4b3c9e="">asm</h5><ile-root id="ile-13"><button title="å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copy-button b-footer text-footer" data-v-9288569d=""><span class="i-mdi-content-copy" data-v-9288569d=""></span><span class="sr-only" role="status" data-v-9288569d=""></span></button></ile-root><script></script><script type="module" async="">var s=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var r=(i,a,o)=>new Promise((c,n)=>{var f=t=>{try{_(o.next(t))}catch(e){n(e)}},l=t=>{try{_(o.throw(t))}catch(e){n(e)}},_=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);_((o=o.apply(i,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{b as p}from"/assets/iles.c6dd5c6f.js";import"/assets/vendor-vue.0eea1c14.js";var E=s(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.c6dd5c6f.js").then(i=>i.v),["assets/iles.c6dd5c6f.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/CopyButton.26127d20.js"),["assets/CopyButton.26127d20.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default});p(u,v,"ile-13",{},{})});export default E();
</script></div><div class="light:hidden" itemprop="text" data-v-fc4b3c9e=""><pre class="shiki dark" style="background-color: #011627" tabindex="0"><code><span><span style="color: #D6DEEB">000000000000112e &lt;foo&gt;:</span></span>
<span><span style="color: #D6DEEB">    </span><span style="color: #FFFFFF">112e:</span><span style="color: #D6DEEB">       </span><span style="color: #F78C6C">48</span><span style="color: #D6DEEB"> </span><span style="color: #F78C6C">89</span><span style="color: #D6DEEB"> f8                </span><span style="color: #7FDBCA">mov</span><span style="color: #D6DEEB">    %</span><span style="color: #82AAFF">rdi</span><span style="color: #D6DEEB">,%</span><span style="color: #82AAFF">rax</span></span>
<span><span style="color: #D6DEEB">    </span><span style="color: #F78C6C">1131</span><span style="color: #D6DEEB">:       eb </span><span style="color: #F78C6C">03</span><span style="color: #D6DEEB">                   </span><span style="color: #7FDBCA">jmp</span><span style="color: #D6DEEB">    </span><span style="color: #F78C6C">1136</span><span style="color: #D6DEEB"> &lt;foo+</span><span style="color: #F78C6C">0x8</span><span style="color: #D6DEEB">&gt;</span></span>
<span><span style="color: #D6DEEB">    </span><span style="color: #F78C6C">1133</span><span style="color: #D6DEEB">:       </span><span style="color: #F78C6C">48</span><span style="color: #D6DEEB"> d1 f8                </span><span style="color: #7FDBCA">sar</span><span style="color: #D6DEEB">    %</span><span style="color: #82AAFF">rax</span></span>
<span><span style="color: #D6DEEB">    </span><span style="color: #F78C6C">1136</span><span style="color: #D6DEEB">:       </span><span style="color: #F78C6C">48</span><span style="color: #D6DEEB"> </span><span style="color: #F78C6C">85</span><span style="color: #D6DEEB"> c0                </span><span style="color: #7FDBCA">test</span><span style="color: #D6DEEB">   %</span><span style="color: #82AAFF">rax</span><span style="color: #D6DEEB">,%</span><span style="color: #82AAFF">rax</span></span>
<span><span style="color: #D6DEEB">    </span><span style="color: #F78C6C">1139</span><span style="color: #D6DEEB">:       7f f8                   </span><span style="color: #7FDBCA">jg</span><span style="color: #D6DEEB">     </span><span style="color: #F78C6C">1133</span><span style="color: #D6DEEB"> &lt;foo+</span><span style="color: #F78C6C">0x5</span><span style="color: #D6DEEB">&gt;</span></span>
<span><span style="color: #D6DEEB">    </span><span style="color: #FFFFFF">113b:</span><span style="color: #D6DEEB">       f3 c3                   </span><span style="color: #7FDBCA">repz</span><span style="color: #D6DEEB"> </span><span style="color: #7FDBCA">ret</span></span></code></pre></div><div class="light:important-block" style="display:none;" data-v-fc4b3c9e=""><pre class="shiki light" style="background-color: #FBFBFB" tabindex="0"><code><span><span style="color: #403F53">000000000000112e &lt;foo&gt;:</span></span>
<span><span style="color: #403F53">    </span><span style="color: #C96765">112e:</span><span style="color: #403F53">       </span><span style="color: #AA0982">48</span><span style="color: #403F53"> </span><span style="color: #AA0982">89</span><span style="color: #403F53"> f8                </span><span style="color: #0C969B">mov</span><span style="color: #403F53">    %</span><span style="color: #4876D6">rdi</span><span style="color: #403F53">,%</span><span style="color: #4876D6">rax</span></span>
<span><span style="color: #403F53">    </span><span style="color: #AA0982">1131</span><span style="color: #403F53">:       eb </span><span style="color: #AA0982">03</span><span style="color: #403F53">                   </span><span style="color: #0C969B">jmp</span><span style="color: #403F53">    </span><span style="color: #AA0982">1136</span><span style="color: #403F53"> &lt;foo+</span><span style="color: #AA0982">0x8</span><span style="color: #403F53">&gt;</span></span>
<span><span style="color: #403F53">    </span><span style="color: #AA0982">1133</span><span style="color: #403F53">:       </span><span style="color: #AA0982">48</span><span style="color: #403F53"> d1 f8                </span><span style="color: #0C969B">sar</span><span style="color: #403F53">    %</span><span style="color: #4876D6">rax</span></span>
<span><span style="color: #403F53">    </span><span style="color: #AA0982">1136</span><span style="color: #403F53">:       </span><span style="color: #AA0982">48</span><span style="color: #403F53"> </span><span style="color: #AA0982">85</span><span style="color: #403F53"> c0                </span><span style="color: #0C969B">test</span><span style="color: #403F53">   %</span><span style="color: #4876D6">rax</span><span style="color: #403F53">,%</span><span style="color: #4876D6">rax</span></span>
<span><span style="color: #403F53">    </span><span style="color: #AA0982">1139</span><span style="color: #403F53">:       7f f8                   </span><span style="color: #0C969B">jg</span><span style="color: #403F53">     </span><span style="color: #AA0982">1133</span><span style="color: #403F53"> &lt;foo+</span><span style="color: #AA0982">0x5</span><span style="color: #403F53">&gt;</span></span>
<span><span style="color: #403F53">    </span><span style="color: #C96765">113b:</span><span style="color: #403F53">       f3 c3                   </span><span style="color: #0C969B">repz</span><span style="color: #403F53"> </span><span style="color: #0C969B">ret</span></span></code></pre></div></section>
<h3 id="cmovcc-æŒ‡ä»¤" class="heading"><a href="#cmovcc-æŒ‡ä»¤" class="heading-anchor" aria-label="ç« èŠ‚ï¼š CMOVcc æŒ‡ä»¤" tabindex="-1"></a><span>CMOVcc æŒ‡ä»¤</span></h3>
<p><code>CMOVcc</code> å¯ä»¥åœ¨æ»¡è¶³ <code>cc</code> æ—¶å°† source å¤åˆ¶åˆ° destination<span class="mojikumi-line-end">ã€‚</span>è¿™æ¡æŒ‡ä»¤åœ¨ ATT æ ¼å¼ä¸­æ²¡æœ‰é•¿åº¦ç±»å‹åç¼€<span class="mojikumi-line-end">ï¼Œ</span>é€šè¿‡ destination register çš„é•¿åº¦æ¥æ¨æ–­ç±»å‹<span class="mojikumi-line-end">ã€‚</span>ä¸æ¥å— byte ä½œä¸º operand<span class="mojikumi-line-end">ã€‚</span></p>
<ul>
<li><code>CMOVcc r/m16, r16</code></li>
<li><code>CMOVcc r/m32, r32</code></li>
<li><code>CMOVcc r/m64, r64</code></li>
</ul>
<h3 id="å®ç°-if-else-è¯­å¥" class="heading"><a href="#å®ç°-if-else-è¯­å¥" class="heading-anchor" aria-label="ç« èŠ‚ï¼š å®ç° if-else è¯­å¥" tabindex="-1"></a><span>å®ç° if-else è¯­å¥</span></h3>
<p>å®ç° if-else è¯­å¥ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼<span class="mojikumi-line-end">ï¼š</span></p>
<ol>
<li>Conditional control: å³é€šè¿‡ jump æŒ‡ä»¤æ›´æ”¹æŒ‡ä»¤æ‰§è¡Œçš„é¡ºåº<span class="mojikumi-line-end">ã€‚</span></li>
<li>Conditional moves: å³é€šè¿‡ <code>CMOVcc</code> ç­‰æŒ‡ä»¤<span class="mojikumi-line-end">ï¼Œ</span>æ ¹æ®æ¡ä»¶å†³å®šæ˜¯å¦æ‰§è¡Œè¿™ä¸€æ¡æŒ‡ä»¤<span class="mojikumi-line-end">ï¼Œ</span>ä½†ä¸æ”¹å˜æŒ‡ä»¤æ‰§è¡Œçš„é¡ºåº<span class="mojikumi-line-end">ã€‚</span></li>
</ol>
<p><span class="mojikumi-line-start">ï¼ˆ</span>å…·ä½“å®ç°æ–¹å¼å¯ä»¥å‚è€ƒ CS:APP ä¸­çš„ä¾‹å­<span class="mojikumi">ã€‚</span><span class="mojikumi-line-end">ï¼‰</span></p>
<p>conditonal control æ˜¯é€šç”¨çš„<span class="mojikumi-line-end">ï¼Œ</span>ä½† conditonal moves åªåœ¨æœ‰é™çš„æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨<span class="mojikumi-line-end">ã€‚</span>ä¸€èˆ¬æ¥è¯´<span class="mojikumi-line-end">ï¼Œ</span>ä½¿ç”¨ conditional moves æ—¶éœ€è¦å…ˆå°†ä¸¤ä¸ªåˆ†æ”¯éƒ½ç®—å‡ºæ¥<span class="mojikumi-line-end">ï¼Œ</span>ç„¶åæ ¹æ®æ¡ä»¶æ¥è¿›è¡Œ move<span class="mojikumi-line-end">ï¼Œ</span>æ‰€ä»¥è¦æ±‚åˆ†æ”¯ä¸­æ²¡æœ‰å‰¯ä½œç”¨<span class="mojikumi-line-end">ã€‚</span></p>
<p>conditional moves æœ‰æ—¶å¯ä»¥ç”¨æ¥ä¼˜åŒ–æ€§èƒ½<span class="mojikumi-line-end">ï¼Œ</span>ä¸»è¦æ˜¯å› ä¸ºç°ä»£å¤„ç†å™¨çš„ <i>pipelining</i><span class="mojikumi-line-end">ï¼Œ</span>å³åœ¨ç‰©ç†ä¸ŠåŒæ—¶æ‰§è¡Œå¤šæ¡æŒ‡ä»¤<span class="mojikumi-line-start">ï¼ˆ</span>ä½†åœ¨æ•ˆæœä¸Šå’ŒæŒ‰é¡ºåºæ‰§è¡Œä¸€è‡´<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ã€‚</span>æ¡ä»¶è·³è½¬ä½¿å¾—å¤„ç†å™¨ä¸èƒ½ç¡®å®šæœªæ¥è¦æ‰§è¡Œå“ªäº›æŒ‡ä»¤<span class="mojikumi-line-end">ï¼Œ</span>è€Œåªèƒ½è¿›è¡Œåˆ†æ”¯é¢„æµ‹<span class="mojikumi-line-end">ï¼Œ</span>å¦‚æœé¢„æµ‹å¤±è´¥ pipelining å°±ç™½è´¹äº†<span class="mojikumi-line-end">ã€‚</span>è€Œ conditional move ä¸ä¼šç ´åæŒ‡ä»¤æ‰§è¡Œçš„é¡ºåº<span class="mojikumi-line-end">ï¼Œ</span>ä¹Ÿå°±ä¸å½±å“ pipelining<span class="mojikumi-line-end">ï¼Œ</span>æ‰€ä»¥å¯ä»¥èµ·åˆ°ä¼˜åŒ–çš„æ•ˆæœ<span class="mojikumi-line-end">ã€‚</span>ä½†æ˜¯<span class="mojikumi-line-end">ï¼Œ</span>conditional moves é™¤äº†è¦æ±‚åˆ†æ”¯æ— å‰¯ä½œç”¨<span class="mojikumi-line-end">ï¼Œ</span>è¿˜éœ€è¦ä¸¤ä¸ª branch éƒ½æ‰§è¡Œ<span class="mojikumi-line-end">ï¼Œ</span>æ‰€ä»¥å¦‚æœåˆ†æ”¯è¿‡å¤§<span class="mojikumi-line-end">ï¼Œ</span>å°±ä¸å¦‚ conditional control<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="å®ç°å¾ªç¯è¯­å¥" class="heading"><a href="#å®ç°å¾ªç¯è¯­å¥" class="heading-anchor" aria-label="ç« èŠ‚ï¼š å®ç°å¾ªç¯è¯­å¥" tabindex="-1"></a><span>å®ç°å¾ªç¯è¯­å¥</span></h3>
<p><code>do while</code>: è·‘å®Œä¸€æ®µä»£ç åè¿›è¡Œæµ‹è¯•<span class="mojikumi-line-end">ï¼Œ</span>é€šè¿‡åˆ™è·³è½¬åˆ°å¼€å¤´<span class="mojikumi-line-end">ã€‚</span></p>
<p><code>while</code>: åœ¨ <code>do while</code> çš„åŸºç¡€ä¸Š<span class="mojikumi-line-end">ï¼Œ</span>è¦ä¹ˆåœ¨å¼€å¤´ç›´æ¥è·³è½¬åˆ°æµ‹è¯• (jump to middle)<span class="mojikumi-line-end">ï¼Œ</span>è¦ä¹ˆåœ¨å¼€å¤´è¿›è¡Œä¸€æ¬¡æµ‹è¯•<span class="mojikumi-line-end">ï¼Œ</span>ä¸é€šè¿‡åˆ™è·³åˆ°ç»“å°¾ (guarded do)<span class="mojikumi-line-end">ã€‚</span></p>
<p><code>for</code>: åœ¨ <code>while</code> çš„åŸºç¡€ä¸Š<span class="mojikumi-line-end">ï¼Œ</span>å¼€å¤´åˆå§‹åŒ–<span class="mojikumi-line-end">ï¼Œ</span>æµ‹è¯•å‰æ›´æ–°<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="å®ç°-switch-è¯­å¥" class="heading"><a href="#å®ç°-switch-è¯­å¥" class="heading-anchor" aria-label="ç« èŠ‚ï¼š å®ç° switch è¯­å¥" tabindex="-1"></a><span>å®ç° switch è¯­å¥</span></h3>
<p>å…·ä½“ä¾‹å­å¯ä»¥å‚è€ƒ CS:APP<span class="mojikumi-line-end">ï¼Œ</span>é‡ç‚¹åœ¨äº<span class="mojikumi-line-end">ï¼Œ</span>å¦‚æœ cases çš„å€¼ä¸è¿‡äºç¨€ç–<span class="mojikumi-line-end">ï¼Œ</span>å¯ä»¥å»ºä¸€ä¸ªå«åš jump table çš„æ•°ç»„<span class="mojikumi-line-end">ï¼Œ</span>ä»¥ cases çš„å€¼ä½œä¸ºä¸‹æ ‡<span class="mojikumi-line-end">ï¼Œ</span>label ä½œä¸ºå€¼<span class="mojikumi-line-end">ï¼Œ</span>è¿™æ ·å°±å¯ä»¥ç”¨ä¸€æ¬¡æ•°ç»„è®¿é—®è€Œéå¤šæ¬¡æ¡ä»¶è·³è½¬æ¥å®ç° <code>switch</code> è¯­å¥<span class="mojikumi-line-end">ã€‚</span>jump table ä¹Ÿå¯ä»¥å’Œæ¡ä»¶è·³è½¬ç»“åˆ<span class="mojikumi-line-end">ï¼Œ</span>ä»¥å¤„ç† default case æˆ–è€…ä¸ªåˆ« cases<span class="mojikumi-line-end">ã€‚</span></p>
<h2 id="procedures" class="heading"><a href="#procedures" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Procedures" tabindex="-1"></a><span>Procedures</span></h2>
<p>procedure çš„å®ç°ä¸»è¦æ¶‰åŠä¸‰ä¸ªæ–¹é¢<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li>åœ¨ä¸åŒçš„ procedure ä¹‹é—´è½¬ç§»æ§åˆ¶æƒ<span class="mojikumi-line-end">ï¼Œ</span>å³è°ƒç”¨ procedure æ—¶äº¤å‡ºæ§åˆ¶æƒ<span class="mojikumi-line-end">ï¼Œ</span>procedure è¿”å›æ—¶æ‹¿å›æ§åˆ¶æƒ</li>
<li>ä¼ é€’å‚æ•°å’Œè¿”å›å€¼</li>
<li>ä¸ºå±€éƒ¨å˜é‡åˆ†é…/é‡Šæ”¾å†…å­˜</li>
</ul>
<p>è°ƒç”¨ procedure çš„æ ¸å¿ƒæ˜¯åœ¨ <a href="#pushpop-stack">push/pop stack</a> ä¸€èŠ‚ä¸­ä»‹ç»è¿‡çš„ runtime stack<span class="mojikumi-line-end">ã€‚</span>å¤§ä½“ä¸Šæ¥è®²<span class="mojikumi-line-end">ï¼Œ</span>stack ä¼šåˆ†æˆä¸€å † frame<span class="mojikumi-line-end">ï¼Œ</span>æ ˆé¡¶çš„ frame ä¸ºå½“å‰ procedure çš„ç›¸å…³æ•°æ®<span class="mojikumi-line-end">ï¼Œ</span>ä»æ ˆé¡¶åˆ°æ ˆåº•çš„å„ä¸ª frame ä¾æ¬¡æ”¾ç€è°ƒç”¨é“¾ä¸Šçš„å„ä¸ª procedure<span class="mojikumi-line-end">ï¼Œ</span>åœ¨è°ƒç”¨ä¸€ä¸ª procedure æ—¶ä¼šå°†ç›¸å…³æ•°æ®å‹å…¥æ ˆä¸­<span class="mojikumi-line-end">ï¼Œ</span>è¿”å›æ—¶å†å¼¹å‡º<span class="mojikumi-line-end">ã€‚</span></p>
<p>è¿™éƒ¨åˆ†ä¼šé‡‡å–<span class="mojikumi-line-start">â€œ</span>ç®€ä»‹-åŸåˆ™-å®ç°<span class="mojikumi-line-end">â€</span>çš„ç»“æ„<span class="mojikumi-line-end">ï¼Œ</span>å…ˆç®€å•ä»‹ç»å¤§æ¦‚æ˜¯ä»€ä¹ˆæ ·çš„<span class="mojikumi-line-end">ï¼Œ</span>å†è¯´æ˜å®ç°éœ€è¦éµå¾ªçš„åŸåˆ™<span class="mojikumi-line-end">ï¼Œ</span>å†è¯´æ˜å…·ä½“å®ç°<span class="mojikumi-line-end">ï¼Œ</span>ä»¥åŠå®ç°æ˜¯å¦‚ä½•æ»¡è¶³ä»¥åŠåˆ©ç”¨åŸåˆ™çš„<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="è½¬ç§»æ§åˆ¶æƒ" class="heading"><a href="#è½¬ç§»æ§åˆ¶æƒ" class="heading-anchor" aria-label="ç« èŠ‚ï¼š è½¬ç§»æ§åˆ¶æƒ" tabindex="-1"></a><span>è½¬ç§»æ§åˆ¶æƒ</span></h3>
<p>è°ƒç”¨ procedure æ—¶<span class="mojikumi-line-end">ï¼Œ</span>ä¼šå°†å½“å‰ program counter çš„å€¼å­˜åœ¨ stack ä¸­<span class="mojikumi-line-end">ï¼Œ</span>ç„¶åå°† program counter ä¿®æ”¹ä¸º callee<span class="mojikumi-line-end">ï¼Œ</span>åœ¨è¿”å›æ—¶å†ä» stack ä¸­å–å‡º caller çš„åœ°å€è®¾ä¸º program counter<span class="mojikumi-line-end">ã€‚</span></p>
<a id="å­˜æ”¾-caller-åœ°å€çš„åŸåˆ™" name="å­˜æ”¾-caller-åœ°å€çš„åŸåˆ™" aria-hidden="true"></a>
<aside role="note" data-v-1ac72824=""><div class="shadow-md rd-1 b-l-6 my-6 bg-green-2 dark:bg-green-9 b-green-5" data-v-1ac72824=""><div class="p-3 flex justify-between items-center" data-v-1ac72824=""><h4 class="font-bold flex items-center gap-1" data-v-1ac72824=""><span class="text-5 i-mdi-lightbulb-outline text-green" data-v-1ac72824=""></span><span class="sr-only" data-v-1ac72824="">Hint</span><span data-v-1ac72824="">å­˜æ”¾ caller åœ°å€çš„åŸåˆ™</span></h4><!--v-if--></div><div class="bg-card dark:bg-bghover overflow-auto px-6 rd-br-1" data-v-1ac72824=""><p>è¿›å…¥ä¸€ä¸ª procedure æ—¶<span class="mojikumi-line-end">ï¼Œ</span>æ ˆé¡¶æ”¾çš„æ˜¯ caller çš„åœ°å€<span class="mojikumi-line-start">ï¼ˆ</span>å…·ä½“æ¥è¯´<span class="mojikumi-line-end">ï¼Œ</span>æ˜¯ <code>call</code> æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ã€‚</span></p><p>è¿”å›æ—¶<span class="mojikumi-line-end">ï¼Œ</span>è¿™ä¸ª caller çš„åœ°å€ä¼šå‡ºæ ˆ<span class="mojikumi-line-end">ï¼Œ</span>å³è¿”å›åçš„ <code>%rsp</code> æ˜¯è¿›å…¥æ—¶çš„ <code>%rsp</code> åŠ  8<span class="mojikumi-line-end">ã€‚</span></p></div></div></aside>
<p>å…·ä½“å®ç°ä¼šä½¿ç”¨ <code>CALL</code> å’Œ <code>RET</code> ä¸¤æ¡æŒ‡ä»¤<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li><code>call Label</code></li>
<li><code>call *(r/m64)</code></li>
<li><code>ret</code></li>
</ul>
<p>å…¶ä¸­ <code>call</code> çš„ operand å’Œ <code>jmp</code> æ˜¯ä¸€æ ·çš„<span class="mojikumi-line-end">ï¼Œ</span>æ•ˆæœç›¸å½“äºå…ˆ <code>pushq %rip</code> å† <code>jmp</code><span class="mojikumi-line-end">ã€‚</span><code>ret</code> åˆ™ç›¸å½“äºæŠŠ <code>popq</code> çš„ç»“æœä½œä¸º <code>jmp</code> çš„ operand<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="ä¼ é€’å‚æ•°" class="heading"><a href="#ä¼ é€’å‚æ•°" class="heading-anchor" aria-label="ç« èŠ‚ï¼š ä¼ é€’å‚æ•°" tabindex="-1"></a><span>ä¼ é€’å‚æ•°</span></h3>
<p>å¯„å­˜å™¨ä¸­æœ‰ 6 ä¸ªç”¨æ¥å­˜æ”¾ procedure çš„ arguments<span class="mojikumi-line-end">ï¼Œ</span>å¦‚æœå‚æ•°å¤šäº 6 ä¸ª<span class="mojikumi-line-end">ï¼Œ</span>åˆ™ä¼šæ”¾åœ¨ stack ä¸­<span class="mojikumi-line-end">ã€‚</span></p>
<div class="overflow-auto my-6"><table>
<thead>
<tr>
<th align="center">bits</th>
<th align="center">1</th>
<th align="center">2</th>
<th align="center">3</th>
<th align="center">4</th>
<th align="center">5</th>
<th align="center">6</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">64</td>
<td align="center"><code>%rdi</code></td>
<td align="center"><code>%rsi</code></td>
<td align="center"><code>%rdx</code></td>
<td align="center"><code>%rcx</code></td>
<td align="center"><code>%r8</code></td>
<td align="center"><code>%r9</code></td>
</tr>
<tr>
<td align="center">32</td>
<td align="center"><code>%edi</code></td>
<td align="center"><code>%esi</code></td>
<td align="center"><code>%edx</code></td>
<td align="center"><code>%ecx</code></td>
<td align="center"><code>%r8d</code></td>
<td align="center"><code>%r9d</code></td>
</tr>
<tr>
<td align="center">16</td>
<td align="center"><code>%di</code></td>
<td align="center"><code>%si</code></td>
<td align="center"><code>%dx</code></td>
<td align="center"><code>%cx</code></td>
<td align="center"><code>%r8w</code></td>
<td align="center"><code>%r9w</code></td>
</tr>
<tr>
<td align="center">8</td>
<td align="center"><code>%dil</code></td>
<td align="center"><code>%sil</code></td>
<td align="center"><code>%dl</code></td>
<td align="center"><code>%cl</code></td>
<td align="center"><code>%r8b</code></td>
<td align="center"><code>%r9b</code></td>
</tr>
</tbody>
</table></div>
<a id="å­˜æ”¾å‚æ•°çš„åŸåˆ™" name="å­˜æ”¾å‚æ•°çš„åŸåˆ™" aria-hidden="true"></a>
<aside role="note" data-v-1ac72824=""><div class="shadow-md rd-1 b-l-6 my-6 bg-green-2 dark:bg-green-9 b-green-5" data-v-1ac72824=""><div class="p-3 flex justify-between items-center" data-v-1ac72824=""><h4 class="font-bold flex items-center gap-1" data-v-1ac72824=""><span class="text-5 i-mdi-lightbulb-outline text-green" data-v-1ac72824=""></span><span class="sr-only" data-v-1ac72824="">Hint</span><span data-v-1ac72824="">å­˜æ”¾å‚æ•°çš„åŸåˆ™</span></h4><!--v-if--></div><div class="bg-card dark:bg-bghover overflow-auto px-6 rd-br-1" data-v-1ac72824=""><p>è¿›å…¥ procedure æ—¶<span class="mojikumi-line-end">ï¼Œ</span>å‰ 6 ä¸ªå‚æ•°<span class="mojikumi-line-start">ï¼ˆ</span>å¦‚æœæœ‰<span class="mojikumi-line-end">ï¼‰</span>ä¼šè¢«æ”¾åœ¨ç›¸åº”çš„å¯„å­˜å™¨ä¸­<span class="mojikumi-line-end">ï¼›</span>å…¶ä½™å‚æ•°æ”¾åœ¨
stack ä¸­<span class="mojikumi-line-end">ï¼Œ</span>å…·ä½“æ¥è¯´<span class="mojikumi-line-end">ï¼Œ</span>ç¬¬ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span> ä¸ªå‚æ•°è¢«æ”¾åœ¨æ ˆé¡¶ä¸‹é¢çš„ç¬¬ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ’</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">n-6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">6</span></span></span></span></span> ä¸ªä½ç½®<span class="mojikumi-line-end">ï¼Œ</span>ä¹Ÿå°±æ˜¯
<code>M[R[%rsp] + 8(n-6)]</code><span class="mojikumi-line-end">ã€‚</span></p></div></div></aside>
<p>å…·ä½“å®ç°ä¸º<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li>åœ¨ caller ä¸­<span class="mojikumi-line-end">ã€</span><code>call</code> ä¹‹å‰<span class="mojikumi-line-end">ï¼š</span>å°†å‰ 6 ä¸ªå‚æ•°æ”¾åœ¨ç›¸åº”çš„å¯„å­˜å™¨<span class="mojikumi-line-end">ï¼Œ</span>å¹¶å°†å…¶ä½™å‚æ•°æŒ‰ä»åå‘å‰çš„é¡ºåºä¾æ¬¡å‹å…¥ stack</li>
<li>åœ¨ caller ä¸­<span class="mojikumi-line-end">ã€</span><code>call</code> ä¹‹å<span class="mojikumi-line-end">ï¼š</span>æŠŠ stack ä¸­çš„å‚æ•°<span class="mojikumi-line-start">ï¼ˆ</span>å¦‚æœæœ‰<span class="mojikumi-line-end">ï¼‰</span>å¼¹å‡º (<code>addq $8(n-6), %rsp</code>)</li>
<li>åœ¨ callee ä¸­<span class="mojikumi-line-end">ï¼š</span>ä»ç›¸åº”çš„å¯„å­˜å™¨æˆ– stack ä¸­è¯»å–å‚æ•°</li>
</ul>
<h3 id="ä¼ é€’è¿”å›å€¼" class="heading"><a href="#ä¼ é€’è¿”å›å€¼" class="heading-anchor" aria-label="ç« èŠ‚ï¼š ä¼ é€’è¿”å›å€¼" tabindex="-1"></a><span>ä¼ é€’è¿”å›å€¼</span></h3>
<a id="å­˜æ”¾è¿”å›å€¼çš„åŸåˆ™" name="å­˜æ”¾è¿”å›å€¼çš„åŸåˆ™" aria-hidden="true"></a>
<aside role="note" data-v-1ac72824=""><div class="shadow-md rd-1 b-l-6 my-6 bg-green-2 dark:bg-green-9 b-green-5" data-v-1ac72824=""><div class="p-3 flex justify-between items-center" data-v-1ac72824=""><h4 class="font-bold flex items-center gap-1" data-v-1ac72824=""><span class="text-5 i-mdi-lightbulb-outline text-green" data-v-1ac72824=""></span><span class="sr-only" data-v-1ac72824="">Hint</span><span data-v-1ac72824="">å­˜æ”¾è¿”å›å€¼çš„åŸåˆ™</span></h4><!--v-if--></div><div class="bg-card dark:bg-bghover overflow-auto px-6 rd-br-1" data-v-1ac72824=""><p>åœ¨è°ƒç”¨ procedure å¹¶è¿”å›å<span class="mojikumi-line-end">ï¼Œ</span>å¦‚æœè¯¥ procedure æœ‰è¿”å›å€¼<span class="mojikumi-line-end">ï¼Œ</span><code>%rax</code>
ä¸­å­˜æ”¾çš„æ˜¯è¯¥è¿”å›å€¼<span class="mojikumi-line-end">ã€‚</span></p></div></div></aside>
<p>å…·ä½“å®ç°å°±æ˜¯åœ¨ <code>ret</code> å‰ç¡®ä¿ <code>%rax</code> ä¸­æ”¾çš„æ˜¯è¿”å›å€¼<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="å­˜å‚¨å±€éƒ¨å˜é‡" class="heading"><a href="#å­˜å‚¨å±€éƒ¨å˜é‡" class="heading-anchor" aria-label="ç« èŠ‚ï¼š å­˜å‚¨å±€éƒ¨å˜é‡" tabindex="-1"></a><span>å­˜å‚¨å±€éƒ¨å˜é‡</span></h3>
<p>å±€éƒ¨å˜é‡ä¸€èˆ¬ä¼šä¼˜å…ˆæ”¾åœ¨å¯„å­˜å™¨ä¸­<span class="mojikumi-line-end">ï¼Œ</span>å¦‚æœæ”¾ä¸ä¸‹å°±ä¼šæ”¾åœ¨ stack ä¸­<span class="mojikumi-line-end">ã€‚</span></p>
<p>ç‰¹åˆ«åœ°<span class="mojikumi-line-end">ï¼Œ</span>å¦‚æœä»£ç ä¸­æ¶‰åŠåˆ°å–å±€éƒ¨å˜é‡çš„åœ°å€<span class="mojikumi-line-end">ï¼Œ</span>æˆ–è€…å±€éƒ¨å˜é‡æ˜¯ç»“æ„åŒ–æ•°æ®<span class="mojikumi-line-start">ï¼ˆ</span>ä¾‹å¦‚æ•°ç»„æˆ–ç»“æ„ä½“<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ï¼Œ</span>åˆ™å¿…é¡»æ”¾åœ¨ stack ä¸­<span class="mojikumi-line-end">ã€‚</span></p>
<p>å¦‚æœå±€éƒ¨å˜é‡æ”¾åœ¨å¯„å­˜å™¨ä¸­<span class="mojikumi-line-end">ï¼Œ</span>ä¸”åœ¨ä½¿ç”¨è¯¥å±€éƒ¨å˜é‡çš„è¿‡ç¨‹ä¸­è°ƒç”¨äº† procedure<span class="mojikumi-line-end">ï¼Œ</span>é‚£ä¹ˆè¯¥å±€éƒ¨å˜é‡å°±ä¼šéœ€è¦å…ˆå­˜èµ·æ¥ä»¥ä¿è¯è°ƒç”¨ procedure ä¹‹åä¸ä¼šæ”¹å˜<span class="mojikumi-line-end">ï¼Œ</span>è€Œè¿™æœ‰ä¸¤ç§æ–¹å¼å®ç°<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li>caller saved<span class="mojikumi-line-end">ï¼Œ</span>å³åœ¨ caller ä¸­å°†å¯„å­˜å™¨é‡Œçš„å€¼å­˜åœ¨ stack é‡Œ<span class="mojikumi-line-end">ã€‚</span></li>
<li>callee saved<span class="mojikumi-line-end">ï¼Œ</span>å³åœ¨ callee ä¸­å­˜å‚¨<span class="mojikumi-line-end">ï¼š</span>æœ‰ä¸€äº›ç‰¹æ®Šçš„å¯„å­˜å™¨æ˜¯ callee-saved register<span class="mojikumi-line-end">ï¼Œ</span>å¦‚æœæŠŠå±€éƒ¨å˜é‡å­˜åœ¨è¿™äº›å¯„å­˜å™¨ä¸­<span class="mojikumi-line-end">ï¼Œ</span>åœ¨ caller ä¸­å°±ä¸ç”¨æ‹…å¿ƒå®ƒä»¬çš„å€¼ä¼šåœ¨è°ƒç”¨ procedure åè¢«ä¿®æ”¹<span class="mojikumi-line-end">ã€‚</span></li>
</ul>
<a id="callee-saved-registers-çš„ä½¿ç”¨åŸåˆ™" name="callee-saved-registers-çš„ä½¿ç”¨åŸåˆ™" aria-hidden="true"></a>
<aside role="note" data-v-1ac72824=""><div class="shadow-md rd-1 b-l-6 my-6 bg-green-2 dark:bg-green-9 b-green-5" data-v-1ac72824=""><div class="p-3 flex justify-between items-center" data-v-1ac72824=""><h4 class="font-bold flex items-center gap-1" data-v-1ac72824=""><span class="text-5 i-mdi-lightbulb-outline text-green" data-v-1ac72824=""></span><span class="sr-only" data-v-1ac72824="">Hint</span><span data-v-1ac72824="">callee-saved registers çš„ä½¿ç”¨åŸåˆ™</span></h4><!--v-if--></div><div class="bg-card dark:bg-bghover overflow-auto px-6 rd-br-1" data-v-1ac72824=""><p>æœ‰ 6 ä¸ªç‰¹æ®Šçš„å¯„å­˜å™¨ <code>%rbx</code><span class="mojikumi-line-end">ã€</span><code>%rbp</code><span class="mojikumi-line-end">ã€</span><code>%r12-15</code> æ˜¯ callee-saved register<span class="mojikumi-line-end">ã€‚</span></p><p>ä»»ä½• procedure éƒ½è¦ä¿è¯<span class="mojikumi-line-end">ï¼Œ</span>æ¯ä¸ª callee-saved register çš„å€¼åœ¨è¿›å…¥å’Œè¿”å›æ—¶æ˜¯ç›¸åŒçš„<span class="mojikumi-line-end">ã€‚</span></p></div></div></aside>
<p>caller saved çš„å…·ä½“å®ç°<span class="mojikumi-line-end">ï¼š</span>åœ¨ <code>call</code> ä¹‹å‰<span class="mojikumi-line-start">ï¼ˆ</span>ä»¥åŠå‹å…¥è¶…è¿‡ 6 ä¸ªçš„å‚æ•°ä¹‹å‰<span class="mojikumi-line-end">ï¼‰</span>å°†å±€éƒ¨å˜é‡å…¥æ ˆ<span class="mojikumi-line-end">ï¼Œ</span><code>call</code> ä¹‹å<span class="mojikumi-line-start">ï¼ˆ</span>ä»¥åŠå¼¹å‡ºæ”¾åœ¨æ ˆä¸­çš„å‚æ•°ä¹‹å<span class="mojikumi-line-end">ï¼‰</span>å†æŠŠæ ˆä¸­å­˜çš„å¼¹å‡ºåˆ°å¯„å­˜å™¨ä¸­<span class="mojikumi-line-end">ã€‚</span></p>
<p>callee saved çš„å…·ä½“å®ç°<span class="mojikumi-line-end">ï¼š</span>å¦‚æœä¸€ä¸ª procedure ä½¿ç”¨äº†æŸä¸ª callee-saved register<span class="mojikumi-line-end">ï¼Œ</span>åˆ™è¦åœ¨ procedure çš„å¼€å¤´å°†è¿™ä¸ªå¯„å­˜å™¨åŸæœ¬çš„å€¼å…¥æ ˆ<span class="mojikumi-line-end">ï¼Œ</span>è€Œåœ¨ procedure çš„ç»“å°¾å°†å­˜ä¸‹æ¥çš„è¿™ä¸ªåŸæœ¬çš„å€¼å¼¹å‡ºåˆ°ç›¸åº”çš„å¯„å­˜å™¨ä¸­<span class="mojikumi-line-end">ã€‚</span></p>
<p>ä¸ºäº†å°½å¯èƒ½ä½¿ç”¨<span class="mojikumi-line-start">ï¼ˆ</span>æ•°é‡å°½é‡å°‘çš„<span class="mojikumi-line-end">ï¼‰</span>å¯„å­˜å™¨è€Œé stack<span class="mojikumi-line-end">ï¼Œ</span>ç»å¸¸ä¼šæœ‰å¤šä¸ªç”Ÿå‘½å‘¨æœŸä¸äº¤å‰çš„çš„å˜é‡å…±ç”¨ä¸€ä¸ªå¯„å­˜å™¨<span class="mojikumi-line-end">ï¼Œ</span>æˆ–è€…ä¸´æ—¶åœ°æŠŠå±€éƒ¨å˜é‡æ”¾åœ¨ä¸€èˆ¬ç”¨äºå­˜æ”¾å‚æ•°æˆ–è¿”å›å€¼çš„å¯„å­˜å™¨ä¸­<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="å¯å˜å¤§å°çš„-stack-frame" class="heading"><a href="#å¯å˜å¤§å°çš„-stack-frame" class="heading-anchor" aria-label="ç« èŠ‚ï¼š å¯å˜å¤§å°çš„ stack frame" tabindex="-1"></a><span>å¯å˜å¤§å°çš„ stack frame</span></h3>
<p>é€šå¸¸æƒ…å†µä¸‹ä¸€ä¸ª procedure çš„ stack frame çš„å¤§å°æ˜¯ç¡®å®šçš„<span class="mojikumi-line-end">ï¼Œ</span>ä½†æœ‰æ—¶ stack frame çš„å¤§å°æ˜¯ä¸èƒ½åœ¨ç¼–è¯‘æ—¶ç¡®å®šçš„<span class="mojikumi-line-start">ï¼ˆ</span>ä¾‹å¦‚æœ‰éç¡®å®šå¤§å°çš„æ•°ç»„<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ã€‚</span></p>
<p>stack frame å¤§å°ç¡®å®šä¸»è¦æ˜¯ä¸ºäº†èƒ½å¤Ÿé€šè¿‡ä¸ <code>%rsp</code> å³æ ˆé¡¶çš„ç›¸å¯¹è·ç¦»æ¥è®¿é—®å±€éƒ¨å˜é‡ç­‰<span class="mojikumi-line-end">ï¼Œ</span>åœ¨ stack frame å¤§å°ä¸ç¡®å®šæ—¶<span class="mojikumi-line-end">ï¼Œ</span>åˆ™å¯ä»¥é€šè¿‡è®°å½• stack frame åº•éƒ¨çš„åœ°å€æ¥è®¿é—®å±€éƒ¨å˜é‡<span class="mojikumi-line-end">ã€‚</span></p>
<a id="stack-frame-pointer-çš„åŸåˆ™" name="stack-frame-pointer-çš„åŸåˆ™" aria-hidden="true"></a>
<aside role="note" data-v-1ac72824=""><div class="shadow-md rd-1 b-l-6 my-6 bg-green-2 dark:bg-green-9 b-green-5" data-v-1ac72824=""><div class="p-3 flex justify-between items-center" data-v-1ac72824=""><h4 class="font-bold flex items-center gap-1" data-v-1ac72824=""><span class="text-5 i-mdi-lightbulb-outline text-green" data-v-1ac72824=""></span><span class="sr-only" data-v-1ac72824="">Hint</span><span data-v-1ac72824="">stack frame pointer çš„åŸåˆ™</span></h4><!--v-if--></div><div class="bg-card dark:bg-bghover overflow-auto px-6 rd-br-1" data-v-1ac72824=""><p>åœ¨ stack frame å¤§å°ä¸ç¡®å®šæ—¶<span class="mojikumi-line-end">ï¼Œ</span>ä½¿ç”¨ <code>%rbp</code> ä½œä¸º frame pointer (base
pointer)<span class="mojikumi-line-end">ï¼Œ</span>å…¶å€¼ä¸ºåˆšè¿›å…¥ procedure æ—¶çš„ <code>%rsp</code><span class="mojikumi-line-end">ã€‚</span></p></div></div></aside>
<p>å…·ä½“å®ç°ä¸º<span class="mojikumi-line-end">ï¼š</span></p>
<section class="code-block relative my-6 shadow" itemprop="hasPart" itemscope="" itemtype="https://schema.org/SoftwareSourceCode" data-v-fc4b3c9e=""><div class="media-screen:important-flex items-center px-4 h-6 rd-t-1 bg-area dark:bg-#2A313A" style="display:none;" data-v-fc4b3c9e=""><h4 class="text-3 text-footer" itemprop="programmingLanguage" aria-label="asm ä»£ç å—" data-v-fc4b3c9e="">asm</h4><ile-root id="ile-14"><button title="å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copy-button b-footer text-footer" data-v-9288569d=""><span class="i-mdi-content-copy" data-v-9288569d=""></span><span class="sr-only" role="status" data-v-9288569d=""></span></button></ile-root><script></script><script type="module" async="">var s=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var r=(i,a,o)=>new Promise((c,n)=>{var f=t=>{try{_(o.next(t))}catch(e){n(e)}},l=t=>{try{_(o.throw(t))}catch(e){n(e)}},_=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);_((o=o.apply(i,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{b as p}from"/assets/iles.c6dd5c6f.js";import"/assets/vendor-vue.0eea1c14.js";var E=s(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.c6dd5c6f.js").then(i=>i.v),["assets/iles.c6dd5c6f.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/CopyButton.26127d20.js"),["assets/CopyButton.26127d20.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default});p(u,v,"ile-14",{},{})});export default E();
</script></div><div class="light:hidden" itemprop="text" data-v-fc4b3c9e=""><pre class="shiki dark" style="background-color: #011627" tabindex="0"><code><span><span style="color: #82AAFF">function_name:</span></span>
<span><span style="color: #D6DEEB">    pushq %</span><span style="color: #82AAFF">rbp</span></span>
<span><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">movq</span><span style="color: #D6DEEB"> %</span><span style="color: #82AAFF">rsp</span><span style="color: #D6DEEB">, %</span><span style="color: #82AAFF">rbp</span></span>
<span><span style="color: #D6DEEB">    â€¦â€¦</span></span>
<span><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">leave</span></span>
<span><span style="color: #D6DEEB">    </span><span style="color: #7FDBCA">ret</span></span></code></pre></div><div class="light:important-block" style="display:none;" data-v-fc4b3c9e=""><pre class="shiki light" style="background-color: #FBFBFB" tabindex="0"><code><span><span style="color: #4876D6">function_name:</span></span>
<span><span style="color: #403F53">    pushq %</span><span style="color: #4876D6">rbp</span></span>
<span><span style="color: #403F53">    </span><span style="color: #0C969B">movq</span><span style="color: #403F53"> %</span><span style="color: #4876D6">rsp</span><span style="color: #403F53">, %</span><span style="color: #4876D6">rbp</span></span>
<span><span style="color: #403F53">    â€¦â€¦</span></span>
<span><span style="color: #403F53">    </span><span style="color: #0C969B">leave</span></span>
<span><span style="color: #403F53">    </span><span style="color: #0C969B">ret</span></span></code></pre></div></section>
<p>è®¾ç½®å¥½ <code>%rbp</code> å<span class="mojikumi-line-end">ï¼Œ</span>å°±å¯ä»¥ä½¿ç”¨ <code>-8(%rbp)</code> ç­‰æ–¹å¼è®¿é—®ç›¸å¯¹äº stack frame åº•ç«¯çš„ä½ç½®äº†<span class="mojikumi-line-end">ã€‚</span></p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªæ–°æŒ‡ä»¤ <code>leave</code>: æ²¡æœ‰ operand<span class="mojikumi-line-end">ï¼Œ</span>ç›¸å½“äº <code>move %rbp, %rsp</code> ç„¶å <code>pop %rbp</code><span class="mojikumi-line-end">ã€‚</span></p>
<a id="leave-vs-enter" name="leave-vs-enter" aria-hidden="true"></a>
<aside role="note" data-v-1ac72824=""><div class="shadow-md rd-1 b-l-6 my-6 bg-blue-1 dark:bg-blue-9 b-blue" data-v-1ac72824=""><div class="p-3 flex justify-between items-center" data-v-1ac72824=""><h4 class="font-bold flex items-center gap-1" data-v-1ac72824=""><span class="text-5 i-mdi-pencil text-blue" data-v-1ac72824=""></span><span class="sr-only" data-v-1ac72824="">Note</span><span data-v-1ac72824=""><code>leave</code> vs <code>enter</code></span></h4><!--v-if--></div><div class="bg-card dark:bg-bghover overflow-auto px-6 rd-br-1" data-v-1ac72824=""><p>ä¸Šé¢çš„ä»£ç ä¸­ä½¿ç”¨äº† <code>leave</code> è€Œé <code>move %rbp, %rsp</code><span class="mojikumi-line-end">ã€</span><code>pop %rbp</code><span class="mojikumi-line-end">ï¼Œ</span>ä½†æ²¡æœ‰ä½¿ç”¨
<code>enter</code> æŒ‡ä»¤<span class="mojikumi-line-end">ï¼Œ</span>ç®€å•æ¥è¯´æ˜¯å†å²ä»¥åŠæ€§èƒ½åŸå› <span class="mojikumi-line-end">ï¼Œ</span>å¯ä»¥å‚è€ƒ <a href="https://stackoverflow.com/questions/5959890/enter-vs-push-ebp-mov-ebp-esp-sub-esp-imm-and-leave-vs-mov-esp-ebp">assembly - "enter" vs
"push ebp; mov ebp, esp; sub esp, imm" and "leave" vs "mov esp, ebp; pop
ebp" - Stack
Overflow</a><span class="mojikumi-line-end">ã€‚</span></p></div></div></aside>
<p>é™¤äº†ä½¿ç”¨ <code>%rbp</code> ä½œä¸º frame pointer<span class="mojikumi-line-end">ï¼Œ</span>ä¸ºéç¡®å®šå¤§å°çš„æ•°ç»„åˆ†é…æ ˆç©ºé—´è¿˜æ¶‰åŠåˆ° <a href="#data-alignment">data alignment</a> çš„é—®é¢˜<span class="mojikumi-line-end">ï¼Œ</span>å¯ä»¥å‚è€ƒ CS:APP Practice Problem 3.49<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="stack-frame-alignment" class="heading"><a href="#stack-frame-alignment" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Stack Frame Alignment" tabindex="-1"></a><span>Stack Frame Alignment</span></h3>
<p>x86-64 ä¸­è¦æ±‚ stack frame ä»¥ 16 byte å¯¹é½<span class="mojikumi-line-end">ã€‚</span>å…·ä½“æ¥è¯´<span class="mojikumi-line-end">ï¼Œ</span>å°±æ˜¯æ‰§è¡Œ <code>call</code> ä¹‹å‰ <code>%rsp</code> çš„å€¼å¿…é¡»æ˜¯ 16 çš„å€æ•°<span class="mojikumi-line-end">ï¼Œ</span>è€Œåœ¨è¿›å…¥ä¸€ä¸ª procedure æ—¶ <code>%rsp</code> çš„å€¼å°±æ¨¡ 16 ä½™ 8<span class="mojikumi-line-end">ã€‚</span></p>
<p>ä¸ºäº†æ»¡è¶³è¿™ä¸€å¯¹é½è¦æ±‚<span class="mojikumi-line-end">ï¼Œ</span>æœ‰æ—¶ä¼šåœ¨ <code>call</code> ä¹‹å‰å…ˆ <code>subq $8, %rsp</code><span class="mojikumi-line-end">ï¼Œ</span><code>call</code> ä¹‹åå† <code>addq $8, %rsp</code><span class="mojikumi-line-end">ã€‚</span></p>
<h2 id="array-allocation-and-access" class="heading"><a href="#array-allocation-and-access" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Array Allocation and Access" tabindex="-1"></a><span>Array Allocation and Access</span></h2>
<p>ç®€å•æ¥è¯´<span class="mojikumi-line-end">ï¼Œ</span><code>Imm(rb, ri, s)</code> çš„ operand æ ¼å¼ä½¿å¾—æ•°ç»„è®¿é—®å˜å¾—å®¹æ˜“<span class="mojikumi-line-end">ã€‚</span></p>
<p>è€Œç¼–è¯‘å™¨ä¼šåšå¾ˆå¤šä¼˜åŒ–<span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚ç”¨æŒ‡é’ˆåŠ æ³•ä»£æ›¿æ¯æ¬¡éƒ½ç®—ä¸€éä¹˜æ³•<span class="mojikumi-line-end">ã€‚</span></p>
<h2 id="heterogeneous-data-structures" class="heading"><a href="#heterogeneous-data-structures" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Heterogeneous Data Structures" tabindex="-1"></a><span>Heterogeneous Data Structures</span></h2>
<h3 id="struct" class="heading"><a href="#struct" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Struct" tabindex="-1"></a><span>Struct</span></h3>
<p>ç»“æ„ä½“ä¹Ÿæ˜¯å†…å­˜ä¸­è¿ç»­çš„ä¸€æ®µ<span class="mojikumi-line-end">ï¼Œ</span>ä¼šåœ¨ç¼–è¯‘æ—¶åœ¨ç»“æ„ä½“åœ°å€çš„åŸºç¡€ä¸ŠåŠ ä¸Šç›¸åº”çš„ offset æ¥è®¿é—®å„ä¸ª field<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="union" class="heading"><a href="#union" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Union" tabindex="-1"></a><span>Union</span></h3>
<p>union çš„å¤§å°æ˜¯æœ€å¤§çš„ field çš„å¤§å°<span class="mojikumi-line-end">ï¼Œ</span>æ¯ä¸ª field çš„ offset éƒ½æ˜¯ 0<span class="mojikumi-line-end">ã€‚</span></p>
<p>åœ¨ä½¿ç”¨ union æ—¶<span class="mojikumi-line-end">ï¼Œ</span>byte ordering å¯èƒ½éå¸¸é‡è¦<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="data-alignment" class="heading"><a href="#data-alignment" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Data Alignment" tabindex="-1"></a><span>Data Alignment</span></h3>
<p>åœ¨ x86-64 ä¸­<span class="mojikumi-line-end">ï¼Œ</span>è¿›è¡Œ data alignment å¯ä»¥æå‡ç¨‹åºæ•ˆç‡<span class="mojikumi-line-end">ã€‚</span>å…·ä½“è¦æ±‚ä¸º<span class="mojikumi-line-end">ï¼Œ</span>ä»»ä½•<span class="mojikumi-line-start">ï¼ˆ</span>ä¸»è¦æ˜¯ç»“æ„ä½“å†…çš„<span class="mojikumi-line-end">ï¼‰</span>primitive type çš„åœ°å€éœ€è¦æ˜¯å…¶é•¿åº¦çš„å€æ•°<span class="mojikumi-line-end">ã€‚</span></p>
<p>ä¸ºäº†æ»¡è¶³ alignment è¦æ±‚<span class="mojikumi-line-end">ï¼Œ</span>å¯èƒ½éœ€è¦<span class="mojikumi-line-end">ï¼š</span></p>
<ol>
<li>åœ¨ç»“æ„ä½“çš„ä¸åŒ field ä¹‹é—´æ·»åŠ  padding</li>
<li>ä¿è¯ç»“æ„ä½“è‡ªèº«çš„åœ°å€æ˜¯å…¶è‡ªèº« alignment çš„å€æ•°</li>
<li>åœ¨ç»“æ„ä½“æœ«å°¾æ·»åŠ  padding<span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚åœ¨æ•°ç»„ä¸­éœ€è¦ä¿è¯ä¸‹ä¸€ä¸ªå…ƒç´ çš„èµ·å§‹åœ°å€ä¸ºå…¶ alignment çš„å€æ•°</li>
</ol>
<p>æ±‡ç¼–ä»£ç ä¸­ä¼šä½¿ç”¨ <code>.align</code> directive æ¥æŒ‡å®š data alignment<span class="mojikumi-line-end">ã€‚</span></p>
<h2 id="thwarting-buffer-overflow-attacks" class="heading"><a href="#thwarting-buffer-overflow-attacks" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Thwarting Buffer Overflow Attacks" tabindex="-1"></a><span>Thwarting Buffer Overflow Attacks</span></h2>
<p>äº†è§£äº† stack çš„æ„é€ <span class="mojikumi-line-end">ï¼Œ</span>å°±èƒ½æ›´åŠ æ˜ç™½æ•°ç»„è¶Šç•Œçš„å±å®³<span class="mojikumi-line-end">ï¼š</span>å¯ä»¥ä¿®æ”¹ stack ä¸ŠåŒ…æ‹¬ caller address åœ¨å†…çš„æ•°æ®<span class="mojikumi-line-end">ï¼Œ</span>å¯¼è‡´ç¨‹åºå‡ºé”™æˆ–è·³è½¬åˆ°é”™è¯¯çš„ä½ç½®<span class="mojikumi-line-end">ï¼Œ</span>è€Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¿™ä¸€æ¼æ´è·³è½¬åˆ°è®¾è®¡å¥½çš„ä½ç½®ä»¥æ‰§è¡Œæ”»å‡»ä»£ç <span class="mojikumi-line-end">ã€‚</span></p>
<p>ä¸‹é¢æ˜¯ä¸€äº›æ— éœ€ä¿®æ”¹ç¨‹åºä»£ç å°±èƒ½åšåˆ°çš„é™ä½ buffer overflow å±å®³çš„æ–¹æ³•<span class="mojikumi-line-end">ï¼Œ</span>å½“ç„¶<span class="mojikumi-line-end">ï¼Œ</span>è¿™äº›æ–¹æ³•ä¹Ÿä¸æ˜¯ä¸‡èƒ½æˆ–æ€»æ˜¯æœ‰æ•ˆçš„<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="stack-randomization" class="heading"><a href="#stack-randomization" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Stack Randomization" tabindex="-1"></a><span>Stack Randomization</span></h3>
<p>å¯ä»¥ä¿®æ”¹ stack çš„èµ·å§‹åœ°å€<span class="mojikumi-line-end">ï¼Œ</span>ä»¥é™ä½æŒ‡ä»¤åœ°å€çš„å¯é¢„æµ‹æ€§<span class="mojikumi-line-end">ï¼Œ</span>å¢å¤§æ”»å‡»éš¾åº¦<span class="mojikumi-line-end">ã€‚</span>è¿™åœ¨ Linux ä¸­å·²ç»æ˜¯æ ‡å‡†åšæ³•äº†<span class="mojikumi-line-end">ï¼Œ</span>æ˜¯ address-space layout randomization (ASLR) çš„ä¸€éƒ¨åˆ†<span class="mojikumi-line-end">ã€‚</span></p>
<p>æ”»å‡»è€…å¯ä»¥é€šè¿‡ <span class="mojikumi">â€œ</span>nop sled<span class="mojikumi">â€</span><span class="mojikumi-line-end">ï¼Œ</span>å³é€šè¿‡å¤§é‡ <code>nop</code> æŒ‡ä»¤æ¥å¢é•¿æ”»å‡»ä»£ç çš„é•¿åº¦<span class="mojikumi-line-end">ï¼Œ</span>æ¥é™ä½çŒœæµ‹æŒ‡ä»¤åœ°å€çš„éš¾åº¦<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="stack-corruption-detection" class="heading"><a href="#stack-corruption-detection" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Stack Corruption Detection" tabindex="-1"></a><span>Stack Corruption Detection</span></h3>
<p>gcc ä½¿ç”¨ <i>stack protector</i> æ¥æ£€æµ‹ stack corruption<span class="mojikumi-line-end">ï¼Œ</span>ä»¥é¿å… corrupted stack é€ æˆçš„å±å®³<span class="mojikumi-line-end">ã€‚</span></p>
<p>ç®€å•æ¥è¯´<span class="mojikumi-line-end">ï¼Œ</span>ä½¿ç”¨ stack protector æ—¶<span class="mojikumi-line-end">ï¼Œ</span>ä¼šåœ¨ stack frame ä¸­æ’å…¥ä¸€ä¸ªè¿è¡Œæ—¶éšæœºç”Ÿæˆçš„ <i>canary value</i> (<i>guard value</i>) <span class="mojikumi-line-end">ï¼Œ</span>å¹¶åœ¨ <code>ret</code> å‰æ£€æŸ¥è¿™ä¸ªå€¼æ˜¯å¦è¢«ä¿®æ”¹<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="limiting-executable-code-regions" class="heading"><a href="#limiting-executable-code-regions" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Limiting Executable Code Regions" tabindex="-1"></a><span>Limiting Executable Code Regions</span></h3>
<p>å¯ä»¥é™åˆ¶èƒ½å¤Ÿè¢«æ‰§è¡Œçš„ memory region<span class="mojikumi-line-end">ï¼Œ</span>ä»¥é¿å…æ”»å‡»è€…æ‰§è¡Œä½äº stack ä¸­çš„<span class="mojikumi-line-end">ã€</span>ç”±æ”»å‡»è€…æ³¨å…¥çš„æŒ‡ä»¤<span class="mojikumi-line-end">ã€‚</span></p>
<p>ä½†æ˜¯<span class="mojikumi-line-end">ï¼Œ</span>æœ‰çš„è¯­è¨€<span class="mojikumi-line-start">ï¼ˆ</span>ä¾‹å¦‚ Java<span class="mojikumi-line-end">ï¼‰</span>å¯èƒ½éœ€è¦èƒ½å¤Ÿæ‰§è¡ŒåŠ¨æ€ç”Ÿæˆçš„æŒ‡ä»¤<span class="mojikumi-line-end">ï¼Œ</span>è¿™æ ·çš„è¯å°±ä¸èƒ½ç¦æ­¢æ‰§è¡Œ stack ä¸­çš„æŒ‡ä»¤<span class="mojikumi-line-end">ã€‚</span></p>
<h2 id="floating-point-code" class="heading"><a href="#floating-point-code" class="heading-anchor" aria-label="ç« èŠ‚ï¼š Floating-Point Code" tabindex="-1"></a><span>Floating-Point Code</span></h2>
<p>è¿™éƒ¨åˆ†å†…å®¹åŸºäº AVX2 æŒ‡ä»¤é›†<span class="mojikumi-line-end">ï¼Œ</span>å¯ä»¥æŒ‡å®š <code>-mavx2</code> é€‰é¡¹æ¥è®©ç¼–è¯‘å™¨ä½¿ç”¨ AVX2 æŒ‡ä»¤<span class="mojikumi-line-end">ã€‚</span></p>
<p>å¦‚æœä¸æ”¯æŒ AVX<span class="mojikumi-line-end">ï¼Œ</span>åˆ™å¯ä»¥ä½¿ç”¨ SSE æŒ‡ä»¤é›†<span class="mojikumi-line-end">ï¼Œ</span>å¤§ä½“ä¸Šæ˜¯ç±»ä¼¼çš„<span class="mojikumi-line-end">ã€‚</span>ç®€å•æ¥è¯´<span class="mojikumi-line-end">ï¼Œ</span>ä¸»è¦çš„åŒºåˆ«å°±æ˜¯ AVX æŒ‡ä»¤çš„åç§°ä¼šæœ‰ä¸€ä¸ª <code>v</code> çš„å‰ç¼€<span class="mojikumi-line-end">ï¼Œ</span>è€Œå¾ˆå¤š AVX ä¸­ä¸‰ä¸ª operand çš„æŒ‡ä»¤åœ¨ SSE ä¸­æ˜¯ä¸¤ä¸ª operand<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="ymm-å¯„å­˜å™¨" class="heading"><a href="#ymm-å¯„å­˜å™¨" class="heading-anchor" aria-label="ç« èŠ‚ï¼š YMM å¯„å­˜å™¨" tabindex="-1"></a><span>YMM å¯„å­˜å™¨</span></h3>
<p>æµ®ç‚¹æ•°å­˜æ”¾åœ¨ 16 ä¸ª YMM registers ä¸­<span class="mojikumi-line-end">ï¼Œ</span>æ¯ä¸ªå¯„å­˜å™¨æœ‰ 256 bits<span class="mojikumi-line-end">ï¼Œ</span>å«åš <code>%ymm0-15</code><span class="mojikumi-line-end">ï¼Œ</span>è€Œä½ä½ 128 bits å«åš <code>%xmm0-15</code><span class="mojikumi-line-end">ã€‚</span></p>
<p>è¿™äº›å¯„å­˜å™¨å¯ä»¥å­˜å¤šä¸ªæµ®ç‚¹æ•° (packed data) å¹¶å¯¹å®ƒä»¬åŒæ—¶è¿›è¡Œæ“ä½œä»¥åŠ é€Ÿè®¡ç®—<span class="mojikumi-line-end">ï¼›</span>è€Œå¦‚æœåªå¯¹å•ä¸ªæµ®ç‚¹æ•° (scalar) è¿›è¡Œæ“ä½œ<span class="mojikumi-line-end">ï¼Œ</span>å°±åªæ¶‰åŠåˆ° <code>%xmm0-15</code> çš„ä½ä½<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="æµ®ç‚¹æ•°çš„ç§»åŠ¨æŒ‡ä»¤" class="heading"><a href="#æµ®ç‚¹æ•°çš„ç§»åŠ¨æŒ‡ä»¤" class="heading-anchor" aria-label="ç« èŠ‚ï¼š æµ®ç‚¹æ•°çš„ç§»åŠ¨æŒ‡ä»¤" tabindex="-1"></a><span>æµ®ç‚¹æ•°çš„ç§»åŠ¨æŒ‡ä»¤</span></h3>
<p>ä¸‹é¢çš„æŒ‡ä»¤éƒ½æ²¡æœ‰åˆ—å…¨å¯èƒ½çš„ operand ç±»å‹<span class="mojikumi-line-end">ï¼Œ</span>ä»…åˆ—å‡º CS:APP é‡Œè®²åˆ°çš„å¸¸ç”¨çš„<span class="mojikumi-line-end">ã€‚</span></p>
<ul>
<li><code>vmovss m32, xmm</code></li>
<li><code>vmovss xmm, m32</code></li>
<li><code>vmovsd m64, xmm</code></li>
<li><code>vmovsd xmm, m64</code></li>
<li><code>vmovaps xmm, xmm</code></li>
<li><code>vmovapd xmm, xmm</code></li>
</ul>
<p>å…¶ä¸­ <code>v</code> æ˜¯ AVX æŒ‡ä»¤çš„å‰ç¼€<span class="mojikumi-line-end">ï¼Œ</span><code>ss</code> è¡¨ç¤º scalar single-precision<span class="mojikumi-line-end">ï¼Œ</span><code>sd</code> è¡¨ç¤º scalar double-precision<span class="mojikumi-line-end">ï¼Œ</span><code>a</code> è¡¨ç¤º aligned<span class="mojikumi-line-end">ï¼Œ</span><code>ps</code> è¡¨ç¤º packed single-precision<span class="mojikumi-line-end">ï¼Œ</span><code>pd</code> è¡¨ç¤º packed double-precision<span class="mojikumi-line-end">ã€‚</span>ä¹Ÿå°±æ˜¯è¯´<span class="mojikumi-line-end">ï¼Œ</span><code>s</code> ç»“å°¾çš„ç”¨äº float<span class="mojikumi-line-end">ï¼Œ</span><code>d</code> ç»“å°¾çš„ç”¨äº double<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="æµ®ç‚¹æ•°ç±»å‹è½¬æ¢" class="heading"><a href="#æµ®ç‚¹æ•°ç±»å‹è½¬æ¢" class="heading-anchor" aria-label="ç« èŠ‚ï¼š æµ®ç‚¹æ•°ç±»å‹è½¬æ¢" tabindex="-1"></a><span>æµ®ç‚¹æ•°ç±»å‹è½¬æ¢</span></h3>
<h4 id="æµ®ç‚¹æ•°è½¬ä¸ºæ•´æ•°" class="heading"><a href="#æµ®ç‚¹æ•°è½¬ä¸ºæ•´æ•°" class="heading-anchor" aria-label="ç« èŠ‚ï¼š æµ®ç‚¹æ•°è½¬ä¸ºæ•´æ•°" tabindex="-1"></a><span>æµ®ç‚¹æ•°è½¬ä¸ºæ•´æ•°</span></h4>
<ul>
<li><code>vcvttss2si xmm/m32, r32</code></li>
<li><code>vcvttsd2si xmm/m64, r32</code></li>
<li><code>vcvttss2siq<wbr> <wbr>xmm<wbr>/<wbr>m32<wbr>, <wbr>r64</code></li>
<li><code>vcvttsd2siq<wbr> <wbr>xmm<wbr>/<wbr>m64<wbr>, <wbr>r64</code></li>
</ul>
<p>å…¶ä¸­ <code>cvttss2si</code> çš„æ„æ€æ˜¯: <code>cvt</code> -&gt; convert, <code>t</code> -&gt; (with) truncation, <code>ss</code> -&gt; scalar single-precision, <code>2</code> -&gt; to, <code>si</code> -&gt; signed integer<span class="mojikumi-line-end">ã€‚</span></p>
<p><code>ss</code> ç”¨äº float<span class="mojikumi-line-end">ï¼Œ</span><code>sd</code> ç”¨äº double<span class="mojikumi-line-end">ï¼›</span>ç»“å°¾ä¸º <code>q</code> çš„ç”¨æ¥è½¬æˆ 64 ä½æ•´æ•°<span class="mojikumi-line-end">ã€‚</span></p>
<h4 id="æ•´æ•°è½¬ä¸ºæµ®ç‚¹æ•°" class="heading"><a href="#æ•´æ•°è½¬ä¸ºæµ®ç‚¹æ•°" class="heading-anchor" aria-label="ç« èŠ‚ï¼š æ•´æ•°è½¬ä¸ºæµ®ç‚¹æ•°" tabindex="-1"></a><span>æ•´æ•°è½¬ä¸ºæµ®ç‚¹æ•°</span></h4>
<ul>
<li><code>vcvtsi2ss r/m32, xmm, xmm</code></li>
<li><code>vcvtsi2sd r/m32, xmm, xmm</code></li>
<li><code>vcvtsi2ssq r/m64, xmm, xmm</code></li>
<li><code>vcvtsi2sdq r/m64, xmm, xmm</code></li>
</ul>
<p>è¿™é‡Œ <code>cvt</code> åå°‘äº†ä¸€ä¸ª <code>t</code> æ˜¯å› ä¸ºæ•´æ•°è½¬ä¸ºæµ®ç‚¹æ•°ä¸ä¼š truncate<span class="mojikumi-line-end">ã€‚</span></p>
<p>æ•ˆæœæ˜¯æŠŠç¬¬ä¸€ä¸ª operand è½¬æ¢åæ”¾åœ¨ç¬¬ä¸‰ä¸ª operand å¤„<span class="mojikumi-line-end">ï¼Œ</span>è€Œç¬¬äºŒä¸ª operand ä¸€èˆ¬ä¸ç”¨ç®¡<span class="mojikumi-line-end">ï¼Œ</span>è®¾ä¸ºå’Œç¬¬ä¸‰ä¸ª operand ä¸€æ ·å³å¯<span class="mojikumi">ã€‚</span><wbr><span class="mojikumi-line-start">ï¼ˆ</span>è½¬æ¢ç»“æœä¼šæ”¾åœ¨ destination çš„ä½ä½<span class="mojikumi-line-end">ï¼Œ</span>è€Œç¬¬äºŒä¸ª operand ç”¨æ¥è®¾ç½® destination çš„é«˜ä½<span class="mojikumi">ã€‚</span><span class="mojikumi-line-end">ï¼‰</span></p>
<h4 id="æµ®ç‚¹æ•°ç²¾åº¦è½¬æ¢" class="heading"><a href="#æµ®ç‚¹æ•°ç²¾åº¦è½¬æ¢" class="heading-anchor" aria-label="ç« èŠ‚ï¼š æµ®ç‚¹æ•°ç²¾åº¦è½¬æ¢" tabindex="-1"></a><span>æµ®ç‚¹æ•°ç²¾åº¦è½¬æ¢</span></h4>
<ul>
<li><code>vcvtss2sd xmm, xmm, xmm</code></li>
<li><code>vcvtsd2ss xmm, xmm, xmm</code></li>
</ul>
<p>operand çš„ä½œç”¨å’Œä¸Šé¢æ•´æ•°è½¬ä¸ºæµ®ç‚¹æ•°çš„æŒ‡ä»¤ä¸€æ ·<span class="mojikumi-line-end">ã€‚</span></p>
<a id="gcc-ä½¿ç”¨çš„æµ®ç‚¹æ•°ç²¾åº¦è½¬æ¢æŒ‡ä»¤" name="gcc-ä½¿ç”¨çš„æµ®ç‚¹æ•°ç²¾åº¦è½¬æ¢æŒ‡ä»¤" aria-hidden="true"></a>
<aside role="note" data-v-1ac72824=""><div class="shadow-md rd-1 b-l-6 my-6 bg-blue-1 dark:bg-blue-9 b-blue" data-v-1ac72824=""><div class="p-3 flex justify-between items-center" data-v-1ac72824=""><h5 class="font-bold flex items-center gap-1" data-v-1ac72824=""><span class="text-5 i-mdi-pencil text-blue" data-v-1ac72824=""></span><span class="sr-only" data-v-1ac72824="">Note</span><span data-v-1ac72824="">gcc ä½¿ç”¨çš„æµ®ç‚¹æ•°ç²¾åº¦è½¬æ¢æŒ‡ä»¤</span></h5><!--v-if--></div><div class="bg-card dark:bg-bghover overflow-auto px-6 rd-br-1" data-v-1ac72824=""><p>åœ¨æŸäº›ç‰ˆæœ¬çš„ gcc ä¸­<span class="mojikumi-line-end">ï¼Œ</span>æˆ–é’ˆå¯¹æŸäº›å¤„ç†å™¨æ¶æ„è¿›è¡Œä¼˜åŒ–æ—¶<span class="mojikumi-line-end">ï¼Œ</span>gcc
å¯èƒ½ä¼šä½¿ç”¨å¦å¤–çš„æŒ‡ä»¤æ¥è¿›è¡Œæµ®ç‚¹æ•°ç²¾åº¦è½¬æ¢<span class="mojikumi-line-end">ã€‚</span>è¯¦è§
<a href="/post/2022/10/gcc-use_vector_fp_converts">å¦ä¸€ç¯‡åšå®¢</a><span class="mojikumi-line-end">ã€‚</span></p></div></div></aside>
<h3 id="å‡½æ•°è°ƒç”¨ä¸­çš„æµ®ç‚¹æ•°" class="heading"><a href="#å‡½æ•°è°ƒç”¨ä¸­çš„æµ®ç‚¹æ•°" class="heading-anchor" aria-label="ç« èŠ‚ï¼š å‡½æ•°è°ƒç”¨ä¸­çš„æµ®ç‚¹æ•°" tabindex="-1"></a><span>å‡½æ•°è°ƒç”¨ä¸­çš„æµ®ç‚¹æ•°</span></h3>
<ul>
<li>å‰ 7 ä¸ªæµ®ç‚¹å‚æ•°å¯ä»¥å­˜åœ¨ <code>%xmm0-7</code> ä¸­<span class="mojikumi-line-end">ï¼Œ</span>å…¶ä½™å‚æ•°å­˜åœ¨ stack é‡Œ<span class="mojikumi-line-end">ã€‚</span></li>
<li>æµ®ç‚¹å‡½æ•°è¿”å›å€¼å­˜åœ¨ <code>%xmm0</code> ä¸­<span class="mojikumi-line-end">ã€‚</span></li>
<li>æ²¡æœ‰ callee-saved å¯„å­˜å™¨<span class="mojikumi-line-start">ï¼ˆ</span>æ‰€æœ‰å¯„å­˜å™¨éƒ½æ˜¯ caller-saved<span class="mojikumi">ï¼‰</span><span class="mojikumi-line-end">ã€‚</span></li>
</ul>
<p>çœ‹å‚æ•°æ˜¯ç¬¬å‡ ä¸ª<span class="mojikumi-line-end">ã€</span>æ”¾åœ¨å“ªä¸ªå¯„å­˜å™¨æ—¶<span class="mojikumi-line-end">ï¼Œ</span>æµ®ç‚¹å‚æ•°å’Œæ•´å‹å‚æ•°æ˜¯åˆ†å¼€ç®—çš„<span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚ <code>double f1(int x, double y, long z)</code> å’Œ <code>double f2(double y, int x, long z)</code> çš„å‚æ•°å¯„å­˜å™¨åˆ†é…æ˜¯ç›¸åŒçš„<span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="æµ®ç‚¹æ•°ç®—æœ¯è¿ç®—" class="heading"><a href="#æµ®ç‚¹æ•°ç®—æœ¯è¿ç®—" class="heading-anchor" aria-label="ç« èŠ‚ï¼š æµ®ç‚¹æ•°ç®—æœ¯è¿ç®—" tabindex="-1"></a><span>æµ®ç‚¹æ•°ç®—æœ¯è¿ç®—</span></h3>
<p>ä¸‹é¢çš„æŒ‡ä»¤æŠŠ <code>ss</code> æ¢æˆ <code>sd</code><span class="mojikumi-line-end">ã€</span><code>m32</code> æ¢æˆ <code>m64</code> å³ä¸º double-precision çš„ç‰ˆæœ¬<span class="mojikumi-line-end">ã€‚</span></p>
<h4 id="æµ®ç‚¹æ•°äºŒå…ƒè¿ç®—" class="heading"><a href="#æµ®ç‚¹æ•°äºŒå…ƒè¿ç®—" class="heading-anchor" aria-label="ç« èŠ‚ï¼š æµ®ç‚¹æ•°äºŒå…ƒè¿ç®—" tabindex="-1"></a><span>æµ®ç‚¹æ•°äºŒå…ƒè¿ç®—</span></h4>
<p>è®°ä¸‰ä¸ª operand åˆ†åˆ«ä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>S</mi><mn>2</mn></msub><mo separator="true">,</mo><mi>D</mi></mrow><annotation encoding="application/x-tex">S_1, S_2, D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span></span></span></span></span><span class="mojikumi-line-end">ï¼Œ</span>åˆ™æ•ˆæœä¸ºè®¡ç®— <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">S_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> ä¸ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">S_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span> çš„è¿ç®—ç»“æœ<span class="mojikumi-line-end">ï¼Œ</span>å­˜åœ¨ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">D</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span></span></span></span></span> ä¸­<span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚ <code>vsubss S_1 S_2 D</code> æ˜¯ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mo>â†</mo><msub><mi>S</mi><mn>2</mn></msub><mo>âˆ’</mo><msub><mi>S</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">D \gets S_2 - S_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span class="mojikumi-line-end">ã€‚</span></p>
<ul>
<li><code>vaddss xmm/m32, xmm, xmm</code></li>
<li><code>vsubss xmm/m32, xmm, xmm</code></li>
<li><code>vmulss xmm/m32, xmm, xmm</code></li>
<li><code>vdivss xmm/m32, xmm, xmm</code></li>
<li><code>vmaxss xmm/m32, xmm, xmm</code></li>
<li><code>vminss xmm/m32, xmm, xmm</code></li>
</ul>
<h4 id="æµ®ç‚¹æ•°ä¸€å…ƒè¿ç®—" class="heading"><a href="#æµ®ç‚¹æ•°ä¸€å…ƒè¿ç®—" class="heading-anchor" aria-label="ç« èŠ‚ï¼š æµ®ç‚¹æ•°ä¸€å…ƒè¿ç®—" tabindex="-1"></a><span>æµ®ç‚¹æ•°ä¸€å…ƒè¿ç®—</span></h4>
<p><code>sqrtss xmm/m32, xmm</code>: å°† source å¼€æ–¹å­˜å…¥ destination</p>
<p>è¿™é‡Œ CS:APP ä¸­åˆ—å‡ºçš„æ˜¯ SSE æŒ‡ä»¤ <code>sqrtss</code> è€Œé AVX æŒ‡ä»¤ <code>vsqrtss</code><span class="mojikumi-line-end">ï¼Œ</span>æˆ‘è‡ªå·±ç¼–è¯‘å‡ºæ¥ä¹Ÿæ˜¯<span class="mojikumi-line-end">ã€‚</span>å¯èƒ½å¯ä»¥å‚è€ƒ <a href="https://stackoverflow.com/questions/8924729/using-avx-intrinsics-instead-of-sse-does-not-improve-speed-why">c++ - Using AVX intrinsics instead of SSE does not improve speed -- why? - Stack Overflow</a><span class="mojikumi-line-end">ã€‚</span></p>
<h3 id="æµ®ç‚¹æ•°å¸¸é‡" class="heading"><a href="#æµ®ç‚¹æ•°å¸¸é‡" class="heading-anchor" aria-label="ç« èŠ‚ï¼š æµ®ç‚¹æ•°å¸¸é‡" tabindex="-1"></a><span>æµ®ç‚¹æ•°å¸¸é‡</span></h3>
<p>æµ®ç‚¹æ•°ç›¸å…³çš„æŒ‡ä»¤ä¸æ¥å— immediate value ä½œä¸º operand<span class="mojikumi-line-end">ï¼Œ</span>æ‰€ä»¥ä½¿ç”¨å¸¸é‡æ—¶éœ€è¦å…ˆå­˜ä¸‹æ¥<span class="mojikumi-line-end">ï¼Œ</span>ä¾‹å¦‚<span class="mojikumi-line-end">ï¼š</span></p>
<section class="code-block relative my-6 shadow" itemprop="hasPart" itemscope="" itemtype="https://schema.org/SoftwareSourceCode" data-v-fc4b3c9e=""><div class="media-screen:important-flex items-center px-4 h-6 rd-t-1 bg-area dark:bg-#2A313A" style="display:none;" data-v-fc4b3c9e=""><h4 class="text-3 text-footer" itemprop="programmingLanguage" aria-label="c ä»£ç å—" data-v-fc4b3c9e="">c</h4><ile-root id="ile-15"><button title="å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copy-button b-footer text-footer" data-v-9288569d=""><span class="i-mdi-content-copy" data-v-9288569d=""></span><span class="sr-only" role="status" data-v-9288569d=""></span></button></ile-root><script></script><script type="module" async="">var s=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var r=(i,a,o)=>new Promise((c,n)=>{var f=t=>{try{_(o.next(t))}catch(e){n(e)}},l=t=>{try{_(o.throw(t))}catch(e){n(e)}},_=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);_((o=o.apply(i,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{b as p}from"/assets/iles.c6dd5c6f.js";import"/assets/vendor-vue.0eea1c14.js";var E=s(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.c6dd5c6f.js").then(i=>i.v),["assets/iles.c6dd5c6f.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/CopyButton.26127d20.js"),["assets/CopyButton.26127d20.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default});p(u,v,"ile-15",{},{})});export default E();
</script></div><div class="light:hidden" itemprop="text" data-v-fc4b3c9e=""><pre class="shiki dark" style="background-color: #011627" tabindex="0"><code><span><span style="color: #C792EA">double</span><span style="color: #D6DEEB"> </span><span style="color: #82AAFF">foo</span><span style="color: #D6DEEB">() { </span><span style="color: #C792EA">return</span><span style="color: #D6DEEB"> </span><span style="color: #F78C6C">1.8</span><span style="color: #D6DEEB">; }</span></span></code></pre></div><div class="light:important-block" style="display:none;" data-v-fc4b3c9e=""><pre class="shiki light" style="background-color: #FBFBFB" tabindex="0"><code><span><span style="color: #994CC3">double</span><span style="color: #403F53"> </span><span style="color: #4876D6">foo</span><span style="color: #403F53">() { </span><span style="color: #994CC3">return</span><span style="color: #403F53"> </span><span style="color: #AA0982">1.8</span><span style="color: #403F53">; }</span></span></code></pre></div></section>
<section class="code-block relative my-6 shadow" itemprop="hasPart" itemscope="" itemtype="https://schema.org/SoftwareSourceCode" data-v-fc4b3c9e=""><div class="media-screen:important-flex items-center px-4 h-6 rd-t-1 bg-area dark:bg-#2A313A" style="display:none;" data-v-fc4b3c9e=""><h4 class="text-3 text-footer" itemprop="programmingLanguage" aria-label="asm ä»£ç å—" data-v-fc4b3c9e="">asm</h4><ile-root id="ile-16"><button title="å¤åˆ¶åˆ°å‰ªè´´æ¿" class="copy-button b-footer text-footer" data-v-9288569d=""><span class="i-mdi-content-copy" data-v-9288569d=""></span><span class="sr-only" role="status" data-v-9288569d=""></span></button></ile-root><script></script><script type="module" async="">var s=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports);var r=(i,a,o)=>new Promise((c,n)=>{var f=t=>{try{_(o.next(t))}catch(e){n(e)}},l=t=>{try{_(o.throw(t))}catch(e){n(e)}},_=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);_((o=o.apply(i,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{b as p}from"/assets/iles.c6dd5c6f.js";import"/assets/vendor-vue.0eea1c14.js";var E=s(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.c6dd5c6f.js").then(i=>i.v),["assets/iles.c6dd5c6f.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/CopyButton.26127d20.js"),["assets/CopyButton.26127d20.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default});p(u,v,"ile-16",{},{})});export default E();
</script></div><div class="light:hidden" itemprop="text" data-v-fc4b3c9e=""><pre class="shiki dark" style="background-color: #011627" tabindex="0"><code><span><span style="color: #82AAFF">foo:</span></span>
<span><span style="color: #D6DEEB">	</span><span style="color: #7FDBCA">vmovsd</span><span style="color: #D6DEEB">	.LC0(%</span><span style="color: #82AAFF">rip</span><span style="color: #D6DEEB">), %</span><span style="color: #82AAFF">xmm0</span></span>
<span><span style="color: #D6DEEB">	</span><span style="color: #7FDBCA">ret</span></span>
<span><span style="color: #C792EA">.</span><span style="color: #82AAFF">LC0:</span></span>
<span><span style="color: #D6DEEB">	.long	-</span><span style="color: #F78C6C">858993459</span></span>
<span><span style="color: #D6DEEB">	.long	</span><span style="color: #F78C6C">1073532108</span></span></code></pre></div><div class="light:important-block" style="display:none;" data-v-fc4b3c9e=""><pre class="shiki light" style="background-color: #FBFBFB" tabindex="0"><code><span><span style="color: #4876D6">foo:</span></span>
<span><span style="color: #403F53">	</span><span style="color: #0C969B">vmovsd</span><span style="color: #403F53">	.LC0(%</span><span style="color: #4876D6">rip</span><span style="color: #403F53">), %</span><span style="color: #4876D6">xmm0</span></span>
<span><span style="color: #403F53">	</span><span style="color: #0C969B">ret</span></span>
<span><span style="color: #994CC3">.</span><span style="color: #4876D6">LC0:</span></span>
<span><span style="color: #403F53">	.long	-</span><span style="color: #AA0982">858993459</span></span>
<span><span style="color: #403F53">	.long	</span><span style="color: #AA0982">1073532108</span></span></code></pre></div></section>
<h3 id="æµ®ç‚¹æ•°ä½è¿ç®—" class="heading"><a href="#æµ®ç‚¹æ•°ä½è¿ç®—" class="heading-anchor" aria-label="ç« èŠ‚ï¼š æµ®ç‚¹æ•°ä½è¿ç®—" tabindex="-1"></a><span>æµ®ç‚¹æ•°ä½è¿ç®—</span></h3>
<p>ä½è¿ç®—éƒ½æ˜¯åœ¨æ•´ä¸ªå¯„å­˜å™¨ä¸Šå¯¹ packed data è¿›è¡Œçš„<span class="mojikumi-line-end">ã€‚</span></p>
<ul>
<li><code>vxorps xmm/m128, xmm, xmm</code></li>
<li><code>vxorpd xmm/m128, xmm, xmm</code></li>
<li><code>vandps xmm/m128, xmm, xmm</code></li>
<li><code>vandpd xmm/m128, xmm, xmm</code></li>
</ul>
<p>operands æ ¼å¼å’Œä¸Šé¢ä¸€æ ·<span class="mojikumi-line-end">ã€‚</span></p>
<p>ä¸€äº›æµ®ç‚¹æ•°ä½è¿ç®—çš„å®é™…è¿ç”¨<span class="mojikumi-line-end">ï¼š</span></p>
<ul>
<li>ç”¨ and è¿ç®—å°† sign bit ç½®é›¶<span class="mojikumi-line-end">ï¼Œ</span>ä»¥å–ç»å¯¹å€¼</li>
<li>ç”¨ xor è¿ç®—å°† sign bit å–å<span class="mojikumi-line-end">ï¼Œ</span>ä»¥å–ç›¸åæ•°</li>
<li>å°† xor çš„ä¸¤ä¸ª source è®¾ä¸ºåŒä¸€ä¸ªå¯„å­˜å™¨ä»¥å¾—åˆ° 0</li>
</ul>
<a id="packed-singledouble-precision-åœ¨ç§»åŠ¨å’Œä½è¿ç®—ä¸Šçš„åŒºåˆ«ï¼Ÿ" name="packed-singledouble-precision-åœ¨ç§»åŠ¨å’Œä½è¿ç®—ä¸Šçš„åŒºåˆ«ï¼Ÿ" aria-hidden="true"></a>
<aside role="note" data-v-1ac72824=""><div class="shadow-md rd-1 b-l-6 my-6 bg-purple-2 dark:bg-purple-9 b-purple-5" data-v-1ac72824=""><div class="p-3 flex justify-between items-center" data-v-1ac72824=""><h4 class="font-bold flex items-center gap-1" data-v-1ac72824=""><span class="text-5 i-mdi-help-circle-outline text-purple" data-v-1ac72824=""></span><span class="sr-only" data-v-1ac72824="">Question</span><span data-v-1ac72824="">packed single/double precision åœ¨ç§»åŠ¨å’Œä½è¿ç®—ä¸Šçš„åŒºåˆ«ï¼Ÿ</span></h4><!--v-if--></div><div class="bg-card dark:bg-bghover overflow-auto px-6 rd-br-1" data-v-1ac72824=""><p><code>vmovaps</code> å’Œ <code>vmovapd</code><span class="mojikumi-line-end">ã€</span><code>vxorps</code> å’Œ <code>vxorpd</code><span class="mojikumi-line-end">ã€</span><code>vandps</code> å’Œ <code>vandpd</code>
çœ‹èµ·æ¥æ•ˆæœæ˜¯ä¸€æ ·çš„<span class="mojikumi-line-end">ï¼Œ</span>ä¸ºä»€ä¹ˆè¦ç»™ single/double precision åˆ†åˆ«ä¸€æ¡æŒ‡ä»¤å‘¢ ğŸ¤”</p></div></div></aside>
<h3 id="æµ®ç‚¹æ•°æ¯”è¾ƒ" class="heading"><a href="#æµ®ç‚¹æ•°æ¯”è¾ƒ" class="heading-anchor" aria-label="ç« èŠ‚ï¼š æµ®ç‚¹æ•°æ¯”è¾ƒ" tabindex="-1"></a><span>æµ®ç‚¹æ•°æ¯”è¾ƒ</span></h3>
<ul>
<li><code>vucomiss xmm/m32, xmm</code></li>
<li><code>vucomisd xmm/m64, xmm</code></li>
</ul>
<p>æ•ˆæœä¸º<span class="mojikumi-line-end">ï¼Œ</span>è®¡ç®—ç¬¬äºŒä¸ª operand å‡å»ç¬¬ä¸€ä¸ª operand å¹¶è®¾ç½® status flags<span class="mojikumi-line-end">ã€‚</span></p>
<p>æµ®ç‚¹æ•°çš„æ¯”è¾ƒæ˜¯ <span class="mojikumi">â€œ</span>unordered<span class="mojikumi">â€</span> çš„<span class="mojikumi-line-end">ï¼Œ</span>å³è‹¥æŸä¸ª operand æ˜¯ NaN<span class="mojikumi-line-end">ï¼Œ</span>åˆ™æ¯”è¾ƒç»“æœä¸º unordered<span class="mojikumi-line-end">ã€‚</span></p>
<p>ä¸åŒçš„æ¯”è¾ƒç»“æœå¯¹åº”çš„ status flags ä»¥åŠ condition code ä¸º<span class="mojikumi-line-end">ï¼š</span></p>
<div class="overflow-auto my-6"><table>
<thead>
<tr>
<th align="center">æ¯”è¾ƒç»“æœ</th>
<th align="center">CF</th>
<th align="center">ZF</th>
<th align="center">PF</th>
<th align="center">condition code</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">unordered</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center">1</td>
<td align="center"><code>p</code></td>
</tr>
<tr>
<td align="center"><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mn>2</mn></msub><mo>&lt;</mo><msub><mi>S</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">S_2 &lt; S_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center"><code>b</code></td>
</tr>
<tr>
<td align="center"><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mn>2</mn></msub><mo>=</mo><msub><mi>S</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">S_2 = S_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></td>
<td align="center">0</td>
<td align="center">1</td>
<td align="center">0</td>
<td align="center"><code>e</code></td>
</tr>
<tr>
<td align="center"><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mn>2</mn></msub><mo>&gt;</mo><msub><mi>S</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">S_2 &gt; S_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center">0</td>
<td align="center"><code>a</code></td>
</tr>
</tbody>
</table></div>
<p>å…¶ä¸­ PF åœ¨æµ®ç‚¹æ•°æ¯”è¾ƒä¸­ç”¨æ¥è¡¨ç¤º unordered<span class="mojikumi-line-end">ï¼Œ</span>åœ¨æ•´æ•°è®¡ç®—ä¸­ä¹Ÿä¼šè¢«è®¾ç½®ä½†å‡ ä¹æ²¡ç”¨<span class="mojikumi-line-end">ã€‚</span></p></section><div class="article-style my-9"><hr></div><footer><div class="my-6 bg-area shadow b-l-6 b-gray-4 dark:b-gray-11 p-6" itemprop="copyrightNotice"><ul class="flex flex-col gap-1"><li class="flex gap-1"><span class="shrink-0">æ–‡ç« ä½œè€…:</span><a href="https://github.com/ouuan" rel="author">ouuan</a></li><li class="flex gap-1"><span class="shrink-0">åŸæ–‡é“¾æ¥:</span><a href="https://ouuan.moe/post/2022/09/csapp-3" rel="canonical" class="break-all">https://ouuan.moe/post/2022/09/csapp-3</a></li><li class="flex gap-1"><span class="shrink-0">è®¸å¯åè®®:</span><span> æœ¬æ–‡é‡‡ç”¨ <span class="article-style"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.zh" class="font-sans" itemprop="license">CC BY-SA 4.0</a></span> è®¸å¯åè®®è¿›è¡Œæˆæƒï¼Œæœªæ»¡è¶³ <span class="underline decoration-dotted" title="ç®€è€Œè¨€ä¹‹ï¼Œè½¬è½½æ—¶å¿…é¡»æ ‡æ˜å‡ºå¤„ï¼ˆæœ¬æ–‡çš„é“¾æ¥ï¼‰ï¼Œæ ‡æ˜æ˜¯è½¬è½½è€ŒéåŸåˆ›ï¼Œæ ‡æ˜ä½œäº†å“ªäº›ä¿®æ”¹ï¼Œå¹¶ä½¿ç”¨ç›¸åŒçš„è®¸å¯åè®®ï¼Œä½†æ— éœ€ç§ä¿¡å¾æ±‚è®¸å¯">è®¸å¯åè®®è¦æ±‚</span> ä¸å¾—è½¬è½½ã€‚ </span></li></ul></div></footer></article><div class="print:hidden my-6" itemprop="comment" itemscope="" itemtype="https://schema.org/Comment"><ile-root id="ile-17"></ile-root><script></script><script type="module" async="">import{h as r,c as m}from"/assets/iles.c6dd5c6f.js";import{_ as o}from"/assets/GiscusCommentsInner.28d9bb74.js";import"/assets/vendor-vue.0eea1c14.js";import"/assets/vite.5ce4fca4.js";import"/assets/useTheme.11613ee1.js";import"/assets/site.330e516b.js";r(m,o,"ile-17",{term:"CS:APP ç¬¬ä¸‰ç« å­¦ä¹ ç¬”è®°"},{});
</script></div><nav class="my-6 flex justify-between gap-6 lg:text-justify print:hidden"><div class="flex-1 flex"><a class="flex items-center gap-1 hover:text-hover" href="/post/2022/09/csapp-2"><span class="i-mdi-chevron-left"></span><span class="sr-only">ä¸Šä¸€ç¯‡</span><span class="break-anywhere">CS:APP ç¬¬äºŒç« å­¦ä¹ ç¬”è®°</span></a></div><div class="flex-1 flex justify-end"><a class="flex items-center gap-1 hover:text-hover flex-row-reverse" href="/post/2022/10/csapp-4"><span class="i-mdi-chevron-right"></span><span class="sr-only">ä¸‹ä¸€ç¯‡</span><span class="break-anywhere">CS:APP ç¬¬å››ç« å­¦ä¹ ç¬”è®°</span></a></div></nav></div></div></main><footer class="flex flex-col text-footer bg-card p-6 gap-1" itemprop="hasPart" itemscope="" itemtype="https://schema.org/WPFooter"><div class="flex justify-center items-center flex-wrap gap-x-1"><span>Copyright Â©</span><span>2022 - 2023</span><a class="flex items-center" href="/sponsor" title="èµèµæ”¯æŒ"><span class="i-mdi-heart text-red dark:text-red-7"></span></a><span>ouuan</span><span class="i-mdi-circle-small"></span><span title="å®é™…ä¸Šï¼Œä¸ºäº†ä¿æŠ¤ç”¨æˆ·éšç§ï¼ŒåŒä¸€ç”¨æˆ·çš„å¤šæ¬¡è®¿é—®åªæœ‰åœ¨åŒä¸€å¤©å†…ä½¿ç”¨åŒä¸€æµè§ˆå™¨åœ¨åŒä¸€ipä¸‹æ‰ä¼šè¢«ç®—ä½œåŒä¸€äºº"> å…±æœ‰ <ile-root id="ile-18"><span><span class="i-mdi-loading motion-safe:animate-spin"></span><span class="sr-only">åŠ è½½ä¸­</span></span></ile-root><script></script><script type="module" async="">var p=(o,a)=>()=>(a||o((a={exports:{}}).exports,a),a.exports);var r=(o,a,_)=>new Promise((c,n)=>{var f=t=>{try{e(_.next(t))}catch(i){n(i)}},l=t=>{try{e(_.throw(t))}catch(i){n(i)}},e=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);e((_=_.apply(o,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{a as s}from"/assets/iles.c6dd5c6f.js";import"/assets/vendor-vue.0eea1c14.js";var E=p(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.c6dd5c6f.js").then(o=>o.v),["assets/iles.c6dd5c6f.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/VisitorCount.81804d3b.js"),["assets/VisitorCount.81804d3b.js","assets/VisitorCount.83168c3c.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default});s(u,v,"ile-18",{},{})});export default E();
</script> äººåˆ°è®¿è¿‡è¿™é‡Œ </span></div><div class="flex justify-center items-center flex-wrap gap-x-1"> åŸºäº <a class="underline" href="https://github.com/ElMassimo/iles">Ã®les</a> åŠ <a class="underline" href="https://github.com/ouuan/iles-blog/blob/master/package.json">å¾ˆå¤šå…¶ä»–é¡¹ç›®</a><span class="i-mdi-circle-small"></span><span>ç”± ouuan è®¾è®¡/åˆ¶ä½œ</span><span class="i-mdi-circle-small"></span><a class="underline" href="https://github.com/ouuan/iles-blog">æºä»£ç </a><span class="i-mdi-circle-small"></span><a class="underline" href="https://github.com/ouuan/iles-blog/discussions">Discussions</a></div></footer><meta itemprop="copyrightYear" content="2022 - 2023"><div class="hidden" itemscope="" itemtype="https://schema.org/Person" itemprop="copyrightHolder"><meta itemprop="name" content="ouuan"><meta itemprop="givenName" content="Yufan"><meta itemprop="familyName" content="You"><meta itemprop="url" content="https://github.com/ouuan"><link itemprop="gender" href="https://schema.org/Male"><meta itemprop="image" content="/android-chrome-512x512.png"></div><ile-root id="ile-19"><button class="group floating-button bottom-10 flex-col" title="å‰å¾€åº•éƒ¨"><div aria-hidden="true" class="flex justify-center"><span class="i-mdi-chevron-double-up motion-safe:transition-font-size text-0"></span></div><div aria-hidden="true" class="text-0 group-hover:text-3.5 motion-safe:transition-font-size"></div><div aria-hidden="false" class="flex justify-center"><span class="i-mdi-chevron-double-down motion-safe:transition-font-size text-5 group-hover:text-3"></span></div></button></ile-root><script></script><script type="module" async="">var p=(o,a)=>()=>(a||o((a={exports:{}}).exports,a),a.exports);var r=(o,a,_)=>new Promise((c,n)=>{var f=t=>{try{e(_.next(t))}catch(i){n(i)}},l=t=>{try{e(_.throw(t))}catch(i){n(i)}},e=t=>t.done?c(t.value):Promise.resolve(t.value).then(f,l);e((_=_.apply(o,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{a as s}from"/assets/iles.c6dd5c6f.js";import"/assets/vendor-vue.0eea1c14.js";var E=p(m=>{const u=()=>r(m,null,function*(){return(yield d(()=>import("/assets/iles.c6dd5c6f.js").then(o=>o.v),["assets/iles.c6dd5c6f.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default}),v=()=>r(m,null,function*(){return(yield d(()=>import("/assets/BackToTop.47552dbb.js"),["assets/BackToTop.47552dbb.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default});s(u,v,"ile-19",{},{})});export default E();
</script><div class="hidden"></div><ile-root id="ile-20"></ile-root><script></script><script type="module" async="">var p=(t,a)=>()=>(a||t((a={exports:{}}).exports,a),a.exports);var e=(t,a,_)=>new Promise((c,n)=>{var f=o=>{try{i(_.next(o))}catch(r){n(r)}},l=o=>{try{i(_.throw(o))}catch(r){n(r)}},i=o=>o.done?c(o.value):Promise.resolve(o.value).then(f,l);i((_=_.apply(t,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{a as s}from"/assets/iles.c6dd5c6f.js";import"/assets/vendor-vue.0eea1c14.js";var u=p(m=>{const E=()=>e(m,null,function*(){return(yield d(()=>import("/assets/iles.c6dd5c6f.js").then(t=>t.d),["assets/iles.c6dd5c6f.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default}),h=()=>e(m,null,function*(){return(yield d(()=>import("/assets/PlausibleTrigger.2ab6dea5.js"),["assets/PlausibleTrigger.2ab6dea5.js","assets/plausible.4c5b3faa.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).onLoad});s(E,h,"ile-20",{},{})});export default u();
</script><div></div><ile-root id="ile-21"></ile-root><script></script><script type="module" async="">var p=(t,a)=>()=>(a||t((a={exports:{}}).exports,a),a.exports);var e=(t,a,_)=>new Promise((c,n)=>{var f=o=>{try{i(_.next(o))}catch(r){n(r)}},l=o=>{try{i(_.throw(o))}catch(r){n(r)}},i=o=>o.done?c(o.value):Promise.resolve(o.value).then(f,l);i((_=_.apply(t,a)).next())});import{_ as d}from"/assets/vite.5ce4fca4.js";import{a as s}from"/assets/iles.c6dd5c6f.js";import"/assets/vendor-vue.0eea1c14.js";var u=p(m=>{const E=()=>e(m,null,function*(){return(yield d(()=>import("/assets/iles.c6dd5c6f.js").then(t=>t.d),["assets/iles.c6dd5c6f.js","assets/vendor-vue.0eea1c14.js","assets/vite.5ce4fca4.js"])).default}),h=()=>e(m,null,function*(){return(yield d(()=>import("/assets/TextJustifyFix.4fa5e997.js"),[])).onLoad});s(E,h,"ile-21",{},{})});export default u();
</script><meta itemprop="inLanguage" content="zh-CN"></div>
  
</body></html>